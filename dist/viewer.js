!function(e){function t(r){if(n[r])return n[r].exports;var o=n[r]={exports:{},id:r,loaded:!1};return e[r].call(o.exports,o,o.exports,t),o.loaded=!0,o.exports}var n={};return t.m=e,t.c=n,t.p="",t(0)}([function(e,t,n){(function(t){e.exports=t.ArcticViewer=n(152)}).call(t,function(){return this}())},function(e,t){function n(){u=!1,a.length?l=a.concat(l):c=-1,l.length&&r()}function r(){if(!u){var e=setTimeout(n);u=!0;for(var t=l.length;t;){for(a=l,l=[];++c<t;)a&&a[c].run();c=-1,t=l.length}a=null,u=!1,clearTimeout(e)}}function o(e,t){this.fun=e,this.array=t}function i(){}var a,s=e.exports={},l=[],u=!1,c=-1;s.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];l.push(new o(e,t)),1!==l.length||u||setTimeout(r,0)},o.prototype.run=function(){this.fun.apply(null,this.array)},s.title="browser",s.browser=!0,s.env={},s.argv=[],s.version="",s.versions={},s.on=i,s.addListener=i,s.once=i,s.off=i,s.removeListener=i,s.removeAllListeners=i,s.emit=i,s.binding=function(e){throw new Error("process.binding is not supported")},s.cwd=function(){return"/"},s.chdir=function(e){throw new Error("process.chdir is not supported")},s.umask=function(){return 0}},function(e,t,n){"use strict";e.exports=n(338)},function(e,t,n){(function(t){"use strict";var n=function(e,n,r,o,i,a,s,l){if("production"!==t.env.NODE_ENV&&void 0===n)throw new Error("invariant requires an error message argument");if(!e){var u;if(void 0===n)u=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var c=[r,o,i,a,s,l],p=0;u=new Error("Invariant Violation: "+n.replace(/%s/g,function(){return c[p++]}))}throw u.framesToPop=1,u}};e.exports=n}).call(t,n(1))},function(e,t){"use strict";function n(e,t){if(null==e)throw new TypeError("Object.assign target cannot be null or undefined");for(var n=Object(e),r=Object.prototype.hasOwnProperty,o=1;o<arguments.length;o++){var i=arguments[o];if(null!=i){var a=Object(i);for(var s in a)r.call(a,s)&&(n[s]=a[s])}}return n}e.exports=n},function(e,t,n){(function(t){"use strict";var r=n(19),o=r;"production"!==t.env.NODE_ENV&&(o=function(e,t){for(var n=arguments.length,r=Array(n>2?n-2:0),o=2;n>o;o++)r[o-2]=arguments[o];if(void 0===t)throw new Error("`warning(condition, format, ...args)` requires a warning message argument");if(0!==t.indexOf("Failed Composite propType: ")&&!e){var i=0,a="Warning: "+t.replace(/%s/g,function(){return r[i++]});"undefined"!=typeof console&&console.error(a);try{throw new Error(a)}catch(s){}}}),e.exports=o}).call(t,n(1))},function(e,t){e.exports=function(){var e=[];return e.toString=function(){for(var e=[],t=0;t<this.length;t++){var n=this[t];n[2]?e.push("@media "+n[2]+"{"+n[1]+"}"):e.push(n[1])}return e.join("")},e.i=function(t,n){"string"==typeof t&&(t=[[null,t,""]]);for(var r={},o=0;o<this.length;o++){var i=this[o][0];"number"==typeof i&&(r[i]=!0)}for(o=0;o<t.length;o++){var a=t[o];"number"==typeof a[0]&&r[a[0]]||(n&&!a[2]?a[2]=n:n&&(a[2]="("+a[2]+") and ("+n+")"),e.push(a))}},e}},function(e,t,n){function r(e,t){for(var n=0;n<e.length;n++){var r=e[n],o=f[r.id];if(o){o.refs++;for(var i=0;i<o.parts.length;i++)o.parts[i](r.parts[i]);for(;i<r.parts.length;i++)o.parts.push(u(r.parts[i],t))}else{for(var a=[],i=0;i<r.parts.length;i++)a.push(u(r.parts[i],t));f[r.id]={id:r.id,refs:1,parts:a}}}}function o(e){for(var t=[],n={},r=0;r<e.length;r++){var o=e[r],i=o[0],a=o[1],s=o[2],l=o[3],u={css:a,media:s,sourceMap:l};n[i]?n[i].parts.push(u):t.push(n[i]={id:i,parts:[u]})}return t}function i(e,t){var n=m(),r=y[y.length-1];if("top"===e.insertAt)r?r.nextSibling?n.insertBefore(t,r.nextSibling):n.appendChild(t):n.insertBefore(t,n.firstChild),y.push(t);else{if("bottom"!==e.insertAt)throw new Error("Invalid value for parameter 'insertAt'. Must be 'top' or 'bottom'.");n.appendChild(t)}}function a(e){e.parentNode.removeChild(e);var t=y.indexOf(e);t>=0&&y.splice(t,1)}function s(e){var t=document.createElement("style");return t.type="text/css",i(e,t),t}function l(e){var t=document.createElement("link");return t.rel="stylesheet",i(e,t),t}function u(e,t){var n,r,o;if(t.singleton){var i=b++;n=v||(v=s(t)),r=c.bind(null,n,i,!1),o=c.bind(null,n,i,!0)}else e.sourceMap&&"function"==typeof URL&&"function"==typeof URL.createObjectURL&&"function"==typeof URL.revokeObjectURL&&"function"==typeof Blob&&"function"==typeof btoa?(n=l(t),r=d.bind(null,n),o=function(){a(n),n.href&&URL.revokeObjectURL(n.href)}):(n=s(t),r=p.bind(null,n),o=function(){a(n)});return r(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap)return;r(e=t)}else o()}}function c(e,t,n,r){var o=n?"":r.css;if(e.styleSheet)e.styleSheet.cssText=_(t,o);else{var i=document.createTextNode(o),a=e.childNodes;a[t]&&e.removeChild(a[t]),a.length?e.insertBefore(i,a[t]):e.appendChild(i)}}function p(e,t){var n=t.css,r=t.media;t.sourceMap;if(r&&e.setAttribute("media",r),e.styleSheet)e.styleSheet.cssText=n;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(n))}}function d(e,t){var n=t.css,r=(t.media,t.sourceMap);r&&(n+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(r))))+" */");var o=new Blob([n],{type:"text/css"}),i=e.href;e.href=URL.createObjectURL(o),i&&URL.revokeObjectURL(i)}var f={},h=function(e){var t;return function(){return"undefined"==typeof t&&(t=e.apply(this,arguments)),t}},g=h(function(){return/msie [6-9]\b/.test(window.navigator.userAgent.toLowerCase())}),m=h(function(){return document.head||document.getElementsByTagName("head")[0]}),v=null,b=0,y=[];e.exports=function(e,t){t=t||{},"undefined"==typeof t.singleton&&(t.singleton=g()),"undefined"==typeof t.insertAt&&(t.insertAt="bottom");var n=o(e);return r(n,t),function(e){for(var i=[],a=0;a<n.length;a++){var s=n[a],l=f[s.id];l.refs--,i.push(l)}if(e){var u=o(e);r(u,t)}for(var a=0;a<i.length;a++){var l=i[a];if(0===l.refs){for(var c=0;c<l.parts.length;c++)l.parts[c]();delete f[l.id]}}}};var _=function(){var e=[];return function(t,n){return e[t]=n,e.filter(Boolean).join("\n")}}()},function(e,t){"use strict";var n=!("undefined"==typeof window||!window.document||!window.document.createElement),r={canUseDOM:n,canUseWorkers:"undefined"!=typeof Worker,canUseEventListeners:n&&!(!window.addEventListener&&!window.attachEvent),canUseViewport:n&&!!window.screen,isInWorker:!n};e.exports=r},function(e,t){e.exports="\n\nattribute vec2 a_position;\nattribute vec2 a_texCoord;\n\nvarying vec2 v_texCoord;\n\nvoid main() {\n    gl_Position = vec4(a_position.xy, 0.0, 1.0);\n    v_texCoord = a_texCoord;\n}\n"},function(e,t,n){(function(t){"use strict";function r(e,t){for(var n=Math.min(e.length,t.length),r=0;n>r;r++)if(e.charAt(r)!==t.charAt(r))return r;return e.length===t.length?-1:n}function o(e){return e?e.nodeType===X?e.documentElement:e.firstChild:null}function i(e){var t=o(e);return t&&ee.getID(t)}function a(e){var n=s(e);if(n)if(z.hasOwnProperty(n)){var r=z[n];r!==e&&(p(r,n)?"production"!==t.env.NODE_ENV?L(!1,"ReactMount: Two valid but unequal nodes with the same `%s`: %s",W,n):L(!1):void 0,z[n]=e)}else z[n]=e;return n}function s(e){return e&&e.getAttribute&&e.getAttribute(W)||""}function l(e,t){var n=s(e);n!==t&&delete z[n],e.setAttribute(W,t),z[t]=e}function u(e){return z.hasOwnProperty(e)&&p(z[e],e)||(z[e]=ee.findReactNodeByID(e)),z[e]}function c(e){var t=M.get(e)._rootNodeID;return D.isNullComponentID(t)?null:(z.hasOwnProperty(t)&&p(z[t],t)||(z[t]=ee.findReactNodeByID(t)),z[t])}function p(e,n){if(e){s(e)!==n?"production"!==t.env.NODE_ENV?L(!1,"ReactMount: Unexpected modification of `%s`",W):L(!1):void 0;var r=ee.findReactContainerForID(n);if(r&&I(r,e))return!0}return!1}function d(e){delete z[e]}function f(e){var t=z[e];return t&&p(t,e)?void(J=t):!1}function h(e){J=null,T.traverseAncestors(e,f);var t=J;return J=null,t}function g(e,n,r,o,i,a){if(C.useCreateElement&&(a=O({},a),r.nodeType===X?a[H]=r:a[H]=r.ownerDocument),"production"!==t.env.NODE_ENV){a===A&&(a={});var s=r.nodeName.toLowerCase();a[B.ancestorInfoContextKey]=B.updatedAncestorInfo(null,s,null)}var l=P.mountComponent(e,n,o,a);e._renderedComponent._topLevelWrapper=e,ee._mountImageIntoNode(l,r,i,o)}function m(e,t,n,r,o){var i=S.ReactReconcileTransaction.getPooled(r);i.perform(g,null,e,t,n,i,r,o),S.ReactReconcileTransaction.release(i)}function v(e,t){for(P.unmountComponent(e),t.nodeType===X&&(t=t.documentElement);t.lastChild;)t.removeChild(t.lastChild)}function b(e){var t=i(e);return t?t!==T.getReactRootIDFromNodeID(t):!1}function y(e){for(;e&&e.parentNode!==e;e=e.parentNode)if(1===e.nodeType){var t=s(e);if(t){var n,r=T.getReactRootIDFromNodeID(t),o=e;do if(n=s(o),o=o.parentNode,null==o)return null;while(n!==r);if(o===Q[r])return e}}return null}var _=n(26),x=n(50),E=n(22),C=n(130),w=n(14),D=n(137),T=n(29),M=n(40),k=n(140),N=n(17),P=n(27),R=n(80),S=n(18),O=n(4),A=n(35),I=n(108),F=n(87),L=n(3),U=n(57),V=n(90),B=n(92),j=n(5),W=_.ID_ATTRIBUTE_NAME,z={},q=1,X=9,Y=11,H="__ReactMount_ownerDocument$"+Math.random().toString(36).slice(2),G={},Q={};if("production"!==t.env.NODE_ENV)var Z={};var K=[],J=null,$=function(){};$.prototype.isReactComponent={},"production"!==t.env.NODE_ENV&&($.displayName="TopLevelWrapper"),$.prototype.render=function(){return this.props};var ee={TopLevelWrapper:$,_instancesByReactRootID:G,scrollMonitor:function(e,t){t()},_updateRootComponent:function(e,n,r,a){return ee.scrollMonitor(r,function(){R.enqueueElementInternal(e,n),a&&R.enqueueCallbackInternal(e,a)}),"production"!==t.env.NODE_ENV&&(Z[i(r)]=o(r)),e},_registerComponent:function(e,n){!n||n.nodeType!==q&&n.nodeType!==X&&n.nodeType!==Y?"production"!==t.env.NODE_ENV?L(!1,"_registerComponent(...): Target container is not a DOM element."):L(!1):void 0,x.ensureScrollValueMonitoring();var r=ee.registerContainer(n);return G[r]=e,r},_renderNewRootComponent:function(e,n,r,i){"production"!==t.env.NODE_ENV?j(null==E.current,"_renderNewRootComponent(): Render methods should be a pure function of props and state; triggering nested component updates from render is not allowed. If necessary, trigger nested updates in componentDidUpdate. Check the render method of %s.",E.current&&E.current.getName()||"ReactCompositeComponent"):void 0;var a=F(e,null),s=ee._registerComponent(a,n);return S.batchedUpdates(m,a,s,n,r,i),"production"!==t.env.NODE_ENV&&(Z[s]=o(n)),a},renderSubtreeIntoContainer:function(e,n,r,o){return null==e||null==e._reactInternalInstance?"production"!==t.env.NODE_ENV?L(!1,"parentComponent must be a valid React Component"):L(!1):void 0,ee._renderSubtreeIntoContainer(e,n,r,o)},_renderSubtreeIntoContainer:function(e,n,r,a){w.isValidElement(n)?void 0:"production"!==t.env.NODE_ENV?L(!1,"ReactDOM.render(): Invalid component element.%s","string"==typeof n?" Instead of passing an element string, make sure to instantiate it by passing it to React.createElement.":"function"==typeof n?" Instead of passing a component class, make sure to instantiate it by passing it to React.createElement.":null!=n&&void 0!==n.props?" This may be caused by unintentionally loading two independent copies of React.":""):L(!1),"production"!==t.env.NODE_ENV?j(!r||!r.tagName||"BODY"!==r.tagName.toUpperCase(),"render(): Rendering components directly into document.body is discouraged, since its children are often manipulated by third-party scripts and browser extensions. This may lead to subtle reconciliation issues. Try rendering into a container element created for your app."):void 0;var l=new w($,null,null,null,null,null,n),u=G[i(r)];if(u){var c=u._currentElement,p=c.props;if(V(p,n)){var d=u._renderedComponent.getPublicInstance(),f=a&&function(){a.call(d)};return ee._updateRootComponent(u,l,r,f),d}ee.unmountComponentAtNode(r)}var h=o(r),g=h&&!!s(h),m=b(r);if("production"!==t.env.NODE_ENV&&("production"!==t.env.NODE_ENV?j(!m,"render(...): Replacing React-rendered children with a new root component. If you intended to update the children of this node, you should instead have the existing children update their state and render the new components instead of calling ReactDOM.render."):void 0,!g||h.nextSibling))for(var v=h;v;){if(s(v)){"production"!==t.env.NODE_ENV?j(!1,"render(): Target node has markup rendered by React, but there are unrelated nodes as well. This is most commonly caused by white-space inserted around server-rendered markup."):void 0;break}v=v.nextSibling}var y=g&&!u&&!m,_=ee._renderNewRootComponent(l,r,y,null!=e?e._reactInternalInstance._processChildContext(e._reactInternalInstance._context):A)._renderedComponent.getPublicInstance();return a&&a.call(_),_},render:function(e,t,n){return ee._renderSubtreeIntoContainer(null,e,t,n)},registerContainer:function(e){var t=i(e);return t&&(t=T.getReactRootIDFromNodeID(t)),t||(t=T.createReactRootID()),Q[t]=e,t},unmountComponentAtNode:function(e){"production"!==t.env.NODE_ENV?j(null==E.current,"unmountComponentAtNode(): Render methods should be a pure function of props and state; triggering nested component updates from render is not allowed. If necessary, trigger nested updates in componentDidUpdate. Check the render method of %s.",E.current&&E.current.getName()||"ReactCompositeComponent"):void 0,!e||e.nodeType!==q&&e.nodeType!==X&&e.nodeType!==Y?"production"!==t.env.NODE_ENV?L(!1,"unmountComponentAtNode(...): Target container is not a DOM element."):L(!1):void 0;var n=i(e),r=G[n];if(!r){var o=b(e),a=s(e),l=a&&a===T.getReactRootIDFromNodeID(a);return"production"!==t.env.NODE_ENV&&("production"!==t.env.NODE_ENV?j(!o,"unmountComponentAtNode(): The node you're attempting to unmount was rendered by React and is not a top-level container. %s",l?"You may have accidentally passed in a React root node instead of its container.":"Instead, have the parent component update its state and rerender in order to remove this component."):void 0),!1}return S.batchedUpdates(v,r,e),delete G[n],delete Q[n],"production"!==t.env.NODE_ENV&&delete Z[n],!0},findReactContainerForID:function(e){var n=T.getReactRootIDFromNodeID(e),r=Q[n];if("production"!==t.env.NODE_ENV){var o=Z[n];if(o&&o.parentNode!==r){"production"!==t.env.NODE_ENV?j(s(o)===n,"ReactMount: Root element ID differed from reactRootID."):void 0;var i=r.firstChild;i&&n===s(i)?Z[n]=i:"production"!==t.env.NODE_ENV?j(!1,"ReactMount: Root element has been removed from its original container. New container: %s",o.parentNode):void 0}}return r},findReactNodeByID:function(e){var t=ee.findReactContainerForID(e);return ee.findComponentRoot(t,e)},getFirstReactDOM:function(e){return y(e)},findComponentRoot:function(e,n){var r=K,o=0,i=h(n)||e;for("production"!==t.env.NODE_ENV&&("production"!==t.env.NODE_ENV?j(null!=i,"React can't find the root component node for data-reactid value `%s`. If you're seeing this message, it probably means that you've loaded two copies of React on the page. At this time, only a single copy of React can be loaded at a time.",n):void 0),r[0]=i.firstChild,r.length=1;o<r.length;){for(var a,s=r[o++];s;){var l=ee.getID(s);l?n===l?a=s:T.isAncestorIDOf(l,n)&&(r.length=o=0,r.push(s.firstChild)):r.push(s.firstChild),s=s.nextSibling}if(a)return r.length=0,a}r.length=0,"production"!==t.env.NODE_ENV?L(!1,"findComponentRoot(..., %s): Unable to find element. This probably means the DOM was unexpectedly mutated (e.g., by the browser), usually due to forgetting a <tbody> when using tables, nesting tags like <form>, <p>, or <a>, or using non-SVG elements in an <svg> parent. Try inspecting the child nodes of the element with React ID `%s`.",n,ee.getID(e)):L(!1)},_mountImageIntoNode:function(e,n,i,a){if(!n||n.nodeType!==q&&n.nodeType!==X&&n.nodeType!==Y?"production"!==t.env.NODE_ENV?L(!1,"mountComponentIntoNode(...): Target container is not valid."):L(!1):void 0,i){var s=o(n);if(k.canReuseMarkup(e,s))return;var l=s.getAttribute(k.CHECKSUM_ATTR_NAME);s.removeAttribute(k.CHECKSUM_ATTR_NAME);var u=s.outerHTML;s.setAttribute(k.CHECKSUM_ATTR_NAME,l);var c=e;if("production"!==t.env.NODE_ENV){var p;n.nodeType===q?(p=document.createElement("div"),p.innerHTML=e,c=p.innerHTML):(p=document.createElement("iframe"),document.body.appendChild(p),p.contentDocument.write(e),c=p.contentDocument.documentElement.outerHTML,document.body.removeChild(p))}var d=r(c,u),f=" (client) "+c.substring(d-20,d+20)+"\n (server) "+u.substring(d-20,d+20);n.nodeType===X?"production"!==t.env.NODE_ENV?L(!1,"You're trying to render a component to the document using server rendering but the checksum was invalid. This usually means you rendered a different component type or props on the client from the one on the server, or your render() methods are impure. React cannot handle this case due to cross-browser quirks by rendering at the document root. You should look for environment dependent code in your components and ensure the props are the same client and server side:\n%s",f):L(!1):void 0,"production"!==t.env.NODE_ENV&&("production"!==t.env.NODE_ENV?j(!1,"React attempted to reuse markup in a container but the checksum was invalid. This generally means that you are using server rendering and the markup generated on the server was not what the client was expecting. React injected new markup to compensate which works but you have lost many of the benefits of server rendering. Instead, figure out why the markup being generated is different on the client or server:\n%s",f):void 0)}if(n.nodeType===X?"production"!==t.env.NODE_ENV?L(!1,"You're trying to render a component to the document but you didn't use server rendering. We can't do this without using server rendering due to cross-browser quirks. See ReactDOMServer.renderToString() for server rendering."):L(!1):void 0,a.useCreateElement){for(;n.lastChild;)n.removeChild(n.lastChild);n.appendChild(e)}else U(n,e)},ownerDocumentContextKey:H,getReactRootID:i,getID:a,setID:l,getNode:u,getNodeFromInstance:c,isValid:p,purgeID:d};N.measureMethods(ee,"ReactMount",{_renderNewRootComponent:"_renderNewRootComponent",_mountImageIntoNode:"_mountImageIntoNode"}),e.exports=ee}).call(t,n(1))},function(e,t,n){var r,o;!function(i,a){r=[n(297),n(384)],o=function(e,t){return a(e,t,i)}.apply(t,r),!(void 0!==o&&(e.exports=o))}(this,function(e,t,n,r){function o(e,t){return function(){if(console.warn||console.log){var n="Warning, the "+e+" method has been deprecated. Please use "+t+" instead.";console.warn?console.warn(n):console.log(n)}return c.prototype[t].apply(this,arguments)}}function i(e,t,n){return function(r){b.resolver.compare(r.topic,e)&&(t.push(r),r.cacheKeys.push(e),n&&n(r))}}function a(e,t,n){return function(r,o,i){r===e&&i.splice(o,1),0===i.length&&delete n[t]}}function s(t,n,r,o){if(t.inactive=!0,o.splice(r,1),t.cacheKeys&&t.cacheKeys.length)for(var i;i=t.cacheKeys.pop();)e.each(n._cache[i],a(t,i,n._cache))}var l="|",u={cache:{},regex:{},compare:function(t,n){var r,o,i,a=this.cache[n+l+t];return a===!0?a:-1===t.indexOf("#")&&-1===t.indexOf("*")?a=this.cache[n+l+t]=n===t:((o=this.regex[t])||(r="^"+e.map(t.split("."),function(e){var t="";return i&&(t="#"!==i?"\\.\\b":"\\b"),t+="#"===e?"[\\s\\S]*":"*"===e?"[^.]+":e,i=e,t}).join("")+"$",o=this.regex[t]=new RegExp(r)),a=this.cache[n+l+t]=o.test(n))},reset:function(){this.cache={},this.regex={}},purge:function(t){var n=this,r=function(e,r){var o=r.split(l),i=o[0],a=o[1];"undefined"!=typeof t.topic&&t.topic!==i||"undefined"!=typeof t.binding&&t.binding!==a||delete n.cache[r]};"undefined"==typeof t?this.reset():e.each(this.cache,r)}},c=function(e,t,n){this.topic=e,this.callback=t,this.pipeline=[],this.cacheKeys=[],this._context=r,this.emitter=n},p=function(){var t;return function(n){var r=!1;return e.isString(n)?(r=n===t,t=n):(r=e.isEqual(n,t),t=e.clone(n)),!r}},d=function(){var t=[];return function(n){var r=!e.any(t,function(t){return e.isObject(n)||e.isArray(n)?e.isEqual(n,t):n===t});return r&&t.push(n),r}};c.prototype={"catch":function(e){var t=this.callback,n=function(){try{t.apply(this,arguments)}catch(n){e(n,arguments[0])}};return this.callback=n,this},defer:function(){return this.delay(0)},disposeAfter:function(t){if(!e.isNumber(t)||0>=t)throw new Error("The value provided to disposeAfter (maxCalls) must be a number greater than zero.");var n=this,r=e.after(t,e.bind(function(){n.unsubscribe()}));return n.pipeline.push(function(e,t,n){n(e,t),r()}),n},distinct:function(){return this.constraint(new d)},distinctUntilChanged:function(){return this.constraint(new p)},invokeSubscriber:function(e,t){if(!this.inactive){var n=this,r=n.pipeline,o=r.length,i=n._context,a=-1;if(o){r=r.concat([n.callback]);var s=function l(e,t){a+=1,o>a?r[a].call(i,e,t,l):n.callback.call(i,e,t)};s(e,t,0)}else n.callback.call(i,e,t)}},logError:function(){if(console){var e;e=console.warn?console.warn:console.log,this["catch"](e)}return this},once:function(){return this.disposeAfter(1)},unsubscribe:function(){this.inactive||this.emitter.off(this)},constraint:function(t){if(!e.isFunction(t))throw new Error("Predicate constraint must be a function");return this.pipeline.push(function(e,n,r){t.call(this,e,n)&&r(e,n)}),this},constraints:function(t){var n=this;return e.isArray(t)&&e.each(t,function(e){n.constraint(e)}),n},context:function(e){return this._context=e,this},debounce:function(t,n){if(!e.isNumber(t))throw new Error("Milliseconds must be a number");return this.pipeline.push(e.debounce(function(e,t,n){n(e,t)},t,!!n)),this},delay:function(t){if(!e.isNumber(t))throw new Error("Milliseconds must be a number");var n=this;return n.pipeline.push(function(e,n,r){setTimeout(function(){r(e,n)},t)}),this},throttle:function(t){if(!e.isNumber(t))throw new Error("Milliseconds must be a number");var n=function(e,t,n){n(e,t)};return this.pipeline.push(e.throttle(n,t)),this}},c.prototype.off=c.prototype.unsubscribe;for(var f=["withConstraint","withConstraints","withContext","withDebounce","withDelay","withThrottle"],h=["constraint","constraints","context","debounce","delay","throttle"],g=0;6>g;g++){var m=f[g];c.prototype[m]=o(m,h[g])}var v=Array.prototype.slice,b=function(){};return b.prototype={on:function(t,n){var r=this;r._subscriptions=r._subscriptions||{},r._subscriptions[t]=r._subscriptions[t]||[];var o=new c(t,n,r);return r._subscriptions[t].push(o),e.each(r._cache,function(e,t){i(t,e)(o)}),r._subscriptions[t][r._subscriptions[t].length-1]},once:function(e,t){return this.on(e,t).once()},off:function(t,n){var r=this;switch(r._subscriptions=r._subscriptions||{},r._cache=r._cache||{},arguments.length){case 0:e.each(r._subscriptions,function(t){e.each(t,function(e,n){s(e,r,n,t)})}),r._subscriptions={};break;case 1:var o="[object String]"===Object.prototype.toString.call(t)?"topic":t instanceof c?"def":"context";switch(o){case"topic":r._subscriptions[t]&&e.each(r._subscriptions[t],function(e,n){s(e,r,n,r._subscriptions[t])});break;case"context":e.each(r._subscriptions,function(n){e.each(e.clone(n),function(e,o){e._context===t&&s(e,r,o,n)})});break;default:e.each(r._subscriptions[t.topic],function(e,n){e===t&&s(e,r,n,r._subscriptions[t.topic])})}break;default:e.each(e.clone(r._subscriptions[t]),function(e,o){e._context===n&&s(e,r,o,r._subscriptions[t])})}},emit:function(t,n){var r=this.getEnvelope(t,n);this._cache=this._cache||{};var o=this._cache[t],a=function(e){e.invokeSubscriber(r.data,r)};if(o)e.each(v.call(o,0),a);else{o=this._cache[t]=[];var s=i(t,o,a);e.each(this._subscriptions,function(t){e.each(v.call(t,0),s)})}},getEnvelope:function(e,t){return{topic:e,timeStamp:new Date,data:t}}},b.resolver=u,b.debug=!1,b.SubscriptionDefinition=c,t(b),b.mixInto=function(e){t.punch(e,b.prototype)},b})},function(e,t,n){"use strict";e.exports=n(129)},function(e,t){"use strict";function n(e,t){this.id="CanvasOffscreenBuffer_"+ ++r,this.el=document.createElement("canvas"),this.width=e,this.height=t,this.el.style.display="none",this.el.setAttribute("width",this.width),this.el.setAttribute("height",this.height),document.body.appendChild(this.el)}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=n;var r=0;n.prototype.size=function(e,t){return e&&this.el.setAttribute("width",this.width=e),t&&this.el.setAttribute("height",this.height=t),[Number(this.width),Number(this.height)]},n.prototype.get2DContext=function(){return this.el.getContext("2d")},n.prototype.get3DContext=function(){var e=arguments.length<=0||void 0===arguments[0]?{preserveDrawingBuffer:!0,premultipliedAlpha:!1}:arguments[0];return this.el.getContext("webgl",e)||this.el.getContext("experimental-webgl",e)},n.prototype.destroy=function(){this.el.parentNode.removeChild(this.el),this.el=null,this.width=null,this.height=null},n.prototype.toDataURL=function(e,t){return this.el.toDataURL(e,t)}},function(e,t,n){(function(t){"use strict";var r=n(22),o=n(4),i=n(55),a="function"==typeof Symbol&&Symbol["for"]&&Symbol["for"]("react.element")||60103,s={key:!0,ref:!0,__self:!0,__source:!0},l=function(e,n,r,o,s,l,u){var c={$$typeof:a,type:e,key:n,ref:r,props:u,_owner:l};return"production"!==t.env.NODE_ENV&&(c._store={},i?(Object.defineProperty(c._store,"validated",{configurable:!1,enumerable:!1,writable:!0,value:!1}),Object.defineProperty(c,"_self",{configurable:!1,enumerable:!1,writable:!1,value:o}),Object.defineProperty(c,"_source",{configurable:!1,enumerable:!1,writable:!1,value:s})):(c._store.validated=!1,c._self=o,c._source=s),Object.freeze(c.props),Object.freeze(c)),c};l.createElement=function(e,t,n){var o,i={},a=null,u=null,c=null,p=null;if(null!=t){u=void 0===t.ref?null:t.ref,a=void 0===t.key?null:""+t.key,c=void 0===t.__self?null:t.__self,p=void 0===t.__source?null:t.__source;for(o in t)t.hasOwnProperty(o)&&!s.hasOwnProperty(o)&&(i[o]=t[o])}var d=arguments.length-2;if(1===d)i.children=n;else if(d>1){for(var f=Array(d),h=0;d>h;h++)f[h]=arguments[h+2];i.children=f}if(e&&e.defaultProps){var g=e.defaultProps;for(o in g)"undefined"==typeof i[o]&&(i[o]=g[o])}return l(e,a,u,c,p,r.current,i)},l.createFactory=function(e){var t=l.createElement.bind(null,e);return t.type=e,t},l.cloneAndReplaceKey=function(e,t){var n=l(e.type,t,e.ref,e._self,e._source,e._owner,e.props);return n},l.cloneAndReplaceProps=function(e,n){var r=l(e.type,e.key,e.ref,e._self,e._source,e._owner,n);return"production"!==t.env.NODE_ENV&&(r._store.validated=e._store.validated),r},l.cloneElement=function(e,t,n){var i,a=o({},e.props),u=e.key,c=e.ref,p=e._self,d=e._source,f=e._owner;if(null!=t){void 0!==t.ref&&(c=t.ref,f=r.current),void 0!==t.key&&(u=""+t.key);for(i in t)t.hasOwnProperty(i)&&!s.hasOwnProperty(i)&&(a[i]=t[i])}var h=arguments.length-2;if(1===h)a.children=n;else if(h>1){for(var g=Array(h),m=0;h>m;m++)g[m]=arguments[m+2];a.children=g}return l(e.type,u,c,p,d,f,a)},l.isValidElement=function(e){return"object"==typeof e&&null!==e&&e.$$typeof===a},e.exports=l}).call(t,n(1))},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(2),i=r(o);n(258),t["default"]=i["default"].createClass({displayName:"CollapsibleElement",propTypes:{title:i["default"].PropTypes.string,subtitle:i["default"].PropTypes.oneOfType([i["default"].PropTypes.object,i["default"].PropTypes.string]),open:i["default"].PropTypes.bool,visible:i["default"].PropTypes.bool,onChange:i["default"].PropTypes.func},getInitialState:function(){return{open:this.props.open}},getDefaultProps:function(){return{title:"",subtitle:"",open:!0,visible:!0}},toggleOpen:function(){var e=!this.state.open;this.setState({open:e}),this.props.onChange&&this.props.onChange(e)},isCollapsed:function(){return this.state.open===!1},isExpanded:function(){return this.state.open===!0},render:function(){var e={};return this.props.visible||(e.display="none"),i["default"].createElement("section",{className:"CollapsibleElement",style:e},i["default"].createElement("div",{className:"CollapsibleElement_header"},i["default"].createElement("div",{className:"clickable-area",onClick:this.toggleOpen},i["default"].createElement("i",{className:(this.state.open?"":"closed ")+"fa fa-fw fa-caret-down"}),i["default"].createElement("strong",null,this.props.title)),i["default"].createElement("span",null,this.props.subtitle)),i["default"].createElement("div",{className:this.state.open?"CollapsibleElement_content":"CollapsibleElement_content is-hidden"},this.props.children))}})},function(e,t,n){var r,o;r=[n(314)],o=function(e){function t(t,n){return-1!==e(t,n)}return t}.apply(t,r),!(void 0!==o&&(e.exports=o))},function(e,t,n){(function(t){"use strict";function n(e,t,n){return n}var r={enableMeasure:!1,storedMeasure:n,measureMethods:function(e,n,o){if("production"!==t.env.NODE_ENV)for(var i in o)o.hasOwnProperty(i)&&(e[i]=r.measure(n,o[i],e[i]))},measure:function(e,n,o){if("production"!==t.env.NODE_ENV){var i=null,a=function(){return r.enableMeasure?(i||(i=r.storedMeasure(e,n,o)),i.apply(this,arguments)):o.apply(this,arguments)};return a.displayName=e+"_"+n,a}return o},injection:{injectMeasure:function(e){r.storedMeasure=e}}};e.exports=r}).call(t,n(1))},function(e,t,n){(function(t){"use strict";function r(){T.ReactReconcileTransaction&&_?void 0:"production"!==t.env.NODE_ENV?m(!1,"ReactUpdates: must inject a reconcile transaction class and batching strategy"):m(!1)}function o(){this.reinitializeTransaction(),this.dirtyComponentsLength=null,this.callbackQueue=c.getPooled(),this.reconcileTransaction=T.ReactReconcileTransaction.getPooled(!1)}function i(e,t,n,o,i,a){r(),_.batchedUpdates(e,t,n,o,i,a)}function a(e,t){return e._mountOrder-t._mountOrder}function s(e){var n=e.dirtyComponentsLength;n!==v.length?"production"!==t.env.NODE_ENV?m(!1,"Expected flush transaction's stored dirty-components length (%s) to match dirty-components array length (%s).",n,v.length):m(!1):void 0,v.sort(a);for(var r=0;n>r;r++){var o=v[r],i=o._pendingCallbacks;if(o._pendingCallbacks=null,f.performUpdateIfNecessary(o,e.reconcileTransaction),i)for(var s=0;s<i.length;s++)e.callbackQueue.enqueue(i[s],o.getPublicInstance())}}function l(e){return r(),_.isBatchingUpdates?void v.push(e):void _.batchedUpdates(l,e)}function u(e,n){_.isBatchingUpdates?void 0:"production"!==t.env.NODE_ENV?m(!1,"ReactUpdates.asap: Can't enqueue an asap callback in a context whereupdates are not being batched."):m(!1),b.enqueue(e,n),y=!0}var c=n(74),p=n(25),d=n(17),f=n(27),h=n(54),g=n(4),m=n(3),v=[],b=c.getPooled(),y=!1,_=null,x={initialize:function(){this.dirtyComponentsLength=v.length},close:function(){this.dirtyComponentsLength!==v.length?(v.splice(0,this.dirtyComponentsLength),w()):v.length=0}},E={initialize:function(){this.callbackQueue.reset()},close:function(){this.callbackQueue.notifyAll()}},C=[x,E];g(o.prototype,h.Mixin,{getTransactionWrappers:function(){return C},destructor:function(){this.dirtyComponentsLength=null,c.release(this.callbackQueue),this.callbackQueue=null,T.ReactReconcileTransaction.release(this.reconcileTransaction),this.reconcileTransaction=null},perform:function(e,t,n){return h.Mixin.perform.call(this,this.reconcileTransaction.perform,this.reconcileTransaction,e,t,n)}}),p.addPoolingTo(o);var w=function(){for(;v.length||y;){if(v.length){var e=o.getPooled();e.perform(s,null,e),o.release(e)}if(y){y=!1;var t=b;b=c.getPooled(),t.notifyAll(),c.release(t)}}};w=d.measure("ReactUpdates","flushBatchedUpdates",w);var D={injectReconcileTransaction:function(e){e?void 0:"production"!==t.env.NODE_ENV?m(!1,"ReactUpdates: must provide a reconcile transaction class"):m(!1),T.ReactReconcileTransaction=e},injectBatchingStrategy:function(e){e?void 0:"production"!==t.env.NODE_ENV?m(!1,"ReactUpdates: must provide a batching strategy"):m(!1),"function"!=typeof e.batchedUpdates?"production"!==t.env.NODE_ENV?m(!1,"ReactUpdates: must provide a batchedUpdates() function"):m(!1):void 0,"boolean"!=typeof e.isBatchingUpdates?"production"!==t.env.NODE_ENV?m(!1,"ReactUpdates: must provide an isBatchingUpdates boolean attribute"):m(!1):void 0,_=e}},T={ReactReconcileTransaction:null,batchedUpdates:i,enqueueUpdate:l,flushBatchedUpdates:w,injection:D,asap:u};e.exports=T}).call(t,n(1))},function(e,t){"use strict";function n(e){
return function(){return e}}function r(){}r.thatReturns=n,r.thatReturnsFalse=n(!1),r.thatReturnsTrue=n(!0),r.thatReturnsNull=n(null),r.thatReturnsThis=function(){return this},r.thatReturnsArgument=function(e){return e},e.exports=r},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();Object.defineProperty(t,"__esModule",{value:!0});var a=n(11),s=r(a),l="image-ready",u=function(){function e(t){var n=t.queryDataModel,r=t.pipelineModel,i=t.lookupTableManager,a=t.handleRecord,s=void 0===a?!1:a,l=t.dimensions,u=void 0===l?[500,500]:l;o(this,e),this.queryDataModel=n,this.pipelineModel=r,this.lookupTableManager=i,this.handleRecord=s,this.subscriptions=[],this.objectsToFree=[],this.dimensions=u,this.controlWidgets=[],this.lookupTableManager&&this.controlWidgets.push({name:"LookupTableManagerWidget",lookupTableManager:i}),this.pipelineModel&&this.controlWidgets.push({name:"CompositeControl",pipelineModel:r}),this.queryDataModel&&this.controlWidgets.push({name:"QueryDataModelWidget",queryDataModel:n})}return i(e,[{key:"update",value:function(){this.queryDataModel&&this.queryDataModel.fetchData()}},{key:"onImageReady",value:function(e){return this.on(l,e)}},{key:"imageReady",value:function(e){this.emit(l,e)}},{key:"registerSubscription",value:function(e){this.subscriptions.push(e)}},{key:"registerObjectToFree",value:function(e){this.objectsToFree.push(e)}},{key:"getListeners",value:function(){return this.queryDataModel?this.queryDataModel.getTonicMouseListener():{}}},{key:"getControlWidgets",value:function(){return this.controlWidgets}},{key:"getControlModels",value:function(){return{pipelineModel:this.pipelineModel,queryDataModel:this.queryDataModel,lookupTableManager:this.lookupTableManager,dimensions:this.dimensions}}},{key:"destroy",value:function(){for(this.off();this.subscriptions.length;)this.subscriptions.pop().unsubscribe();for(;this.objectsToFree.length;)this.objectsToFree.pop().destroy();this.queryDataModel=null,this.pipelineModel=null,this.lookupTableManager=null,this.dimensions=null,this.controlWidgets=null}}]),e}();t["default"]=u,s["default"].mixInto(u)},function(e,t,n){"use strict";var r=n(46),o=r({bubbled:null,captured:null}),i=r({topAbort:null,topBlur:null,topCanPlay:null,topCanPlayThrough:null,topChange:null,topClick:null,topCompositionEnd:null,topCompositionStart:null,topCompositionUpdate:null,topContextMenu:null,topCopy:null,topCut:null,topDoubleClick:null,topDrag:null,topDragEnd:null,topDragEnter:null,topDragExit:null,topDragLeave:null,topDragOver:null,topDragStart:null,topDrop:null,topDurationChange:null,topEmptied:null,topEncrypted:null,topEnded:null,topError:null,topFocus:null,topInput:null,topKeyDown:null,topKeyPress:null,topKeyUp:null,topLoad:null,topLoadedData:null,topLoadedMetadata:null,topLoadStart:null,topMouseDown:null,topMouseMove:null,topMouseOut:null,topMouseOver:null,topMouseUp:null,topPaste:null,topPause:null,topPlay:null,topPlaying:null,topProgress:null,topRateChange:null,topReset:null,topScroll:null,topSeeked:null,topSeeking:null,topSelectionChange:null,topStalled:null,topSubmit:null,topSuspend:null,topTextInput:null,topTimeUpdate:null,topTouchCancel:null,topTouchEnd:null,topTouchMove:null,topTouchStart:null,topVolumeChange:null,topWaiting:null,topWheel:null}),a={topLevelTypes:i,PropagationPhases:o};e.exports=a},function(e,t){"use strict";var n={current:null};e.exports=n},function(e,t,n){(function(e,r){function o(e,t){this._id=e,this._clearFn=t}var i=n(1).nextTick,a=Function.prototype.apply,s=Array.prototype.slice,l={},u=0;t.setTimeout=function(){return new o(a.call(setTimeout,window,arguments),clearTimeout)},t.setInterval=function(){return new o(a.call(setInterval,window,arguments),clearInterval)},t.clearTimeout=t.clearInterval=function(e){e.close()},o.prototype.unref=o.prototype.ref=function(){},o.prototype.close=function(){this._clearFn.call(window,this._id)},t.enroll=function(e,t){clearTimeout(e._idleTimeoutId),e._idleTimeout=t},t.unenroll=function(e){clearTimeout(e._idleTimeoutId),e._idleTimeout=-1},t._unrefActive=t.active=function(e){clearTimeout(e._idleTimeoutId);var t=e._idleTimeout;t>=0&&(e._idleTimeoutId=setTimeout(function(){e._onTimeout&&e._onTimeout()},t))},t.setImmediate="function"==typeof e?e:function(e){var n=u++,r=arguments.length<2?!1:s.call(arguments,1);return l[n]=!0,i(function(){l[n]&&(r?e.apply(null,r):e.call(null),t.clearImmediate(n))}),n},t.clearImmediate="function"==typeof r?r:function(e){delete l[e]}}).call(t,n(23).setImmediate,n(23).clearImmediate)},function(e,t){"use strict";var n=function(e){var t;for(t in e)if(e.hasOwnProperty(t))return t;return null};e.exports=n},function(e,t,n){(function(t){"use strict";var r=n(3),o=function(e){var t=this;if(t.instancePool.length){var n=t.instancePool.pop();return t.call(n,e),n}return new t(e)},i=function(e,t){var n=this;if(n.instancePool.length){var r=n.instancePool.pop();return n.call(r,e,t),r}return new n(e,t)},a=function(e,t,n){var r=this;if(r.instancePool.length){var o=r.instancePool.pop();return r.call(o,e,t,n),o}return new r(e,t,n)},s=function(e,t,n,r){var o=this;if(o.instancePool.length){var i=o.instancePool.pop();return o.call(i,e,t,n,r),i}return new o(e,t,n,r)},l=function(e,t,n,r,o){var i=this;if(i.instancePool.length){var a=i.instancePool.pop();return i.call(a,e,t,n,r,o),a}return new i(e,t,n,r,o)},u=function(e){var n=this;e instanceof n?void 0:"production"!==t.env.NODE_ENV?r(!1,"Trying to release an instance into a pool of a different type."):r(!1),e.destructor(),n.instancePool.length<n.poolSize&&n.instancePool.push(e)},c=10,p=o,d=function(e,t){var n=e;return n.instancePool=[],n.getPooled=t||p,n.poolSize||(n.poolSize=c),n.release=u,n},f={addPoolingTo:d,oneArgumentPooler:o,twoArgumentPooler:i,threeArgumentPooler:a,fourArgumentPooler:s,fiveArgumentPooler:l};e.exports=f}).call(t,n(1))},function(e,t,n){(function(t){"use strict";function r(e,t){return(e&t)===t}var o=n(3),i={MUST_USE_ATTRIBUTE:1,MUST_USE_PROPERTY:2,HAS_SIDE_EFFECTS:4,HAS_BOOLEAN_VALUE:8,HAS_NUMERIC_VALUE:16,HAS_POSITIVE_NUMERIC_VALUE:48,HAS_OVERLOADED_BOOLEAN_VALUE:64,injectDOMPropertyConfig:function(e){var n=i,a=e.Properties||{},l=e.DOMAttributeNamespaces||{},u=e.DOMAttributeNames||{},c=e.DOMPropertyNames||{},p=e.DOMMutationMethods||{};e.isCustomAttribute&&s._isCustomAttributeFunctions.push(e.isCustomAttribute);for(var d in a){s.properties.hasOwnProperty(d)?"production"!==t.env.NODE_ENV?o(!1,"injectDOMPropertyConfig(...): You're trying to inject DOM property '%s' which has already been injected. You may be accidentally injecting the same DOM property config twice, or you may be injecting two configs that have conflicting property names.",d):o(!1):void 0;var f=d.toLowerCase(),h=a[d],g={attributeName:f,attributeNamespace:null,propertyName:d,mutationMethod:null,mustUseAttribute:r(h,n.MUST_USE_ATTRIBUTE),mustUseProperty:r(h,n.MUST_USE_PROPERTY),hasSideEffects:r(h,n.HAS_SIDE_EFFECTS),hasBooleanValue:r(h,n.HAS_BOOLEAN_VALUE),hasNumericValue:r(h,n.HAS_NUMERIC_VALUE),hasPositiveNumericValue:r(h,n.HAS_POSITIVE_NUMERIC_VALUE),hasOverloadedBooleanValue:r(h,n.HAS_OVERLOADED_BOOLEAN_VALUE)};if(g.mustUseAttribute&&g.mustUseProperty?"production"!==t.env.NODE_ENV?o(!1,"DOMProperty: Cannot require using both attribute and property: %s",d):o(!1):void 0,!g.mustUseProperty&&g.hasSideEffects?"production"!==t.env.NODE_ENV?o(!1,"DOMProperty: Properties that have side effects must use property: %s",d):o(!1):void 0,g.hasBooleanValue+g.hasNumericValue+g.hasOverloadedBooleanValue<=1?void 0:"production"!==t.env.NODE_ENV?o(!1,"DOMProperty: Value can be one of boolean, overloaded boolean, or numeric value, but not a combination: %s",d):o(!1),"production"!==t.env.NODE_ENV&&(s.getPossibleStandardName[f]=d),u.hasOwnProperty(d)){var m=u[d];g.attributeName=m,"production"!==t.env.NODE_ENV&&(s.getPossibleStandardName[m]=d)}l.hasOwnProperty(d)&&(g.attributeNamespace=l[d]),c.hasOwnProperty(d)&&(g.propertyName=c[d]),p.hasOwnProperty(d)&&(g.mutationMethod=p[d]),s.properties[d]=g}}},a={},s={ID_ATTRIBUTE_NAME:"data-reactid",properties:{},getPossibleStandardName:"production"!==t.env.NODE_ENV?{}:null,_isCustomAttributeFunctions:[],isCustomAttribute:function(e){for(var t=0;t<s._isCustomAttributeFunctions.length;t++){var n=s._isCustomAttributeFunctions[t];if(n(e))return!0}return!1},getDefaultValueForProperty:function(e,t){var n,r=a[e];return r||(a[e]=r={}),t in r||(n=document.createElement(e),r[t]=n[t]),r[t]},injection:i};e.exports=s}).call(t,n(1))},function(e,t,n){"use strict";function r(){o.attachRefs(this,this._currentElement)}var o=n(359),i={mountComponent:function(e,t,n,o){var i=e.mountComponent(t,n,o);return e._currentElement&&null!=e._currentElement.ref&&n.getReactMountReady().enqueue(r,e),i},unmountComponent:function(e){o.detachRefs(e,e._currentElement),e.unmountComponent()},receiveComponent:function(e,t,n,i){var a=e._currentElement;if(t!==a||i!==e._context){var s=o.shouldUpdateRefs(a,t);s&&o.detachRefs(e,a),e.receiveComponent(t,n,i),s&&e._currentElement&&null!=e._currentElement.ref&&n.getReactMountReady().enqueue(r,e)}},performUpdateIfNecessary:function(e,t){e.performUpdateIfNecessary(t)}};e.exports=i},function(e,t,n){(function(t){"use strict";function r(e,t,n,r){this.dispatchConfig=e,this.dispatchMarker=t,this.nativeEvent=n,this.target=r,this.currentTarget=r;var o=this.constructor.Interface;for(var i in o)if(o.hasOwnProperty(i)){var s=o[i];s?this[i]=s(n):this[i]=n[i]}var l=null!=n.defaultPrevented?n.defaultPrevented:n.returnValue===!1;l?this.isDefaultPrevented=a.thatReturnsTrue:this.isDefaultPrevented=a.thatReturnsFalse,this.isPropagationStopped=a.thatReturnsFalse}var o=n(25),i=n(4),a=n(19),s=n(5),l={type:null,currentTarget:a.thatReturnsNull,eventPhase:null,bubbles:null,cancelable:null,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:null,isTrusted:null};i(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;"production"!==t.env.NODE_ENV&&("production"!==t.env.NODE_ENV?s(e,"This synthetic event is reused for performance reasons. If you're seeing this, you're calling `preventDefault` on a released/nullified synthetic event. This is a no-op. See https://fb.me/react-event-pooling for more information."):void 0),e&&(e.preventDefault?e.preventDefault():e.returnValue=!1,this.isDefaultPrevented=a.thatReturnsTrue)},stopPropagation:function(){var e=this.nativeEvent;"production"!==t.env.NODE_ENV&&("production"!==t.env.NODE_ENV?s(e,"This synthetic event is reused for performance reasons. If you're seeing this, you're calling `stopPropagation` on a released/nullified synthetic event. This is a no-op. See https://fb.me/react-event-pooling for more information."):void 0),e&&(e.stopPropagation?e.stopPropagation():e.cancelBubble=!0,this.isPropagationStopped=a.thatReturnsTrue)},persist:function(){this.isPersistent=a.thatReturnsTrue},isPersistent:a.thatReturnsFalse,destructor:function(){var e=this.constructor.Interface;for(var t in e)this[t]=null;this.dispatchConfig=null,this.dispatchMarker=null,this.nativeEvent=null}}),r.Interface=l,r.augmentClass=function(e,t){var n=this,r=Object.create(n.prototype);i(r,e.prototype),e.prototype=r,e.prototype.constructor=e,e.Interface=i({},n.Interface,t),e.augmentClass=n.augmentClass,o.addPoolingTo(e,o.fourArgumentPooler)},o.addPoolingTo(r,o.fourArgumentPooler),e.exports=r}).call(t,n(1))},function(e,t,n){(function(t){"use strict";function r(e){return f+e.toString(36)}function o(e,t){return e.charAt(t)===f||t===e.length}function i(e){return""===e||e.charAt(0)===f&&e.charAt(e.length-1)!==f}function a(e,t){return 0===t.indexOf(e)&&o(t,e.length)}function s(e){return e?e.substr(0,e.lastIndexOf(f)):""}function l(e,n){if(i(e)&&i(n)?void 0:"production"!==t.env.NODE_ENV?d(!1,"getNextDescendantID(%s, %s): Received an invalid React DOM ID.",e,n):d(!1),a(e,n)?void 0:"production"!==t.env.NODE_ENV?d(!1,"getNextDescendantID(...): React has made an invalid assumption about the DOM hierarchy. Expected `%s` to be an ancestor of `%s`.",e,n):d(!1),e===n)return e;var r,s=e.length+h;for(r=s;r<n.length&&!o(n,r);r++);return n.substr(0,r)}function u(e,n){var r=Math.min(e.length,n.length);if(0===r)return"";for(var a=0,s=0;r>=s;s++)if(o(e,s)&&o(n,s))a=s;else if(e.charAt(s)!==n.charAt(s))break;var l=e.substr(0,a);return i(l)?void 0:"production"!==t.env.NODE_ENV?d(!1,"getFirstCommonAncestorID(%s, %s): Expected a valid React DOM ID: %s",e,n,l):d(!1),l}function c(e,n,r,o,i,u){e=e||"",n=n||"",e===n?"production"!==t.env.NODE_ENV?d(!1,"traverseParentPath(...): Cannot traverse from and to the same ID, `%s`.",e):d(!1):void 0;var c=a(n,e);c||a(e,n)?void 0:"production"!==t.env.NODE_ENV?d(!1,"traverseParentPath(%s, %s, ...): Cannot traverse from two IDs that do not have a parent path.",e,n):d(!1);for(var p=0,f=c?s:l,h=e;;h=f(h,n)){var m;if(i&&h===e||u&&h===n||(m=r(h,c,o)),m===!1||h===n)break;p++<g?void 0:"production"!==t.env.NODE_ENV?d(!1,"traverseParentPath(%s, %s, ...): Detected an infinite loop while traversing the React DOM ID tree. This may be due to malformed IDs: %s",e,n,h):d(!1)}}var p=n(145),d=n(3),f=".",h=f.length,g=1e4,m={createReactRootID:function(){return r(p.createReactRootIndex())},createReactID:function(e,t){return e+t},getReactRootIDFromNodeID:function(e){if(e&&e.charAt(0)===f&&e.length>1){var t=e.indexOf(f,1);return t>-1?e.substr(0,t):e}return null},traverseEnterLeave:function(e,t,n,r,o){var i=u(e,t);i!==e&&c(e,i,n,r,!1,!0),i!==t&&c(i,t,n,o,!0,!1)},traverseTwoPhase:function(e,t,n){e&&(c("",e,t,n,!0,!1),c(e,"",t,n,!1,!0))},traverseTwoPhaseSkipTarget:function(e,t,n){e&&(c("",e,t,n,!0,!0),c(e,"",t,n,!0,!0))},traverseAncestors:function(e,t,n){c("",e,t,n,!0,!1)},getFirstCommonAncestorID:u,_getNextDescendantID:l,isAncestorIDOf:a,SEPARATOR:f};e.exports=m}).call(t,n(1))},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();Object.defineProperty(t,"__esModule",{value:!0});var a=n(11),s=r(a),l="pipeline.change",u="opacity.change",c="ABCDEFGHIJKLMNOPQRSTUVWXYZ",p=function(){function e(t){function n(e){if(!s||e.length>1)return!0;var t=c.indexOf(e[0]);return"_"!==s[2*t+1]}function r(e){if(!s||e.length>1)return l[e][0];var t=c.indexOf(e[0]),n=s[2*t+1];return"_"===n?l[e][0]:n}var i=this,a=arguments.length<=1||void 0===arguments[1]?!1:arguments[1];o(this,e),this.originalData=t,this.visibilityState={},this.activeState={},this.editMode={},this.activeColors={},this.noTrigger=!0,this.handleOpacity=a,this.opacityMap={},this.nbLayers=0;var s=t.CompositePipeline.default_pipeline,l=t.CompositePipeline.layer_fields,u={};t.CompositePipeline.pipeline.forEach(function(e){u[e.ids.join("")]=!0,i.setLayerVisible(e.ids.join(""),n(e.ids.join("")))}),t.CompositePipeline.layers.forEach(function(e){i.activeState[e]=u[e]?!0:n(e),i.activeColors[e]=r(e),i.opacityMap[e]=100,i.nbLayers++}),this.noTrigger=!1,this.triggerChange()}return i(e,[{key:"onChange",value:function(e){return this.on(l,e)}},{key:"onOpacityChange",value:function(e){return this.on(u,e)}},{key:"TopicChange",value:function(){return l}},{key:"triggerChange",value:function(){if(!this.noTrigger){var e=this.getPipelineQuery();this.emit(l,e)}}},{key:"isLayerActive",value:function(e){return this.activeState[e]}},{key:"setLayerActive",value:function(e,t){this.activeState[e]!==t&&(this.activeState[e]=t,this.triggerChange())}},{key:"toggleLayerActive",value:function(e){this.activeState[e]=!this.activeState[e],this.triggerChange()}},{key:"isLayerVisible",value:function(e){return this.visibilityState[e]}},{key:"setLayerVisible",value:function(e,t){if(this.visibilityState[e]!==t){this.visibilityState[e]=t;for(var n=e.length;n--;)this.visibilityState[e[n]]=t;this.triggerChange()}}},{key:"toggleLayerVisible",value:function(e){this.setLayerVisible(e,!this.visibilityState[e])}},{key:"toggleEditMode",value:function(e){this.editMode[e]=!this.editMode[e],this.triggerChange()}},{key:"isLayerInEditMode",value:function(e){for(var t in this.editMode)if(this.editMode[t]&&-1!==t.indexOf(e))return!0;return!1}},{key:"getColor",value:function(e){return this.originalData.CompositePipeline.layer_fields[e[0]]}},{key:"getColorToLabel",value:function(e){return this.originalData.CompositePipeline.fields[e]}},{key:"isActiveColor",value:function(e,t){return this.activeColors[e[0]]===t}},{key:"setActiveColor",value:function(e,t){for(var n=e.length;n--;)this.activeColors[e[n]]=t;this.triggerChange()}},{key:"getPipelineQuery",value:function(){var e=this,t="";return this.originalData.CompositePipeline.layers.forEach(function(n){var r=e.isLayerActive(n)&&e.isLayerVisible(n)?e.activeColors[n]:"_";t+=n,t+=r}),t}},{key:"getPipelineDescription",value:function(){return this.originalData.CompositePipeline.pipeline}},{key:"getOpacity",value:function(e){return this.opacityMap[e]}},{key:"hasOpacity",value:function(){return this.handleOpacity}},{key:"setOpacity",value:function(e,t){if(this.opacityMap[e]!==t){this.opacityMap[e]=t;for(var n=[],r=0;r<this.nbLayers;++r)n.push(this.opacityMap[c[r]]/100);this.emit(u,n)}}},{key:"resetOpacity",value:function(e){for(var t in this.opacityMap)this.opacityMap[t]=e;for(var n=[],r=0;r<this.nbLayers;++r)n.push(this.opacityMap[c[r]]/100);this.emit(u,n)}}]),e}();t["default"]=p,s["default"].mixInto(p)},function(e,t){"use strict";function n(e){var t=e.getParameter(e.MAX_VERTEX_TEXTURE_IMAGE_UNITS),n=e.getParameter(e.MAX_TEXTURE_IMAGE_UNITS),r=e.getParameter(e.MAX_COMBINED_TEXTURE_IMAGE_UNITS);console.log("vertex texture image units: "+t),console.log("fragment texture image units: "+n),console.log("combined texture image units: "+r)}function r(e,t,n){var r=e.createShader(n);e.shaderSource(r,t),e.compileShader(r);var o=e.getShaderParameter(r,e.COMPILE_STATUS);if(!o){var i=e.getShaderInfoLog(r);return console.error("Error compiling shader '"+r+"':"+i),e.deleteShader(r),null}return r}function o(e,t){for(var n=e.createProgram(),r=0;r<t.length;r+=1)e.attachShader(n,t[r]);e.linkProgram(n);var o=e.getProgramParameter(n,e.LINK_STATUS);if(!o){var i=e.getProgramInfoLog(n);return console.error("Error in program linking:"+i),e.deleteProgram(n),null}return n.shaders=t,e.useProgram(n),n}function i(e,t,n,i){var a=n.programs[t],s=r(e,a.vertexShader,e.VERTEX_SHADER),l=r(e,a.fragmentShader,e.FRAGMENT_SHADER),c=o(e,[s,l]);return i.programs[t]=c,a.mapping&&u(e,t,a.mapping,n,i),c}function a(e,t,n){e.bindFramebuffer(e.FRAMEBUFFER,t),e.bindTexture(e.TEXTURE_2D,n),e.texImage2D(e.TEXTURE_2D,0,e.RGBA,t.width,t.height,0,e.RGBA,e.UNSIGNED_BYTE,null),e.framebufferTexture2D(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.TEXTURE_2D,n,0);var r=e.checkFramebufferStatus(e.FRAMEBUFFER);r!==e.FRAMEBUFFER_COMPLETE&&console.log("ERROR: There is a problem with the framebuffer: "+r),e.bindTexture(e.TEXTURE_2D,null),e.bindFramebuffer(e.FRAMEBUFFER,null)}function s(e){var t=e.gl;for(var n in e.programs){for(var r=e.programs[n],o=r.shaders,i=o.length;i--;)t.deleteShader(o[i]);t.deleteProgram(r)}for(var a in e.framebuffers)t.deleteFramebuffer(e.framebuffers[a]);for(var s in e.textures)t.deleteTexture(e.textures[s]);for(var l in e.buffers)t.deleteBuffer(e.buffers[l])}function l(e,t){var n={gl:e,buffers:{},textures:{},framebuffers:{},programs:{}},r=t.resources.buffers||[],o=t.resources.textures||[],a=t.resources.framebuffers||[];r.forEach(function(t){var r=e.createBuffer();e.bindBuffer(e.ARRAY_BUFFER,r),e.bufferData(e.ARRAY_BUFFER,t.data,e.STATIC_DRAW),n.buffers[t.id]=r}),o.forEach(function(t){var r=e.createTexture(),o=t.pixelStore||[],i=t.texParameter||[];e.bindTexture(e.TEXTURE_2D,r),o.forEach(function(t){e.pixelStorei(e[t[0]],t[1])}),i.forEach(function(t){e.texParameteri(e.TEXTURE_2D,e[t[0]],e[t[1]])}),n.textures[t.id]=r}),a.forEach(function(t){var r=e.createFramebuffer();r.width=t.width,r.height=t.height,n.framebuffers[t.id]=r});for(var l in t.programs)i(e,l,t,n);return n.destroy=function(){s(n)},n}function u(e,t,n,r,o){var i=o.programs[t],a=r.mappings[n];a.forEach(function(t){var n=o.buffers[t.id];e.bindBuffer(e.ARRAY_BUFFER,n),i[t.name]=e.getAttribLocation(i,t.attribute),e.enableVertexAttribArray(i[t.name]),e.vertexAttribPointer.apply(e,[i[t.name]].concat(t.format)),e.bindBuffer(e.ARRAY_BUFFER,null)})}function c(e,t,n){this.gl=e,this.idx=0,this.fbos=t,this.textures=n,a(this.gl,this.fbos[0],this.textures[1]),a(this.gl,this.fbos[1],this.textures[0])}function p(e,t,n){for(var r in t){var o=t[r],i=new RegExp("\\$\\{"+r+"\\}","g");e=e.replace(i,o)}if(n.inlineLoops)for(var a=/\/\/@INLINE_LOOP([\s\S]+?)(?=\/\/@INLINE_LOOP)\/\/@INLINE_LOOP/,s=e.match(a);s;){for(var l=(s[0],s[1]),u=/^\s*\(([^\),]+)\s*,\s*([^\),]+)\s*,\s*([^\)]+)\)/,c=l.match(u),p=c[1],d=c[2],f=c[3],h=l.replace(u,""),g=/^\s*[^\{]+\{([\s\S]+?)\s*\}\s*$/,m=h.match(g),v=m[1],b="",y=new RegExp(p,"g"),_=d;f>_;++_)b+=v.replace(y,_),b+="\n";e=e.replace(a,b),s=e.match(a)}return n.debug&&(console.log("Transformed shader string:"),console.log(e)),e}Object.defineProperty(t,"__esModule",{value:!0}),t.showGlInfo=n,t.bindTextureToFramebuffer=a,t.createGLResources=l,t.applyProgramDataMapping=u,t.PingPong=c,t.TransformShader=p,c.prototype.swap=function(){this.idx++,this.idx%=2},c.prototype.clearFbo=function(){this.gl.bindFramebuffer(this.gl.FRAMEBUFFER,this.fbos[0]),this.gl.clear(this.gl.COLOR_BUFFER_BIT),this.gl.bindFramebuffer(this.gl.FRAMEBUFFER,this.fbos[1]),this.gl.clear(this.gl.COLOR_BUFFER_BIT),this.idx=0},c.prototype.getFramebuffer=function(){return this.fbos[this.idx]},c.prototype.getRenderingTexture=function(){return this.textures[this.idx]},t["default"]={applyProgramDataMapping:u,bindTextureToFramebuffer:a,createGLResources:l,createGLResources:l,PingPong:c,showGlInfo:n,TransformShader:p}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(2),i=r(o),a=n(193),s=r(a),l=n(194),u=r(l),c=n(196),p=r(c);n(255),n(105),t["default"]=i["default"].createClass({displayName:"AbstractMenu",propTypes:{config:i["default"].PropTypes.object,renderer:i["default"].PropTypes.string},getInitialState:function(){return{collapsed:!0,speedIdx:0,speeds:[20,50,100,200,500],record:!1}},getDefaultProps:function(){return{config:{},renderer:"ImageRenderer"}},attachListener:function(e){var t=this;this.detachListener(),this.queryDataModelChangeSubscription=e.onStateChange(function(e,n){t.forceUpdate()})},detachListener:function(){this.queryDataModelChangeSubscription&&(this.queryDataModelChangeSubscription.unsubscribe(),this.queryDataModelChangeSubscription=null)},componentWillReceiveProps:function(e){var t=this.props.queryDataModel,n=e.queryDataModel;t!==n&&(this.detachListener(),this.attachListener(n))},componentWillMount:function(){this.attachListener(this.props.queryDataModel)},componentWillUnmount:function(){this.detachListener()},toggleRecord:function(){var e=!this.state.record;this.setState({record:e}),this.getRenderer().recordImages(e)},togglePanel:function(){this.setState({collapsed:!this.state.collapsed}),this.props.queryDataModel.fetchData()},toggleLens:function(){var e=this.props.magicLensController;e&&(e.toggleLens(),this.forceUpdate())},resetCamera:function(){!this.isMounted()||"ImageRenderer"!==this.props.renderer&&"GeometryRenderer"!==this.props.renderer||this.refs.imageRenderer.resetCamera()},play:function(){this.props.queryDataModel.animate(!0,this.state.speeds[this.state.speedIdx])},stop:function(){this.props.queryDataModel.animate(!1)},updateSpeed:function(){var e=(this.state.speedIdx+1)%this.state.speeds.length,t=this.props.queryDataModel;this.setState({speedIdx:e}),t.isAnimating()&&t.animate(!0,this.state.speeds[e])},getRenderer:function(){return this.refs.imageRenderer},render:function(){var e=this.props.queryDataModel,t=this.props.magicLensController,n=t||this.props.imageBuilder,r=null,o=!!this.props.config.Recording,a="ImageRenderer"===this.props.renderer,l="MultiViewRenderer"===this.props.renderer,c="GeometryRenderer"===this.props.renderer;return a&&(r=i["default"].createElement(u["default"],{ref:"imageRenderer",className:"CatalystWidget_ImageViewerWidget",imageBuilder:n,listener:this.props.mouseListener||n.getListeners()})),l&&(r=i["default"].createElement(p["default"],{ref:"imageRenderer",className:"CatalystWidget_ImageViewerWidget",renderers:this.props.renderers,layout:this.props.layout})),c&&(r=i["default"].createElement(s["default"],{ref:"imageRenderer",className:"CatalystWidget_ImageViewerWidget",geometryBuilder:this.props.geometryBuilder})),i["default"].createElement("div",{className:"CatalystWidget"},i["default"].createElement("div",{className:(this.state.collapsed?"is-collapsed ":"")+"CatalystWidget_control"},i["default"].createElement("div",{className:"CatalystWidget_control_bar"},i["default"].createElement("i",{className:t?t.isFront()?"fa fa-search left":"fa-inverse fa fa-search left":"is-hidden",onClick:this.toggleLens,style:{background:t&&t.isFront()?"inherit":"#000000",borderRadius:"5px"}}),i["default"].createElement("i",{className:o&&a&&this.props.imageBuilder.handleRecord?this.state.record?"fa fa-circle left":"fa fa-circle-thin left":"is-hidden",style:{color:this.state.record?"#FF0000":"#000000"},onClick:this.toggleRecord}),i["default"].createElement("i",{className:a||c?"fa fa-arrows-alt left":"is-hidden",onClick:this.resetCamera}),i["default"].createElement("i",{className:(e.hasAnimationFlag()&&!e.isAnimating()?"":"is-hidden ")+"fa fa-play left",onClick:this.play}),i["default"].createElement("i",{className:(e.isAnimating()?"":"is-hidden ")+"fa fa-stop left",onClick:this.stop}),i["default"].createElement("i",{className:(e.hasAnimationFlag()?"":"is-hidden ")+"fa fa-clock-o left",onClick:this.updateSpeed}),i["default"].createElement("i",{className:e.hasAnimationFlag()?"left":"is-hidden",onClick:this.updateSpeed},this.state.speeds[this.state.speedIdx]+"ms"),i["default"].createElement("i",{className:"fa fa-bars right",onClick:this.togglePanel})),i["default"].createElement("div",{className:"CatalystWidget_control_content"},this.props.children)),r)}})},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(){x++,l()}function i(e,t){t.timestamp<x&&y.forEach(function(n){t[n]=e[n]})}function a(e){var t=b.get(e);return t||(t={timestamp:-1},b.set(e,t)),i(e,t),t}function s(e){return m.on(v,e)}function l(){m.emit(v)}function u(){return E}function c(){E||(window.addEventListener("resize",_),E=!0)}function p(){E&&(window.removeEventListener("resize",_),E=!1)}Object.defineProperty(t,"__esModule",{value:!0});var d=n(219),f=r(d),h=n(34),g=r(h),m=new f["default"],v="window.size.change",b=new WeakMap,y=["offsetWidth","offsetHeight","scrollWidth","scrollHeight","clientWidth","clientHeight"],_=(0,g["default"])(o,250),x=0,E=!1;t["default"]={getSize:a,onSizeChange:s,triggerChange:l,isListening:u,startListening:c,stopListening:p}},function(e,t){"use strict";function n(e,t,n){var r;return function(){var o=this,i=arguments,a=function(){r=null,n||e.apply(o,i)},s=n&&!r;clearTimeout(r),r=setTimeout(a,t),s&&e.apply(o,i)}}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=n},function(e,t,n){(function(t){"use strict";var n={};"production"!==t.env.NODE_ENV&&Object.freeze(n),e.exports=n}).call(t,n(1))},function(e,t,n){function r(e,t){return o(i(e),t)}var o=n(299),i=n(116);e.exports=r},function(e,t,n){var r;r=function(){function e(e,t){return Object.prototype.hasOwnProperty.call(e,t)}return e}.call(t,n,t,e),!(void 0!==r&&(e.exports=r))},function(e,t,n){(function(t){"use strict";function r(){var e=m&&m.traverseTwoPhase&&m.traverseEnterLeave;"production"!==t.env.NODE_ENV?c(e,"InstanceHandle not injected before use!"):void 0}var o=n(125),i=n(335),a=n(138),s=n(147),l=n(148),u=n(3),c=n(5),p={},d=null,f=function(e,t){e&&(i.executeDispatchesInOrder(e,t),e.isPersistent()||e.constructor.release(e))},h=function(e){return f(e,!0)},g=function(e){return f(e,!1)},m=null,v={injection:{injectMount:i.injection.injectMount,injectInstanceHandle:function(e){m=e,"production"!==t.env.NODE_ENV&&r()},getInstanceHandle:function(){return"production"!==t.env.NODE_ENV&&r(),m},injectEventPluginOrder:o.injectEventPluginOrder,injectEventPluginsByName:o.injectEventPluginsByName},eventNameDispatchConfigs:o.eventNameDispatchConfigs,registrationNameModules:o.registrationNameModules,putListener:function(e,n,r){"function"!=typeof r?"production"!==t.env.NODE_ENV?u(!1,"Expected %s listener to be a function, instead got type %s",n,typeof r):u(!1):void 0;var i=p[n]||(p[n]={});i[e]=r;var a=o.registrationNameModules[n];a&&a.didPutListener&&a.didPutListener(e,n,r)},getListener:function(e,t){var n=p[t];return n&&n[e]},deleteListener:function(e,t){var n=o.registrationNameModules[t];n&&n.willDeleteListener&&n.willDeleteListener(e,t);var r=p[t];r&&delete r[e]},deleteAllListeners:function(e){for(var t in p)if(p[t][e]){var n=o.registrationNameModules[t];n&&n.willDeleteListener&&n.willDeleteListener(e,t),delete p[t][e]}},extractEvents:function(e,t,n,r,i){for(var a,l=o.plugins,u=0;u<l.length;u++){var c=l[u];if(c){var p=c.extractEvents(e,t,n,r,i);p&&(a=s(a,p))}}return a},enqueueEvents:function(e){e&&(d=s(d,e))},processEventQueue:function(e){var n=d;d=null,e?l(n,h):l(n,g),d?"production"!==t.env.NODE_ENV?u(!1,"processEventQueue(): Additional events were enqueued while processing an event queue. Support for this has not yet been implemented."):u(!1):void 0,a.rethrowCaughtError()},__purge:function(){p={}},__getListenerBank:function(){return p}};e.exports=v}).call(t,n(1))},function(e,t,n){(function(t){"use strict";function r(e,t,n){var r=t.dispatchConfig.phasedRegistrationNames[n];return y(e,r)}function o(e,n,o){"production"!==t.env.NODE_ENV&&("production"!==t.env.NODE_ENV?g(e,"Dispatching id must not be null"):void 0);var i=n?b.bubbled:b.captured,a=r(e,o,i);a&&(o._dispatchListeners=m(o._dispatchListeners,a),o._dispatchIDs=m(o._dispatchIDs,e))}function i(e){e&&e.dispatchConfig.phasedRegistrationNames&&h.injection.getInstanceHandle().traverseTwoPhase(e.dispatchMarker,o,e)}function a(e){e&&e.dispatchConfig.phasedRegistrationNames&&h.injection.getInstanceHandle().traverseTwoPhaseSkipTarget(e.dispatchMarker,o,e)}function s(e,t,n){if(n&&n.dispatchConfig.registrationName){var r=n.dispatchConfig.registrationName,o=y(e,r);o&&(n._dispatchListeners=m(n._dispatchListeners,o),n._dispatchIDs=m(n._dispatchIDs,e))}}function l(e){e&&e.dispatchConfig.registrationName&&s(e.dispatchMarker,null,e)}function u(e){v(e,i)}function c(e){v(e,a)}function p(e,t,n,r){h.injection.getInstanceHandle().traverseEnterLeave(n,r,s,e,t)}function d(e){v(e,l)}var f=n(21),h=n(38),g=n(5),m=n(147),v=n(148),b=f.PropagationPhases,y=h.getListener,_={accumulateTwoPhaseDispatches:u,accumulateTwoPhaseDispatchesSkipTarget:c,accumulateDirectDispatches:d,accumulateEnterLeaveDispatches:p};e.exports=_}).call(t,n(1))},function(e,t){"use strict";var n={remove:function(e){e._reactInternalInstance=void 0},get:function(e){return e._reactInternalInstance},has:function(e){return void 0!==e._reactInternalInstance},set:function(e,t){e._reactInternalInstance=t}};e.exports=n},function(e,t,n){"use strict";function r(e,t,n,r){o.call(this,e,t,n,r)}var o=n(28),i=n(85),a={view:function(e){if(e.view)return e.view;var t=i(e);if(null!=t&&t.window===t)return t;var n=t.ownerDocument;return n?n.defaultView||n.parentWindow:window},detail:function(e){return e.detail||0}};o.augmentClass(r,a),e.exports=r},function(e,t){"use strict";function n(e,t,n){if(e)for(;t--;)n(t);else for(var r=0;t>r;r++)n(r);
}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=n},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e){var t=0;return e.srcEvent&&(t+=e.srcEvent.altKey?h.ALT:0,t+=e.srcEvent.ctrlKey?h.CTRL:0,t+=e.srcEvent.metaKey?h.META:0,t+=e.srcEvent.shiftKey?h.SHIFT:0),t}function i(e,t){return{x:t.center.x-(e.getClientRects()[0].x||e.getClientRects()[0].left),y:t.center.y-(e.getClientRects()[0].y||e.getClientRects()[0].top)}}function a(e,t,n){n.preventDefault(),n.button=0,n.topic=t,n.modifier=e.modifier?e.modifier:o(n),n.relative=i(e.el,n),e.emit(t,n)}function s(e,t){var n=this,r={pan:{threshold:0},pinch:{threshold:0}};t=(0,p["default"])(r,t),v++,this.id="mouse_handler_"+v,this.el=e,this.modifier=0,this.toggleModifiers=[0],this.toggleModifierIdx=0,this.toggleModifierEnable=!1,this.hammer=new u["default"](e),this.scrollInternal={ts:+new Date,deltaX:0,deltaY:0},this.finalZoomEvent=null,this.finalZoomTimerId=0,this.triggerFinalZoomEvent=function(){n.finalZoomEvent&&(n.finalZoomEvent.isFirst=!1,n.finalZoomEvent.isFinal=!0),n.emit(n.finalZoomEvent.topic,n.finalZoomEvent)},this.domEventHandler=function(e){e.preventDefault();var t={srcEvent:e,button:"contextmenu"===e.type?2:0,topic:g[e.type],center:{x:e.clientX,y:e.clientY},relative:{x:e.clientX-(n.el.getClientRects()[0].x||n.el.getClientRects()[0].left),y:e.clientY-(n.el.getClientRects()[0].y||n.el.getClientRects()[0].top)},scale:1,deltaX:0,deltaY:0,delta:0,deltaTime:0,velocityX:0,velocityY:0,velocity:0,isFirst:!1,isFinal:!1};if(t.modifier=n.modifier?n.modifier:o(t),"zoom"===t.topic){clearTimeout(n.finalZoomTimerId),n.finalZoomTimerId=setTimeout(n.triggerFinalZoomEvent,m);var r=+new Date;r-n.scrollInternal.ts>m?(n.scrollInternal.deltaX=0,n.scrollInternal.deltaY=0,t.isFirst=!0,t.isFinal=!1):t.isFinal=!1,void 0===e.wheelDeltaX?(t.zoom=n.lastScrollZoomFactor,n.scrollInternal.deltaY-=2*e.detail):(t.zoom=n.lastScrollZoomFactor,n.scrollInternal.deltaX+=e.wheelDeltaX,n.scrollInternal.deltaY+=e.wheelDeltaY),t.deltaX=n.scrollInternal.deltaX,t.deltaY=n.scrollInternal.deltaY,t.scale=1+t.deltaY/n.el.getClientRects()[0].height,t.scale=t.scale<.1?.1:t.scale,n.scrollInternal.ts=r,n.finalZoomEvent=t}return n.emit(t.topic,t),!1},this.hammer.get("pan").set(t.pan),this.hammer.get("pinch").set(t.pinch),this.hammer.on("tap",function(e){a(n,"click",e)}),this.hammer.on("doubletap",function(e){a(n,"dblclick",e)}),this.hammer.on("pan",function(e){a(n,"drag",e)}),this.hammer.on("panstart",function(e){e.isFirst=!0,a(n,"drag",e)}),this.hammer.on("panend",function(e){e.isFinal=!0,a(n,"drag",e)}),this.hammer.on("pinch",function(e){a(n,"zoom",e)}),this.hammer.on("pinchstart",function(e){console.log("zoom start"),e.isFirst=!0,a(n,"zoom",e)}),this.hammer.on("pinchend",function(e){e.isFinal=!0,console.log("zoom end"),a(n,"zoom",e)}),this.hammer.get("pinch").set({enable:!0}),this.hammer.on("press",function(e){n.toggleModifierEnable&&(n.toggleModifierIdx=(n.toggleModifierIdx+1)%n.toggleModifiers.length,n.modifier=n.toggleModifiers[n.toggleModifierIdx],e.relative=i(n.el,e),n.emit("modifier.change",{value:n.modifier,list:h,event:e}))}),this.el.addEventListener("contextmenu",this.domEventHandler),this.el.addEventListener("mousewheel",this.domEventHandler),this.el.addEventListener("DOMMouseScroll",this.domEventHandler)}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=s;var l=n(296),u=r(l),c=n(49),p=r(c),d=n(11),f=r(d),h={NONE:0,ALT:1,META:2,SHIFT:4,CTRL:8},g={contextmenu:"contextmenu",mousewheel:"zoom",DOMMouseScroll:"zoom"},m=300,v=0;s.prototype.enablePinch=function(e){this.hammer.get("pinch").set({enable:e})},s.prototype.setModifier=function(e){this.modifier=e},s.prototype.toggleModifierOnPress=function(e,t){this.toggleModifiers=t,this.toggleModifierEnable=e},s.prototype.destroy=function(){this.off(),this.hammer.destroy(),this.el.removeEventListener("contextmenu",this.domEventHandler),this.el.removeEventListener("mousewheel",this.domEventHandler),this.el.removeEventListener("DOMMouseScroll",this.domEventHandler)},f["default"].mixInto(s),s.prototype.Modifier={NONE:0,ALT:1,META:2,SHIFT:4,CTRL:8},s.prototype.attach=function(e){var t={};for(var n in e)t[n]=this.on(n,e[n]);return t}},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t["default"]={getDefaultProps:function(){return{listener:!0}},attachListener:function(e){this.dataSubscription=e.onStateChange(this.dataListenerCallback)},detachListener:function(){this.dataSubscription&&(this.dataSubscription.unsubscribe(),this.dataSubscription=null)},componentWillMount:function(){this.detachListener(),this.props.listener&&this.attachListener(this.props.model)},componentWillUnmount:function(){this.detachListener()},componentWillReceiveProps:function(e){var t=this.props.model,n=e.model;t!==n&&(this.detachListener(),this.attachListener(n))}}},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t["default"]={dataListenerCallback:function(e,t){this.forceUpdate()}}},function(e,t,n){(function(t){"use strict";var r=n(3),o=function(e){var n,o={};e instanceof Object&&!Array.isArray(e)?void 0:"production"!==t.env.NODE_ENV?r(!1,"keyMirror(...): Argument must be an object."):r(!1);for(n in e)e.hasOwnProperty(n)&&(o[n]=n);return o};e.exports=o}).call(t,n(1))},function(e,t){function n(e,t){return Object.prototype.hasOwnProperty.call(e,t)}e.exports=n},function(e,t,n){var r,o;r=[n(37),n(321)],o=function(e,t){function n(n,r,o){t(n,function(t,i){return e(n,i)?r.call(o,n[i],i,n):void 0})}return n}.apply(t,r),!(void 0!==o&&(e.exports=o))},function(e,t,n){var r,o;r=[n(37),n(318),n(120)],o=function(e,t,n){function r(){var o,i,a,s,l=1;for(s=t(arguments[0]);a=arguments[l++];)for(o in a)e(a,o)&&(i=a[o],n(i)&&n(s[o])?s[o]=r(s[o],i):s[o]=t(i));return s}return r}.apply(t,r),!(void 0!==o&&(e.exports=o))},function(e,t,n){"use strict";function r(e){return Object.prototype.hasOwnProperty.call(e,m)||(e[m]=h++,d[e[m]]={}),d[e[m]]}var o=n(21),i=n(38),a=n(125),s=n(352),l=n(17),u=n(146),c=n(4),p=n(88),d={},f=!1,h=0,g={topAbort:"abort",topBlur:"blur",topCanPlay:"canplay",topCanPlayThrough:"canplaythrough",topChange:"change",topClick:"click",topCompositionEnd:"compositionend",topCompositionStart:"compositionstart",topCompositionUpdate:"compositionupdate",topContextMenu:"contextmenu",topCopy:"copy",topCut:"cut",topDoubleClick:"dblclick",topDrag:"drag",topDragEnd:"dragend",topDragEnter:"dragenter",topDragExit:"dragexit",topDragLeave:"dragleave",topDragOver:"dragover",topDragStart:"dragstart",topDrop:"drop",topDurationChange:"durationchange",topEmptied:"emptied",topEncrypted:"encrypted",topEnded:"ended",topError:"error",topFocus:"focus",topInput:"input",topKeyDown:"keydown",topKeyPress:"keypress",topKeyUp:"keyup",topLoadedData:"loadeddata",topLoadedMetadata:"loadedmetadata",topLoadStart:"loadstart",topMouseDown:"mousedown",topMouseMove:"mousemove",topMouseOut:"mouseout",topMouseOver:"mouseover",topMouseUp:"mouseup",topPaste:"paste",topPause:"pause",topPlay:"play",topPlaying:"playing",topProgress:"progress",topRateChange:"ratechange",topScroll:"scroll",topSeeked:"seeked",topSeeking:"seeking",topSelectionChange:"selectionchange",topStalled:"stalled",topSuspend:"suspend",topTextInput:"textInput",topTimeUpdate:"timeupdate",topTouchCancel:"touchcancel",topTouchEnd:"touchend",topTouchMove:"touchmove",topTouchStart:"touchstart",topVolumeChange:"volumechange",topWaiting:"waiting",topWheel:"wheel"},m="_reactListenersID"+String(Math.random()).slice(2),v=c({},s,{ReactEventListener:null,injection:{injectReactEventListener:function(e){e.setHandleTopLevel(v.handleTopLevel),v.ReactEventListener=e}},setEnabled:function(e){v.ReactEventListener&&v.ReactEventListener.setEnabled(e)},isEnabled:function(){return!(!v.ReactEventListener||!v.ReactEventListener.isEnabled())},listenTo:function(e,t){for(var n=t,i=r(n),s=a.registrationNameDependencies[e],l=o.topLevelTypes,u=0;u<s.length;u++){var c=s[u];i.hasOwnProperty(c)&&i[c]||(c===l.topWheel?p("wheel")?v.ReactEventListener.trapBubbledEvent(l.topWheel,"wheel",n):p("mousewheel")?v.ReactEventListener.trapBubbledEvent(l.topWheel,"mousewheel",n):v.ReactEventListener.trapBubbledEvent(l.topWheel,"DOMMouseScroll",n):c===l.topScroll?p("scroll",!0)?v.ReactEventListener.trapCapturedEvent(l.topScroll,"scroll",n):v.ReactEventListener.trapBubbledEvent(l.topScroll,"scroll",v.ReactEventListener.WINDOW_HANDLE):c===l.topFocus||c===l.topBlur?(p("focus",!0)?(v.ReactEventListener.trapCapturedEvent(l.topFocus,"focus",n),v.ReactEventListener.trapCapturedEvent(l.topBlur,"blur",n)):p("focusin")&&(v.ReactEventListener.trapBubbledEvent(l.topFocus,"focusin",n),v.ReactEventListener.trapBubbledEvent(l.topBlur,"focusout",n)),i[l.topBlur]=!0,i[l.topFocus]=!0):g.hasOwnProperty(c)&&v.ReactEventListener.trapBubbledEvent(c,g[c],n),i[c]=!0)}},trapBubbledEvent:function(e,t,n){return v.ReactEventListener.trapBubbledEvent(e,t,n)},trapCapturedEvent:function(e,t,n){return v.ReactEventListener.trapCapturedEvent(e,t,n)},ensureScrollValueMonitoring:function(){if(!f){var e=u.refreshScrollValues;v.ReactEventListener.monitorScrollValue(e),f=!0}},eventNameDispatchConfigs:i.eventNameDispatchConfigs,registrationNameModules:i.registrationNameModules,putListener:i.putListener,getListener:i.getListener,deleteListener:i.deleteListener,deleteAllListeners:i.deleteAllListeners});l.measureMethods(v,"ReactBrowserEventEmitter",{putListener:"putListener",deleteListener:"deleteListener"}),e.exports=v},function(e,t,n){(function(t){"use strict";var n={};"production"!==t.env.NODE_ENV&&(n={prop:"prop",context:"context",childContext:"child context"}),e.exports=n}).call(t,n(1))},function(e,t,n){"use strict";var r=n(46),o=r({prop:null,context:null,childContext:null});e.exports=o},function(e,t,n){"use strict";function r(e,t,n,r){o.call(this,e,t,n,r)}var o=n(41),i=n(146),a=n(84),s={screenX:null,screenY:null,clientX:null,clientY:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,getModifierState:a,button:function(e){var t=e.button;return"which"in e?t:2===t?2:4===t?1:0},buttons:null,relatedTarget:function(e){return e.relatedTarget||(e.fromElement===e.srcElement?e.toElement:e.fromElement)},pageX:function(e){return"pageX"in e?e.pageX:e.clientX+i.currentScrollLeft},pageY:function(e){return"pageY"in e?e.pageY:e.clientY+i.currentScrollTop}};o.augmentClass(r,s),e.exports=r},function(e,t,n){(function(t){"use strict";var r=n(3),o={reinitializeTransaction:function(){this.transactionWrappers=this.getTransactionWrappers(),this.wrapperInitData?this.wrapperInitData.length=0:this.wrapperInitData=[],this._isInTransaction=!1},_isInTransaction:!1,getTransactionWrappers:null,isInTransaction:function(){return!!this._isInTransaction},perform:function(e,n,o,i,a,s,l,u){this.isInTransaction()?"production"!==t.env.NODE_ENV?r(!1,"Transaction.perform(...): Cannot initialize a transaction when there is already an outstanding transaction."):r(!1):void 0;var c,p;try{this._isInTransaction=!0,c=!0,this.initializeAll(0),p=e.call(n,o,i,a,s,l,u),c=!1}finally{try{if(c)try{this.closeAll(0)}catch(d){}else this.closeAll(0)}finally{this._isInTransaction=!1}}return p},initializeAll:function(e){for(var t=this.transactionWrappers,n=e;n<t.length;n++){var r=t[n];try{this.wrapperInitData[n]=i.OBSERVED_ERROR,this.wrapperInitData[n]=r.initialize?r.initialize.call(this):null}finally{if(this.wrapperInitData[n]===i.OBSERVED_ERROR)try{this.initializeAll(n+1)}catch(o){}}}},closeAll:function(e){this.isInTransaction()?void 0:"production"!==t.env.NODE_ENV?r(!1,"Transaction.closeAll(): Cannot close transaction when none are open."):r(!1);for(var n=this.transactionWrappers,o=e;o<n.length;o++){var a,s=n[o],l=this.wrapperInitData[o];try{a=!0,l!==i.OBSERVED_ERROR&&s.close&&s.close.call(this,l),a=!1}finally{if(a)try{this.closeAll(o+1)}catch(u){}}}this.wrapperInitData.length=0}},i={Mixin:o,OBSERVED_ERROR:{}};e.exports=i}).call(t,n(1))},function(e,t,n){(function(t){"use strict";var n=!1;if("production"!==t.env.NODE_ENV)try{Object.defineProperty({},"x",{get:function(){}}),n=!0}catch(r){}e.exports=n}).call(t,n(1))},function(e,t){"use strict";function n(e){return o[e]}function r(e){return(""+e).replace(i,n)}var o={"&":"&amp;",">":"&gt;","<":"&lt;",'"':"&quot;","'":"&#x27;"},i=/[&><"']/g;e.exports=r},function(e,t,n){"use strict";var r=n(8),o=/^[ \r\n\t\f]/,i=/<(!--|link|noscript|meta|script|style)[ \r\n\t\f\/>]/,a=function(e,t){e.innerHTML=t};if("undefined"!=typeof MSApp&&MSApp.execUnsafeLocalFunction&&(a=function(e,t){MSApp.execUnsafeLocalFunction(function(){e.innerHTML=t})}),r.canUseDOM){var s=document.createElement("div");s.innerHTML=" ",""===s.innerHTML&&(a=function(e,t){if(e.parentNode&&e.parentNode.replaceChild(e,e),o.test(t)||"<"===t[0]&&i.test(t)){e.innerHTML=String.fromCharCode(65279)+t;var n=e.firstChild;1===n.data.length?e.removeChild(n):n.deleteData(0,1)}else e.innerHTML=t})}e.exports=a},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e){var t=arguments.length<=1||void 0===arguments[1]?"#0000FF":arguments[1],n=arguments.length<=2||void 0===arguments[2]?["#e1002a","#417dc0","#1d9a57","#e9bc2f","#9b3880"]:arguments[2];this.data=null,this.colors=n,this.markerColor=t,this.markerLocation=-1,this.showMarker=!0,this.title=e}function i(e,t,n,r){function o(e){var t=p[e];return t=t>i?a>t?t:a:i,l+c-Math.floor((t-i)*m)}for(var i=Number.MAX_VALUE,a=Number.MIN_VALUE,s=t.x,l=t.y,u=t.width,c=t.height,p=n.data,d=p.length,f=d,h=new Uint16Array(f);f--;){var g=p[f];i=Math.min(i,g),a=Math.max(a,g),h[f]=s+Math.floor(u*(f/(d-1)))}r&&(i=r[0],a=r[1]);var m=c/(a-i);e.beginPath(),e.lineWidth=1,e.strokeStyle=n.color,e.moveTo(h[0],o(0));for(var v=1;d>v;v++)isNaN(p[v])?d>v+1&&!isNaN(p[v+1])&&e.moveTo(h[v+1],o(v+1)):e.lineTo(h[v],o(v));e.stroke()}function a(e,t,n,r){if(!(0>n||n>1)){var o=t.y,i=o+t.height,a=t.x+Math.floor(n*t.width);e.beginPath(),e.lineWidth=1,e.strokeStyle=r,e.moveTo(a,o),e.lineTo(a,i),e.stroke()}}function s(e,t,n,r,o){var i=arguments.length<=5||void 0===arguments[5]?"#000000":arguments[5];e.fillStyle=i,e.font="20px serif",e.textBaseline="top",e.fillText(o,t.x+n,t.y+r)}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=o;var l=n(11),u=r(l),c="painter-ready";u["default"].mixInto(o),o.prototype.updateData=function(e){var t=this;this.data=e;var n=0;e.fields.forEach(function(e){e.color||(e.color=t.colors[n++%t.colors.length])}),this.emit(c,this)},o.prototype.setTitle=function(e){this.title=e,this.emit(c,this)},o.prototype.setMarkerLocation=function(e){this.markerLocation=e,this.emit(c,this)},o.prototype.enableMarker=function(e){this.showMarker!==e&&(this.showMarker=e,this.emit(c,this))},o.prototype.isReady=function(){return null!==this.data},o.prototype.paint=function(e,t){if(this.data&&(e.clearRect(t.x-1,t.y-1,t.width+2,t.height+2),this.data.fields.forEach(function(n){i(e,t,n,n.range)}),this.showMarker&&a(e,t,this.markerLocation,this.markerColor),this.title)){var n="?";this.data.xRange&&2===this.data.xRange.length&&!isNaN(this.markerLocation)&&(n=(this.data.xRange[1]-this.data.xRange[0])*this.markerLocation+this.data.xRange[0],n.toFixed&&(n=n.toFixed(5))),s(e,t,10,10,this.title.replace(/{x}/g,""+n))}},o.prototype.onPainterReady=function(e){return this.on(c,e)},o.prototype.getControlWidgets=function(){return[]}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(2),i=r(o),a=n(204),s=r(a);n(260),t["default"]=i["default"].createClass({displayName:"CompositeControl",propTypes:{model:i["default"].PropTypes.object.isRequired},attachListener:function(e){var t=this;this.pipelineSubscription=e.onChange(function(e,n){t.forceUpdate()})},detachListener:function(){this.pipelineSubscription&&(this.pipelineSubscription.unsubscribe(),this.pipelineSubscription=null)},componentWillReceiveProps:function(e){var t=this.props.model,n=e.model;t!==n&&(this.detachListener(),this.attachListener(n))},componentDidMount:function(){this.attachListener(this.props.model)},componentWillUnmount:function(){this.detachListener()},render:function(){var e=this.props.model,t=e.getPipelineDescription();return i["default"].createElement("div",{className:"CompositePipeline"},t.map(function(t,n){return i["default"].createElement(s["default"],{key:n,item:t,layer:t.ids.join(""),model:e})}))}})},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){var n=A[e];return n?n(t):null}function i(e){if(!e)return[];var t=e.getControlWidgets(),n=[];return t.forEach(function(e){var t=o(e.name,e);t?n.push(t):console.error("Unable to create widget for name: "+name)}),n}Object.defineProperty(t,"__esModule",{value:!0});var a=n(32),s=(r(a),n(96)),l=(r(s),n(15)),u=r(l),c=n(59),p=r(c),d=n(97),f=r(d),h=n(208),g=r(h),m=n(209),v=r(m),b=n(61),y=r(b),_=n(62),x=r(_),E=n(64),C=(r(E),n(215)),w=r(C),D=n(99),T=r(D),M=n(65),k=(r(M),n(98)),N=r(k),P=n(2),R=r(P),S=n(217),O=r(S),A={QueryDataModelWidget:function(e){var t=e.queryDataModel,n=e.handleExploration;return R["default"].createElement(N["default"],{key:"QueryDataModel",handleExploration:!!n,model:t})},EqualizerWidget:function(e){var t=e.levels,n=e.colors,r=void 0===n?["#cccccc"]:n,o=e.callback;return R["default"].createElement(f["default"],{key:"Equalizer",width:300,height:120,layers:t,onChange:o,colors:r})},LookupTableWidget:function(e){var t=e.originalRange,n=void 0===t?[0,1]:t,r=e.lookupTable,o=e.lookupTableManager;return R["default"].createElement(u["default"],{title:"LookupTable",key:"LookupTableWidget_parent"},R["default"].createElement(x["default"],{key:"LookupTableWidget",ref:"LookupTableWidget",originalRange:n,lut:r,lutManager:o}))},LookupTableManagerWidget:function(e){var t=e.lookupTableManager,n=e.field;return n||(n=t.getActiveField()),R["default"].createElement(y["default"],{key:"LookupTableManagerWidget",ref:"LookupTableManagerWidget",field:n,lookupTableManager:t})},CompositeControl:function(e){var t=e.pipelineModel;return R["default"].createElement(u["default"],{title:"Pipeline",key:"CompositeControl_parent"},R["default"].createElement(p["default"],{key:"CompositeControl",ref:"CompositeControl",model:t}))},ProbeControl:function(e){var t=e.model;return R["default"].createElement(T["default"],{key:"ProbeControl",ref:"ProbeControl",imageBuilder:t})},LightPropertiesWidget:function(e){var t=e.light;return R["default"].createElement(v["default"],{key:"LightPropertiesWidget",ref:"LightPropertiesWidget",light:t})},VolumeControlWidget:function(e){var t=e.lookupTable,n=e.equalizer,r=e.intensity,o=e.computation;return R["default"].createElement(O["default"],{key:"VolumeControlWidget",ref:"VolumeControlWidget",intensity:r,computation:o,equalizer:n,lookupTable:t})},PixelOperatorControl:function(e){var t=e.model;return R["default"].createElement(w["default"],{key:"PixelOperatorControl",ref:"PixelOperatorControl",operator:t})},FloatImageControl:function(e){var t=e.model;return R["default"].createElement(g["default"],{key:"FloatImageControl",ref:"FloatImageControl",model:t})}};t["default"]={createWidget:o,getWidgets:i}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(15),i=r(o),a=n(210),s=r(a),l=n(62),u=r(l),c=n(2),p=r(c);t["default"]=p["default"].createClass({displayName:"LookupTableManagerWidget",propTypes:{lookupTableManager:p["default"].PropTypes.object.isRequired},getInitialState:function(){var e=this.props.lookupTableManager.luts,t=Object.keys(e),n=this.props.field||t[0];return{field:n,fields:t}},componentWillMount:function(){var e=this;this.changeSubscription=this.props.lookupTableManager.onFieldsChange(function(t,n){var r=Object.keys(e.props.lookupTableManager.luts);e.setState({fields:r})})},componentWillUnmount:function(){this.changeSubscription&&(this.changeSubscription.unsubscribe(),this.changeSubscription=null)},onFieldsChange:function(e){this.props.lookupTableManager.updateActiveLookupTable(e),this.setState({field:e})},render:function(){var e=this.props.lookupTableManager,t=e.getLookupTable(this.state.field),n=t.getScalarRange();return p["default"].createElement(i["default"],{title:"Lookup Table",subtitle:p["default"].createElement(s["default"],{field:this.state.field,fields:this.state.fields,onChange:this.onFieldsChange})},p["default"].createElement("div",{className:"LookupTableWidget_selector"},p["default"].createElement(u["default"],{lutManager:e,lut:t,originalRange:n})))}})},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(202),i=r(o),a=n(63),s=r(a),l=n(2),u=r(l),c=n(12),p=r(c);n(265),t["default"]=u["default"].createClass({displayName:"LookupTable",propTypes:{lut:u["default"].PropTypes.object.isRequired,inverse:u["default"].PropTypes.bool},getInitialState:function(){return{mode:"none",activePreset:this.props.lut.getPresets()[0],currentControlPointIndex:0,internal_lut:!1}},toggleEditMode:function(){"none"===this.state.mode||"edit"!==this.state.mode?this.setState({mode:"edit",internal_lut:!1}):this.setState({mode:"none",internal_lut:!1})},togglePresetMode:function(){"none"===this.state.mode||"preset"!==this.state.mode?(this.deltaPreset(0),this.setState({mode:"preset",internal_lut:!0})):this.setState({mode:"none",internal_lut:!1})},componentDidMount:function(){var e=p["default"].findDOMNode(this.refs.canvas);this.props.lut.drawToCanvas(e)},componentDidUpdate:function(e,t){if(!this.state.internal_lut){var n=p["default"].findDOMNode(this.refs.canvas);if(this.props.lut.drawToCanvas(n),"edit"===this.state.mode){var r=n.getContext("2d"),o=Math.floor(this.props.lut.getControlPoint(this.state.currentControlPointIndex).x*this.props.lut.colorTableSize),i=r.getImageData(0,0,this.props.lut.colorTableSize,1),a=i.data[4*o]+i.data[4*o+1]+i.data[4*o+2]>382.5?0:255;i.data[4*o+0]=this.props.inverse?(i.data[4*o+0]+128)%256:a,i.data[4*o+1]=this.props.inverse?(i.data[4*o+1]+128)%256:a,i.data[4*o+2]=this.props.inverse?(i.data[4*o+2]+128)%256:a,r.putImageData(i,0,0)}}},updateScalarRange:function(){var e=p["default"].findDOMNode(this.refs.min).value,t=p["default"].findDOMNode(this.refs.max).value;this.props.lut.setScalarRange(e,e===t?t+1:t),this.forceUpdate()},addControlPoint:function(){var e=this.props.lut.addControlPoint({x:.5,r:0,g:0,b:0});this.setState({currentControlPointIndex:e})},deleteControlPoint:function(){this.props.lut.removeControlPoint(this.state.currentControlPointIndex)&&this.forceUpdate()},nextControlPoint:function(){var e=this.state.currentControlPointIndex+1;e<this.props.lut.getNumberOfControlPoints()&&this.setState({currentControlPointIndex:e})},previousControlPoint:function(){var e=this.state.currentControlPointIndex-1;e>-1&&this.setState({currentControlPointIndex:e})},updateScalar:function(e){var t=this.props.lut.getScalarRange(),n=(e-t[0])/(t[1]-t[0]),r=this.props.lut.getControlPoint(this.state.currentControlPointIndex),o=this.props.lut.updateControlPoint(this.state.currentControlPointIndex,{x:n,r:r.r,g:r.g,b:r.b});this.setState({currentControlPointIndex:o}),this.forceUpdate()},updateRGB:function(e){var t=this.props.lut.getControlPoint(this.state.currentControlPointIndex),n=this.props.lut.updateControlPoint(this.state.currentControlPointIndex,{x:t.x,r:e[0]/255,g:e[1]/255,b:e[2]/255});this.setState({currentControlPointIndex:n})},setPreset:function(e){this.props.lut.setPreset(e.target.dataset.name),this.togglePresetMode()},resetRange:function(){var e=this.props.originalRange;this.props.lut.setScalarRange(e[0],e[1])},changePreset:function(e){e.preventDefault();var t=e.detail||e.deltaY||e.deltaX;this.deltaPreset(t)},nextPreset:function(){this.deltaPreset(1)},previousPreset:function(){this.deltaPreset(-1)},deltaPreset:function(e){var t=this.props.lut.getPresets(),n=t.indexOf(this.state.activePreset),r=null;if(n+=0===e?0:0>e?-1:1,!(0>n||n===t.length)){if(r=t[n],this.props.lutManager){var o=this.props.lutManager.getLookupTable("__internal");o?o.setPreset(r):o=this.props.lutManager.addLookupTable("__internal",[0,1],r),o.drawToCanvas(p["default"].findDOMNode(this.refs.canvas))}this.setState({activePreset:r})}},render:function(){var e=this,t=this.props.lut.getScalarRange(),n=this.props.lut.getControlPoint(this.state.currentControlPointIndex),r=n.x*(t[1]-t[0])+t[0],o=[Math.floor(255*n.r),Math.floor(255*n.g),Math.floor(255*n.b)];return u["default"].createElement("div",{className:"LookupTableWidget is-mode-"+this.state.mode},u["default"].createElement("div",{className:"LookupTableWidget__line"},u["default"].createElement("i",{className:"fa fa-fw fa-pencil LookupTableWidget__button",onClick:this.toggleEditMode}),u["default"].createElement("canvas",{ref:"canvas",className:"LookupTableWidget__canvas",width:this.props.lut.colorTableSize*this.props.lut.scale,height:"1"}),u["default"].createElement("i",{className:"fa fa-fw fa-tint LookupTableWidget__button",onClick:this.togglePresetMode})),u["default"].createElement("div",{className:"LookupTableWidget__range"},u["default"].createElement(s["default"],{ref:"min",classes:["LookupTableWidget__input"],value:this.props.lut.getScalarRange()[0],onChange:this.updateScalarRange}),u["default"].createElement("i",{onClick:this.resetRange,className:"fa fa-fw fa-arrows-h LookupTableWidget__button"}),u["default"].createElement(s["default"],{ref:"max",classes:["LookupTableWidget__input","right"],value:this.props.lut.getScalarRange()[1],onChange:this.updateScalarRange})),u["default"].createElement("div",{className:"LookupTableWidget__editContent"},u["default"].createElement("div",{className:"LookupTableWidget__line"},u["default"].createElement("i",{onClick:this.previousControlPoint,className:"fa fa-fw fa-chevron-left LookupTableWidget__button right"}),u["default"].createElement("div",{className:"LookupTableWidget__label"},this.state.currentControlPointIndex+1," / ",this.props.lut.getNumberOfControlPoints()),u["default"].createElement("i",{onClick:this.nextControlPoint,className:"fa fa-fw fa-chevron-right LookupTableWidget__button right"}),u["default"].createElement("i",{onClick:this.addControlPoint,className:"fa fa-fw fa-plus LookupTableWidget__button right"}),u["default"].createElement(s["default"],{ref:"x",classes:["LookupTableWidget__input","right"],value:r,onChange:this.updateScalar}),u["default"].createElement("i",{onClick:this.deleteControlPoint,className:"fa fa-fw fa-trash-o LookupTableWidget__button"})),u["default"].createElement(i["default"],{color:o,onChange:this.updateRGB})),u["default"].createElement("div",{className:"LookupTableWidget__presets"},u["default"].createElement("i",{onClick:this.previousPreset,className:(this.state.activePreset===this.props.lut.getPresets()[0]?"is-disabled ":"")+"fa fa-fw fa-chevron-left LookupTableWidget__button right"}),this.props.lut.getPresets().map(function(t){return u["default"].createElement("div",{onClick:e.setPreset,onScroll:e.changePreset,onWheel:e.changePreset,className:(e.state.activePreset===t?"":"is-hidden ")+"LookupTableWidget__preset","data-name":t,key:t},t)}),u["default"].createElement("i",{onClick:this.nextPreset,className:(this.state.activePreset===this.props.lut.getPresets()[this.props.lut.getPresets().length-1]?"is-disabled ":"")+"fa fa-fw fa-chevron-right LookupTableWidget__button right"})))}})},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(2),i=r(o);t["default"]=i["default"].createClass({displayName:"NumberInput",propTypes:{min:i["default"].PropTypes.oneOfType([i["default"].PropTypes.number,i["default"].PropTypes.string]),max:i["default"].PropTypes.oneOfType([i["default"].PropTypes.number,i["default"].PropTypes.string]),step:i["default"].PropTypes.oneOfType([i["default"].PropTypes.number,i["default"].PropTypes.string]),value:i["default"].PropTypes.oneOfType([i["default"].PropTypes.number,i["default"].PropTypes.string]),classes:i["default"].PropTypes.array,onChange:i["default"].PropTypes.func},getInitialState:function(){return{editing:!1,valueRep:this.props.value}},getDefaultProps:function(){return{step:1,value:0,classes:[]}},valueChange:function(e){var t=e.target.value;this.setState({editing:!0,valueRep:t});var n=parseFloat(t);!isNaN(n)&&this.props.onChange&&(this.props.name?this.props.onChange(n,this.props.name):this.props.onChange(n))},endEditing:function(){this.setState({editing:!1})},render:function(){return i["default"].createElement("input",{className:"NumberInput "+this.props.classes.join(" "),type:"number",min:this.props.min,max:this.props.max,step:this.props.step,value:this.state.editing?this.state.valueRep:this.props.value,onChange:this.valueChange,onBlur:this.endEditing})}})},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(2),i=r(o);n(267),t["default"]=i["default"].createClass({displayName:"NumberSliderControl",propTypes:{value:i["default"].PropTypes.oneOfType([i["default"].PropTypes.number,i["default"].PropTypes.string]),max:i["default"].PropTypes.oneOfType([i["default"].PropTypes.number,i["default"].PropTypes.string]),min:i["default"].PropTypes.oneOfType([i["default"].PropTypes.number,i["default"].PropTypes.string]),step:i["default"].PropTypes.oneOfType([i["default"].PropTypes.number,i["default"].PropTypes.string]),name:i["default"].PropTypes.string,onChange:i["default"].PropTypes.func},getInitialState:function(){return{value:this.props.value,max:this.props.max,min:this.props.min,step:this.props.step}},getDefaultProps:function(){return{value:50,max:100,min:0,step:1}},valInput:function(e){this.setState({value:e.target.value}),this.props.onChange&&(this.props.name&&(e.target.name=this.props.name),this.props.onChange(e))},value:function(e){return 0===arguments.length?this.state.value:(e=Math.max(this.state.min,Math.min(e,this.state.max)),void this.setState({value:e}))},render:function(){var e=this.props.min,t=this.props.max;return i["default"].createElement("div",{className:"NumberControlSlider"},i["default"].createElement("input",{type:"range",value:this.props.value,onChange:this.valInput,max:t,min:e}),i["default"].createElement("input",{type:"number",value:this.props.value,onChange:this.valInput,max:t,min:e}))}})},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(214),i=r(o),a=n(213),s=r(a),l=n(44),u=r(l),c=n(45),p=r(c),d=n(2),f=r(d);n(268),t["default"]=f["default"].createClass({displayName:"QueryDataModelWidget",mixins:[u["default"],p["default"]],render:function(){var e=this.props.model,t=e.originalData.arguments_order;return f["default"].createElement("div",{className:"QueryDataModelWidget"},t.map(function(t){return"list"===e.getUiType(t)?f["default"].createElement(i["default"],{key:t,model:e,arg:t,listener:!1}):"slider"===e.getUiType(t)?f["default"].createElement(s["default"],{key:t,model:e,arg:t,listener:!1}):void 0}))}})},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(2),i=r(o);n(270),t["default"]=i["default"].createClass({displayName:"ToggleIconButton",propTypes:{classes:i["default"].PropTypes.array,value:i["default"].PropTypes.bool,icon:i["default"].PropTypes.string,toggle:i["default"].PropTypes.bool,onChange:i["default"].PropTypes.func},getInitialState:function(){return{enabled:this.props.value}},getDefaultProps:function(){return{classes:[],value:!0,icon:"fa-sun-o",toggle:!0}},buttonClicked:function(e){var t=this.props.toggle?!this.state.enabled:this.state.enabled;this.props.onChange&&this.props.onChange(t),this.props.toggle&&this.setState({enabled:t})},componentWillReceiveProps:function(e){e.value!==this.state.enabled&&this.setState({enabled:e.value})},render:function(){var e=["ToggleIconButton","fa","fa-fw",this.props.icon].concat(this.props.classes);return e.push(this.state.enabled||this.props.alwaysOn?" is-enabled":" is-disabled"),i["default"].createElement("i",{className:e.join(" "),
onClick:this.buttonClicked})}})},function(e,t){e.exports="\nprecision mediump float;\n\nuniform sampler2D u_image;\nvarying vec2 v_texCoord;\n\nvoid main() {\n    vec4 color = texture2D(u_image, v_texCoord);\n    gl_FragColor = vec4(color.rgb, 1.0);\n}\n"},function(e,t){var n={};n.EPSILON=1e-6,n.ARRAY_TYPE="undefined"!=typeof Float32Array?Float32Array:Array,n.RANDOM=Math.random,n.setMatrixArrayType=function(e){GLMAT_ARRAY_TYPE=e};var r=Math.PI/180;n.toRadian=function(e){return e*r},e.exports=n},function(e,t,n){function r(e,t,n){i(e,function(r,i){return o(e,i)?t.call(n,e[i],i,e):void 0})}var o=n(47),i=n(309);e.exports=r},function(e,t,n){var r,o;r=[n(118),n(71),n(313)],o=function(e,t,n){function r(r,i,a){return a=a||e,t(r)&&t(i)?r.length!==i.length?!1:n(r,o(a),i):a(r,i)}function o(e){return function(t,n){return n in this&&e(t,this[n])}}return r}.apply(t,r),!(void 0!==o&&(e.exports=o))},function(e,t,n){var r,o;r=[n(119)],o=function(e){var t=Array.isArray||function(t){return e(t,"Array")};return t}.apply(t,r),!(void 0!==o&&(e.exports=o))},function(e,t,n){var r;r=function(){function e(e){return null===e?"Null":e===t?"Undefined":n.exec(r.call(e))[1]}var t,n=/^\[object (.*)\]$/,r=Object.prototype.toString;return e}.call(t,n,t,e),!(void 0!==r&&(e.exports=r))},function(e,t,n){var r,o;r=[n(37),n(320),n(120),n(118)],o=function(e,t,n,r){function o(t){return function(n,r){return e(this,r)&&t(n,this[r])}}function i(t,n){return e(this,n)}function a(e,a,s){return s=s||r,n(e)&&n(a)?t(e,o(s),a)&&t(a,i,e):s(e,a)}return a}.apply(t,r),!(void 0!==o&&(e.exports=o))},function(e,t,n){(function(t){"use strict";function r(){this._callbacks=null,this._contexts=null}var o=n(25),i=n(4),a=n(3);i(r.prototype,{enqueue:function(e,t){this._callbacks=this._callbacks||[],this._contexts=this._contexts||[],this._callbacks.push(e),this._contexts.push(t)},notifyAll:function(){var e=this._callbacks,n=this._contexts;if(e){e.length!==n.length?"production"!==t.env.NODE_ENV?a(!1,"Mismatched list of contexts in callback queue"):a(!1):void 0,this._callbacks=null,this._contexts=null;for(var r=0;r<e.length;r++)e[r].call(n[r]);e.length=0,n.length=0}},reset:function(){this._callbacks=null,this._contexts=null},destructor:function(){this.reset()}}),o.addPoolingTo(r),e.exports=r}).call(t,n(1))},function(e,t,n){(function(t){"use strict";function r(e){return p.hasOwnProperty(e)?!0:c.hasOwnProperty(e)?!1:u.test(e)?(p[e]=!0,!0):(c[e]=!0,"production"!==t.env.NODE_ENV?l(!1,"Invalid attribute name: `%s`",e):void 0,!1)}function o(e,t){return null==t||e.hasBooleanValue&&!t||e.hasNumericValue&&isNaN(t)||e.hasPositiveNumericValue&&1>t||e.hasOverloadedBooleanValue&&t===!1}var i=n(26),a=n(17),s=n(382),l=n(5),u=/^[a-zA-Z_][\w\.\-]*$/,c={},p={};if("production"!==t.env.NODE_ENV)var d={children:!0,dangerouslySetInnerHTML:!0,key:!0,ref:!0},f={},h=function(e){if(!(d.hasOwnProperty(e)&&d[e]||f.hasOwnProperty(e)&&f[e])){f[e]=!0;var n=e.toLowerCase(),r=i.isCustomAttribute(n)?n:i.getPossibleStandardName.hasOwnProperty(n)?i.getPossibleStandardName[n]:null;"production"!==t.env.NODE_ENV?l(null==r,"Unknown DOM property %s. Did you mean %s?",e,r):void 0}};var g={createMarkupForID:function(e){return i.ID_ATTRIBUTE_NAME+"="+s(e)},setAttributeForID:function(e,t){e.setAttribute(i.ID_ATTRIBUTE_NAME,t)},createMarkupForProperty:function(e,n){var r=i.properties.hasOwnProperty(e)?i.properties[e]:null;if(r){if(o(r,n))return"";var a=r.attributeName;return r.hasBooleanValue||r.hasOverloadedBooleanValue&&n===!0?a+'=""':a+"="+s(n)}return i.isCustomAttribute(e)?null==n?"":e+"="+s(n):("production"!==t.env.NODE_ENV&&h(e),null)},createMarkupForCustomAttribute:function(e,t){return r(e)&&null!=t?e+"="+s(t):""},setValueForProperty:function(e,n,r){var a=i.properties.hasOwnProperty(n)?i.properties[n]:null;if(a){var s=a.mutationMethod;if(s)s(e,r);else if(o(a,r))this.deleteValueForProperty(e,n);else if(a.mustUseAttribute){var l=a.attributeName,u=a.attributeNamespace;u?e.setAttributeNS(u,l,""+r):a.hasBooleanValue||a.hasOverloadedBooleanValue&&r===!0?e.setAttribute(l,""):e.setAttribute(l,""+r)}else{var c=a.propertyName;a.hasSideEffects&&""+e[c]==""+r||(e[c]=r)}}else i.isCustomAttribute(n)?g.setValueForAttribute(e,n,r):"production"!==t.env.NODE_ENV&&h(n)},setValueForAttribute:function(e,t,n){r(t)&&(null==n?e.removeAttribute(t):e.setAttribute(t,""+n))},deleteValueForProperty:function(e,n){var r=i.properties.hasOwnProperty(n)?i.properties[n]:null;if(r){var o=r.mutationMethod;if(o)o(e,void 0);else if(r.mustUseAttribute)e.removeAttribute(r.attributeName);else{var a=r.propertyName,s=i.getDefaultValueForProperty(e.nodeName,a);r.hasSideEffects&&""+e[a]===s||(e[a]=s)}}else i.isCustomAttribute(n)?e.removeAttribute(n):"production"!==t.env.NODE_ENV&&h(n)}};a.measureMethods(g,"DOMPropertyOperations",{setValueForProperty:"setValueForProperty",setValueForAttribute:"setValueForAttribute",deleteValueForProperty:"deleteValueForProperty"}),e.exports=g}).call(t,n(1))},function(e,t,n){(function(t){"use strict";function r(e){null!=e.checkedLink&&null!=e.valueLink?"production"!==t.env.NODE_ENV?u(!1,"Cannot provide a checkedLink and a valueLink. If you want to use checkedLink, you probably don't want to use valueLink and vice versa."):u(!1):void 0}function o(e){r(e),null!=e.value||null!=e.onChange?"production"!==t.env.NODE_ENV?u(!1,"Cannot provide a valueLink and a value or onChange event. If you want to use value or onChange, you probably don't want to use valueLink."):u(!1):void 0}function i(e){r(e),null!=e.checked||null!=e.onChange?"production"!==t.env.NODE_ENV?u(!1,"Cannot provide a checkedLink and a checked property or onChange event. If you want to use checked or onChange, you probably don't want to use checkedLink"):u(!1):void 0}function a(e){if(e){var t=e.getName();if(t)return" Check the render method of `"+t+"`."}return""}var s=n(144),l=n(52),u=n(3),c=n(5),p={button:!0,checkbox:!0,image:!0,hidden:!0,radio:!0,reset:!0,submit:!0},d={value:function(e,t,n){return!e[t]||p[e.type]||e.onChange||e.readOnly||e.disabled?null:new Error("You provided a `value` prop to a form field without an `onChange` handler. This will render a read-only field. If the field should be mutable use `defaultValue`. Otherwise, set either `onChange` or `readOnly`.")},checked:function(e,t,n){return!e[t]||e.onChange||e.readOnly||e.disabled?null:new Error("You provided a `checked` prop to a form field without an `onChange` handler. This will render a read-only field. If the field should be mutable use `defaultChecked`. Otherwise, set either `onChange` or `readOnly`.")},onChange:s.func},f={},h={checkPropTypes:function(e,n,r){for(var o in d){if(d.hasOwnProperty(o))var i=d[o](n,o,e,l.prop);if(i instanceof Error&&!(i.message in f)){f[i.message]=!0;var s=a(r);"production"!==t.env.NODE_ENV?c(!1,"Failed form propType: %s%s",i.message,s):void 0}}},getValue:function(e){return e.valueLink?(o(e),e.valueLink.value):e.value},getChecked:function(e){return e.checkedLink?(i(e),e.checkedLink.value):e.checked},executeOnChange:function(e,t){return e.valueLink?(o(e),e.valueLink.requestChange(t.target.value)):e.checkedLink?(i(e),e.checkedLink.requestChange(t.target.checked)):e.onChange?e.onChange.call(void 0,t):void 0}};e.exports=h}).call(t,n(1))},function(e,t,n){"use strict";var r=n(79),o=n(10),i={processChildrenUpdates:r.dangerouslyProcessChildrenUpdates,replaceNodeWithMarkupByID:r.dangerouslyReplaceNodeWithMarkupByID,unmountIDFromEnvironment:function(e){o.purgeID(e)}};e.exports=i},function(e,t,n){(function(t){"use strict";var r=n(3),o=!1,i={unmountIDFromEnvironment:null,replaceNodeWithMarkupByID:null,processChildrenUpdates:null,injection:{injectEnvironment:function(e){o?"production"!==t.env.NODE_ENV?r(!1,"ReactCompositeComponent: injectEnvironment() can only be called once."):r(!1):void 0,i.unmountIDFromEnvironment=e.unmountIDFromEnvironment,i.replaceNodeWithMarkupByID=e.replaceNodeWithMarkupByID,i.processChildrenUpdates=e.processChildrenUpdates,o=!0}}};e.exports=i}).call(t,n(1))},function(e,t,n){(function(t){"use strict";var r=n(124),o=n(75),i=n(10),a=n(17),s=n(3),l={dangerouslySetInnerHTML:"`dangerouslySetInnerHTML` must be set using `updateInnerHTMLByID()`.",style:"`style` must be set using `updateStylesByID()`."},u={updatePropertyByID:function(e,n,r){var a=i.getNode(e);l.hasOwnProperty(n)?"production"!==t.env.NODE_ENV?s(!1,"updatePropertyByID(...): %s",l[n]):s(!1):void 0,null!=r?o.setValueForProperty(a,n,r):o.deleteValueForProperty(a,n)},dangerouslyReplaceNodeWithMarkupByID:function(e,t){var n=i.getNode(e);r.dangerouslyReplaceNodeWithMarkup(n,t)},dangerouslyProcessChildrenUpdates:function(e,t){for(var n=0;n<e.length;n++)e[n].parentNode=i.getNode(e[n].parentID);r.processUpdates(e,t)}};a.measureMethods(u,"ReactDOMIDOperations",{dangerouslyReplaceNodeWithMarkupByID:"dangerouslyReplaceNodeWithMarkupByID",dangerouslyProcessChildrenUpdates:"dangerouslyProcessChildrenUpdates"}),e.exports=u}).call(t,n(1))},function(e,t,n){(function(t){"use strict";function r(e){l.enqueueUpdate(e)}function o(e,n){var r=s.get(e);return r?("production"!==t.env.NODE_ENV&&("production"!==t.env.NODE_ENV?p(null==i.current,"%s(...): Cannot update during an existing state transition (such as within `render`). Render methods should be a pure function of props and state.",n):void 0),r):("production"!==t.env.NODE_ENV&&("production"!==t.env.NODE_ENV?p(!n,"%s(...): Can only update a mounted or mounting component. This usually means you called %s() on an unmounted component. This is a no-op. Please check the code for the %s component.",n,n,e.constructor.displayName):void 0),null)}var i=n(22),a=n(14),s=n(40),l=n(18),u=n(4),c=n(3),p=n(5),d={isMounted:function(e){if("production"!==t.env.NODE_ENV){var n=i.current;null!==n&&("production"!==t.env.NODE_ENV?p(n._warnedAboutRefsInRender,"%s is accessing isMounted inside its render() function. render() should be a pure function of props and state. It should never access something that requires stale data from the previous render, such as refs. Move this logic to componentDidMount and componentDidUpdate instead.",n.getName()||"A component"):void 0,n._warnedAboutRefsInRender=!0)}var r=s.get(e);return r?!!r._renderedComponent:!1},enqueueCallback:function(e,n){"function"!=typeof n?"production"!==t.env.NODE_ENV?c(!1,"enqueueCallback(...): You called `setProps`, `replaceProps`, `setState`, `replaceState`, or `forceUpdate` with a callback that isn't callable."):c(!1):void 0;var i=o(e);return i?(i._pendingCallbacks?i._pendingCallbacks.push(n):i._pendingCallbacks=[n],void r(i)):null},enqueueCallbackInternal:function(e,n){"function"!=typeof n?"production"!==t.env.NODE_ENV?c(!1,"enqueueCallback(...): You called `setProps`, `replaceProps`, `setState`, `replaceState`, or `forceUpdate` with a callback that isn't callable."):c(!1):void 0,e._pendingCallbacks?e._pendingCallbacks.push(n):e._pendingCallbacks=[n],r(e)},enqueueForceUpdate:function(e){var t=o(e,"forceUpdate");t&&(t._pendingForceUpdate=!0,r(t))},enqueueReplaceState:function(e,t){var n=o(e,"replaceState");n&&(n._pendingStateQueue=[t],n._pendingReplaceState=!0,r(n))},enqueueSetState:function(e,t){var n=o(e,"setState");if(n){var i=n._pendingStateQueue||(n._pendingStateQueue=[]);i.push(t),r(n)}},enqueueSetProps:function(e,t){var n=o(e,"setProps");n&&d.enqueueSetPropsInternal(n,t)},enqueueSetPropsInternal:function(e,n){var o=e._topLevelWrapper;o?void 0:"production"!==t.env.NODE_ENV?c(!1,"setProps(...): You called `setProps` on a component with a parent. This is an anti-pattern since props will get reactively updated when rendered. Instead, change the owner's `render` method to pass the correct value as props to the component where it is created."):c(!1);var i=o._pendingElement||o._currentElement,s=i.props,l=u({},s.props,n);o._pendingElement=a.cloneAndReplaceProps(i,a.cloneAndReplaceProps(s,l)),r(o)},enqueueReplaceProps:function(e,t){var n=o(e,"replaceProps");n&&d.enqueueReplacePropsInternal(n,t)},enqueueReplacePropsInternal:function(e,n){var o=e._topLevelWrapper;o?void 0:"production"!==t.env.NODE_ENV?c(!1,"replaceProps(...): You called `replaceProps` on a component with a parent. This is an anti-pattern since props will get reactively updated when rendered. Instead, change the owner's `render` method to pass the correct value as props to the component where it is created."):c(!1);var i=o._pendingElement||o._currentElement,s=i.props;o._pendingElement=a.cloneAndReplaceProps(i,a.cloneAndReplaceProps(s,n)),r(o)},enqueueElementInternal:function(e,t){e._pendingElement=t,r(e)}};e.exports=d}).call(t,n(1))},function(e,t){"use strict";e.exports="0.14.3"},function(e,t,n){(function(t){"use strict";function r(e){if("production"!==t.env.NODE_ENV){var n=o.current;null!==n&&("production"!==t.env.NODE_ENV?l(n._warnedAboutRefsInRender,"%s is accessing getDOMNode or findDOMNode inside its render(). render() should be a pure function of props and state. It should never access something that requires stale data from the previous render, such as refs. Move this logic to componentDidMount and componentDidUpdate instead.",n.getName()||"A component"):void 0,n._warnedAboutRefsInRender=!0)}return null==e?null:1===e.nodeType?e:i.has(e)?a.getNodeFromInstance(e):(null!=e.render&&"function"==typeof e.render?"production"!==t.env.NODE_ENV?s(!1,"findDOMNode was called on an unmounted component."):s(!1):void 0,void("production"!==t.env.NODE_ENV?s(!1,"Element appears to be neither ReactComponent nor DOMNode (keys: %s)",Object.keys(e)):s(!1)))}var o=n(22),i=n(40),a=n(10),s=n(3),l=n(5);e.exports=r}).call(t,n(1))},function(e,t){"use strict";function n(e){var t,n=e.keyCode;return"charCode"in e?(t=e.charCode,0===t&&13===n&&(t=13)):t=n,t>=32||13===t?t:0}e.exports=n},function(e,t){"use strict";function n(e){var t=this,n=t.nativeEvent;if(n.getModifierState)return n.getModifierState(e);var r=o[e];return r?!!n[r]:!1}function r(e){return n}var o={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};e.exports=r},function(e,t){"use strict";function n(e){var t=e.target||e.srcElement||window;return 3===t.nodeType?t.parentNode:t}e.exports=n},function(e,t){"use strict";function n(e){var t=e&&(r&&e[r]||e[o]);return"function"==typeof t?t:void 0}var r="function"==typeof Symbol&&Symbol.iterator,o="@@iterator";e.exports=n},function(e,t,n){(function(t){"use strict";function r(e){if(e){var t=e.getName();if(t)return" Check the render method of `"+t+"`."}return""}function o(e){return"function"==typeof e&&"undefined"!=typeof e.prototype&&"function"==typeof e.prototype.mountComponent&&"function"==typeof e.prototype.receiveComponent}function i(e){var n;if(null===e||e===!1)n=new s(i);else if("object"==typeof e){var a=e;!a||"function"!=typeof a.type&&"string"!=typeof a.type?"production"!==t.env.NODE_ENV?c(!1,"Element type is invalid: expected a string (for built-in components) or a class/function (for composite components) but got: %s.%s",null==a.type?a.type:typeof a.type,r(a._owner)):c(!1):void 0,n="string"==typeof a.type?l.createInternalComponent(a):o(a.type)?new a.type(a):new d}else"string"==typeof e||"number"==typeof e?n=l.createInstanceForText(e):"production"!==t.env.NODE_ENV?c(!1,"Encountered invalid React node of type %s",typeof e):c(!1);return"production"!==t.env.NODE_ENV&&("production"!==t.env.NODE_ENV?p("function"==typeof n.construct&&"function"==typeof n.mountComponent&&"function"==typeof n.receiveComponent&&"function"==typeof n.unmountComponent,"Only React Components can be mounted."):void 0),n.construct(e),n._mountIndex=0,n._mountImage=null,"production"!==t.env.NODE_ENV&&(n._isOwnerNecessary=!1,n._warnedAboutRefsInRender=!1),"production"!==t.env.NODE_ENV&&Object.preventExtensions&&Object.preventExtensions(n),n}var a=n(341),s=n(136),l=n(142),u=n(4),c=n(3),p=n(5),d=function(){};u(d.prototype,a.Mixin,{_instantiateReactComponent:i}),e.exports=i}).call(t,n(1))},function(e,t,n){"use strict";/**
	 * Checks if an event is supported in the current execution environment.
	 *
	 * NOTE: This will not work correctly for non-generic events such as `change`,
	 * `reset`, `load`, `error`, and `select`.
	 *
	 * Borrows from Modernizr.
	 *
	 * @param {string} eventNameSuffix Event name, e.g. "click".
	 * @param {?boolean} capture Check if the capture phase is supported.
	 * @return {boolean} True if the event is supported.
	 * @internal
	 * @license Modernizr 3.0.0pre (Custom Build) | MIT
	 */
function r(e,t){if(!i.canUseDOM||t&&!("addEventListener"in document))return!1;var n="on"+e,r=n in document;if(!r){var a=document.createElement("div");a.setAttribute(n,"return;"),r="function"==typeof a[n]}return!r&&o&&"wheel"===e&&(r=document.implementation.hasFeature("Events.wheel","3.0")),r}var o,i=n(8);i.canUseDOM&&(o=document.implementation&&document.implementation.hasFeature&&document.implementation.hasFeature("","")!==!0),e.exports=r},function(e,t,n){"use strict";var r=n(8),o=n(56),i=n(57),a=function(e,t){e.textContent=t};r.canUseDOM&&("textContent"in document.documentElement||(a=function(e,t){i(e,o(t))})),e.exports=a},function(e,t){"use strict";function n(e,t){var n=null===e||e===!1,r=null===t||t===!1;if(n||r)return n===r;var o=typeof e,i=typeof t;return"string"===o||"number"===o?"string"===i||"number"===i:"object"===i&&e.type===t.type&&e.key===t.key}e.exports=n},function(e,t,n){(function(t){"use strict";function r(e){return v[e]}function o(e,t){return e&&null!=e.key?a(e.key):t.toString(36)}function i(e){return(""+e).replace(b,r)}function a(e){return"$"+i(e)}function s(e,n,r,i){var l=typeof e;if(("undefined"===l||"boolean"===l)&&(e=null),null===e||"string"===l||"number"===l||c.isValidElement(e))return r(i,e,""===n?g+o(e,0):n),1;var p,v,b=0,_=""===n?g:n+m;if(Array.isArray(e))for(var x=0;x<e.length;x++)p=e[x],v=_+o(p,x),b+=s(p,v,r,i);else{var E=d(e);if(E){var C,w=E.call(e);if(E!==e.entries)for(var D=0;!(C=w.next()).done;)p=C.value,v=_+o(p,D++),b+=s(p,v,r,i);else for("production"!==t.env.NODE_ENV&&("production"!==t.env.NODE_ENV?h(y,"Using Maps as children is not yet fully supported. It is an experimental feature that might be removed. Convert it to a sequence / iterable of keyed ReactElements instead."):void 0,y=!0);!(C=w.next()).done;){var T=C.value;T&&(p=T[1],v=_+a(T[0])+m+o(p,0),b+=s(p,v,r,i))}}else if("object"===l){var M="";if("production"!==t.env.NODE_ENV&&(M=" If you meant to render a collection of children, use an array instead or wrap the object using createFragment(object) from the React add-ons.",e._isReactElement&&(M=" It looks like you're using an element created by a different version of React. Make sure to use only one copy of React."),u.current)){var k=u.current.getName();k&&(M+=" Check the render method of `"+k+"`.")}var N=String(e);"production"!==t.env.NODE_ENV?f(!1,"Objects are not valid as a React child (found: %s).%s","[object Object]"===N?"object with keys {"+Object.keys(e).join(", ")+"}":N,M):f(!1)}}return b}function l(e,t,n){return null==e?0:s(e,"",t,n)}var u=n(22),c=n(14),p=n(29),d=n(86),f=n(3),h=n(5),g=p.SEPARATOR,m=":",v={"=":"=0",".":"=1",":":"=2"},b=/[=.:]/g,y=!1;e.exports=l}).call(t,n(1))},function(e,t,n){(function(t){"use strict";var r=n(4),o=n(19),i=n(5),a=o;if("production"!==t.env.NODE_ENV){var s=["address","applet","area","article","aside","base","basefont","bgsound","blockquote","body","br","button","caption","center","col","colgroup","dd","details","dir","div","dl","dt","embed","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","iframe","img","input","isindex","li","link","listing","main","marquee","menu","menuitem","meta","nav","noembed","noframes","noscript","object","ol","p","param","plaintext","pre","script","section","select","source","style","summary","table","tbody","td","template","textarea","tfoot","th","thead","title","tr","track","ul","wbr","xmp"],l=["applet","caption","html","table","td","th","marquee","object","template","foreignObject","desc","title"],u=l.concat(["button"]),c=["dd","dt","li","option","optgroup","p","rp","rt"],p={parentTag:null,formTag:null,aTagInScope:null,buttonTagInScope:null,nobrTagInScope:null,pTagInButtonScope:null,listItemTagAutoclosing:null,dlItemTagAutoclosing:null},d=function(e,t,n){var o=r({},e||p),i={tag:t,instance:n};return-1!==l.indexOf(t)&&(o.aTagInScope=null,o.buttonTagInScope=null,o.nobrTagInScope=null),-1!==u.indexOf(t)&&(o.pTagInButtonScope=null),-1!==s.indexOf(t)&&"address"!==t&&"div"!==t&&"p"!==t&&(o.listItemTagAutoclosing=null,o.dlItemTagAutoclosing=null),o.parentTag=i,"form"===t&&(o.formTag=i),"a"===t&&(o.aTagInScope=i),"button"===t&&(o.buttonTagInScope=i),"nobr"===t&&(o.nobrTagInScope=i),"p"===t&&(o.pTagInButtonScope=i),"li"===t&&(o.listItemTagAutoclosing=i),("dd"===t||"dt"===t)&&(o.dlItemTagAutoclosing=i),o},f=function(e,t){switch(t){case"select":return"option"===e||"optgroup"===e||"#text"===e;case"optgroup":return"option"===e||"#text"===e;case"option":return"#text"===e;case"tr":return"th"===e||"td"===e||"style"===e||"script"===e||"template"===e;case"tbody":case"thead":case"tfoot":return"tr"===e||"style"===e||"script"===e||"template"===e;case"colgroup":return"col"===e||"template"===e;case"table":return"caption"===e||"colgroup"===e||"tbody"===e||"tfoot"===e||"thead"===e||"style"===e||"script"===e||"template"===e;case"head":return"base"===e||"basefont"===e||"bgsound"===e||"link"===e||"meta"===e||"title"===e||"noscript"===e||"noframes"===e||"style"===e||"script"===e||"template"===e;case"html":return"head"===e||"body"===e}switch(e){case"h1":case"h2":case"h3":case"h4":case"h5":case"h6":return"h1"!==t&&"h2"!==t&&"h3"!==t&&"h4"!==t&&"h5"!==t&&"h6"!==t;case"rp":case"rt":return-1===c.indexOf(t);case"caption":case"col":case"colgroup":case"frame":case"head":case"tbody":case"td":case"tfoot":case"th":case"thead":case"tr":return null==t}return!0},h=function(e,t){switch(e){case"address":case"article":case"aside":case"blockquote":case"center":case"details":case"dialog":case"dir":case"div":case"dl":case"fieldset":case"figcaption":case"figure":case"footer":case"header":case"hgroup":case"main":case"menu":case"nav":case"ol":case"p":case"section":case"summary":case"ul":case"pre":case"listing":case"table":case"hr":case"xmp":case"h1":case"h2":case"h3":case"h4":case"h5":case"h6":return t.pTagInButtonScope;case"form":return t.formTag||t.pTagInButtonScope;case"li":return t.listItemTagAutoclosing;case"dd":case"dt":return t.dlItemTagAutoclosing;case"button":return t.buttonTagInScope;case"a":return t.aTagInScope;case"nobr":return t.nobrTagInScope}return null},g=function(e){if(!e)return[];var t=[];do t.push(e);while(e=e._currentElement._owner);return t.reverse(),t},m={};a=function(e,n,r){r=r||p;var o=r.parentTag,a=o&&o.tag,s=f(e,a)?null:o,l=s?null:h(e,r),u=s||l;if(u){var c,d=u.tag,v=u.instance,b=n&&n._currentElement._owner,y=v&&v._currentElement._owner,_=g(b),x=g(y),E=Math.min(_.length,x.length),C=-1;for(c=0;E>c&&_[c]===x[c];c++)C=c;var w="(unknown)",D=_.slice(C+1).map(function(e){return e.getName()||w}),T=x.slice(C+1).map(function(e){return e.getName()||w}),M=[].concat(-1!==C?_[C].getName()||w:[],T,d,l?["..."]:[],D,e).join(" > "),k=!!s+"|"+e+"|"+d+"|"+M;if(m[k])return;if(m[k]=!0,s){var N="";"table"===d&&"tr"===e&&(N+=" Add a <tbody> to your code to match the DOM tree generated by the browser."),"production"!==t.env.NODE_ENV?i(!1,"validateDOMNesting(...): <%s> cannot appear as a child of <%s>. See %s.%s",e,d,M,N):void 0}else"production"!==t.env.NODE_ENV?i(!1,"validateDOMNesting(...): <%s> cannot appear as a descendant of <%s>. See %s.",e,d,M):void 0}},a.ancestorInfoContextKey="__validateDOMNesting_ancestorInfo$"+Math.random().toString(36).slice(2),a.updatedAncestorInfo=d,a.isTagValidInContext=function(e,t){t=t||p;var n=t.parentTag,r=n&&n.tag;return f(e,r)&&!h(e,t)}}e.exports=a}).call(t,n(1))},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();Object.defineProperty(t,"__esModule",{value:!0});var l=n(20),u=r(l),c=function(e){function t(e){o(this,t);var n=i(this,Object.getPrototypeOf(t).call(this,{queryDataModel:e,dimensions:e.originalData.data[0].dimensions||[500,500]}));return n.lastQueryImage=null,n.onLoadCallback=function(){n.lastQueryImage.removeEventListener("load",n.onLoadCallback),n.render()},n.registerSubscription(e.onDataChange(function(e,t){n.lastQueryImage&&n.lastQueryImage.removeEventListener("load",n.onLoadCallback),e.image&&(n.lastQueryImage=e.image.image,n.render())})),n}return a(t,e),s(t,[{key:"render",value:function(){if(!this.lastQueryImage)return void this.queryDataModel.fetchData();if(this.lastQueryImage.complete){var e=this.lastQueryImage.width,t=this.lastQueryImage.height;this.imageReady({canvas:this.lastQueryImage,area:[0,0,e,t],outputSize:[e,t],builder:this,arguments:this.queryDataModel.getQuery()})}else this.lastQueryImage.addEventListener("load",this.onLoadCallback)}}]),t}(u["default"]);t["default"]=c},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();Object.defineProperty(t,"__esModule",{value:!0});var a=n(11),s=r(a),l="toggle.change",u=function(){function e(){var t=this,n=arguments.length<=0||void 0===arguments[0]?!0:arguments[0];o(this,e),this.state=n,this.toggleState=function(){t.state=!t.state,t.emit(l,t.state)}}return i(e,[{key:"setState",value:function(e){!!e!==this.state&&(this.state=!!e,this.emit(l,this.state))}},{key:"getState",value:function(){return this.state}},{key:"onChange",value:function(e){return this.on(l,e)}},{key:"destroy",value:function(){this.off()}}]),e}();t["default"]=u,s["default"].mixInto(u)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(){return(new Date).getTime()}function i(e){return"json"===e.type?e.size=JSON.stringify(e.data).length:"blob"===e.type?e.size=e.data.size:e.size=e.data.length,e.size}function a(){var e=arguments.length<=0||void 0===arguments[0]?1e9:arguments[0];this.pattern=new c["default"],this.keyToTypeMap={},this.cacheSize=e,this.cacheData={cache:{},modified:0,ts:0,size:0}}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=a;var s=n(190),l=r(s),u=n(189),c=r(u),p=n(11),d=r(p),f={json:l["default"].fetchJSON,text:l["default"].fetchTxt,blob:l["default"].fetchBlob,arraybuffer:l["default"].fetchArray,array:l["default"].fetchArray};d["default"].mixInto(a),a.prototype.destroy=function(){this.off(),this.clear()},a.prototype.fetch=function(e,t){var n=this,r=arguments.length<=2||void 0===arguments[2]?null:arguments[2],a=t?this.pattern.getValue(e,t):e,s=this.cacheData.cache[a];if(s)s.pending?(s.keysToNotify.push(e),r&&s.keysToNotify.push(r)):(this.cacheData.ts=s.ts=o(),setTimeout(function(){var t=s.keysToNotify||[e],o=t.length;for(delete s.keysToNotify;o--;)n.emit(t[o],s);r&&n.emit(r,s)},0));else{this.gc(),this.cacheData.cache[a]={pending:!0,keysToNotify:[e]},r&&this.cacheData.cache[a].keysToNotify.push(r);var l=this,u=this.keyToTypeMap[e],c=u[0],p=u[1],d=u[2],f=function(n,r){if(n)return delete l.cacheData.cache[a],l.emit(e,{error:n,data:{key:e,options:t,url:a,typeFnMime:u}}),null;s={data:r,type:c,requestedURL:a,pending:!1},d&&-1!==d.indexOf("image")&&(s.url=window.URL.createObjectURL(r)),l.cacheData.size+=i(s),l.cacheData.modified=l.cacheData.ts=s.ts=o();var p=l.cacheData.cache[a].keysToNotify,f=p.length;for(l.cacheData.cache[a]=s;f--;)l.emit(p[f],s)};p(a,d?d:f,f)}return a},a.prototype.fetchURL=function(e,t,n){var r=arguments.length<=3||void 0===arguments[3]?null:arguments[3];return this.keyToTypeMap[e]=[t,f[t],n],this.fetch(e,null,r)},a.prototype.get=function(e,t){var n=this.cacheData.cache[e];return t&&this.free(e),n},a.prototype.free=function(e){var t=this.cacheData.cache[e];t&&t.url&&(window.URL.revokeObjectURL(t.url),delete t.url),delete this.cacheData.cache[e],this.off(e)},a.prototype.registerURL=function(e,t,n,r){this.pattern.registerPattern(e,t),this.keyToTypeMap[e]=[n,f[n],r]},a.prototype.unregisterURL=function(e){this.pattern.unregisterPattern(e),delete this.keyToTypeMap[e],this.off(e)},a.prototype.clear=function(){var e=[];for(var t in this.cacheData.cache)e.push(t);for(var n=e.length;n--;)this.free(e[n]);this.cacheData.size=0},a.prototype.gc=function(){this.cacheData.size>this.cacheSize&&(console.log("Free cache memory",this.cacheData.size),this.clear())},a.prototype.setCacheSize=function(e){this.cacheSize=e},a.prototype.getCacheSize=function(){return this.cacheSize},a.prototype.getMemoryUsage=function(){return this.cacheData.size}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){var n=e.length,r=n*t,o=e[Math.floor(r)],i=e[Math.ceil(r)],a=r-Math.floor(r);return((i-o)*a+o).toFixed(5)}Object.defineProperty(t,"__esModule",{value:!0});var i=n(34),a=(r(i),n(73)),s=r(a),l=n(2),u=r(l),c=n(12),p=r(c),d=n(33),f=r(d);n(256),t["default"]=u["default"].createClass({displayName:"LineChart",propTypes:{data:u["default"].PropTypes.any.isRequired,legend:u["default"].PropTypes.bool,colors:u["default"].PropTypes.array,width:u["default"].PropTypes.number,height:u["default"].PropTypes.number},getInitialState:function(){return{legend:this.props.legend,width:this.props.width/2,height:this.props.height/2,fieldsColors:{}}},getDefaultProps:function(){return{legend:!1,colors:["#e1002a","#417dc0","#1d9a57","#e9bc2f","#9b3880"],width:200,height:200}},toggleLegend:function(){this.setState({legend:!this.state.legend})},componentWillMount:function(){this.xPosition=0,this.sizeSubscription=f["default"].onSizeChange(this.updateDimensions),f["default"].startListening()},componentWillUnmount:function(){this.sizeSubscription&&(this.sizeSubscription.unsubscribe(),this.sizeSubscription=null)},updateDimensions:function(){this.xPosition=0;var e=p["default"].findDOMNode(this).parentNode,t=f["default"].getSize(e);return!e||this.state.width===t.clientWidth&&this.state.height===t.clientHeight?!1:(this.setState({width:t.clientWidth,height:t.clientHeight}),!0)},componentDidMount:function(){this.updateDimensions()},componentDidUpdate:function(e,t){this.drawChart()},onMove:function(e){this.xPosition=e.clientX-(e.target.getClientRects()[0].x||e.target.getClientRects()[0].left),this.isMounted()&&this.state.legend&&this.drawChart()},drawChart:function(){if(this.props.data){var e=p["default"].findDOMNode(this.refs.canvas).getContext("2d"),t=this.props.data.fields,n=t.length,r={},i=this.xPosition/e.canvas.width;e.canvas.width=this.state.width,e.canvas.height=this.state.height,e.clearRect(0,0,e.canvas.width,e.canvas.height);for(var a=0;n>a;++a)this.drawField(e,a,t[a].data,t[a].range),r[t[a].name]=this.props.colors[a],this.refs.hasOwnProperty(t[a].name)&&(p["default"].findDOMNode(this.refs[t[a].name]).innerHTML=o(t[a].data,i));(0,s["default"])(this.state.fieldsColors,r)||this.setState({fieldsColors:r}),this.state.legend&&(p["default"].findDOMNode(this.refs.xValueLabel).innerHTML=((this.props.data.xRange[1]-this.props.data.xRange[0])*i+this.props.data.xRange[0]).toFixed(5),e.beginPath(),e.lineWidth=1,e.strokeStyle="#000000",e.moveTo(this.xPosition,0),e.lineTo(this.xPosition,e.canvas.height),e.stroke()),void 0!==this.props.cursor&&(e.beginPath(),e.lineWidth=1,e.strokeStyle="#0000FF",e.moveTo(this.props.cursor*e.canvas.width,0),e.lineTo(this.props.cursor*e.canvas.width,e.canvas.height),e.stroke())}},drawField:function(e,t,n,r){function o(e){var t=n[e];return t=t>i?a>t?t:a:i,l-Math.floor((t-i)*f)}for(var i=Number.MAX_VALUE,a=Number.MIN_VALUE,s=e.canvas.width,l=e.canvas.height,u=n.length,c=n.length,p=new Uint16Array(c);c--;){var d=n[c];i=Math.min(i,d),a=Math.max(a,d),p[c]=Math.floor(s*(c/u))}r&&(i=r[0],a=r[1]);var f=l/(a-i);e.beginPath(),e.lineWidth=1,e.strokeStyle=this.props.colors[t],e.moveTo(p[0],o(0));for(var h=1;u>h;h++)isNaN(n[h])?u>h+1&&!isNaN(n[h+1])&&e.moveTo(p[h+1],o(h+1)):e.lineTo(p[h],o(h));return e.stroke(),[i,a]},render:function(){var e=[];for(var t in this.state.fieldsColors){var n=this.state.fieldsColors[t];e.push(u["default"].createElement("li",{key:t},u["default"].createElement("i",{className:"fa fa-fw fa-square",style:{color:n}}),u["default"].createElement("b",null,t),u["default"].createElement("span",{ref:t})))}return u["default"].createElement("div",{className:"ChartViewer"},u["default"].createElement("canvas",{className:"ChartViewer_canvas",ref:"canvas",onMouseMove:this.onMove,width:this.state.width,height:this.state.height}),u["default"].createElement("div",{className:"ChartViewer_legend "+(this.state.legend?"":"is-hidden")},u["default"].createElement("div",{className:"ChartViewer_legend_bar"},u["default"].createElement("span",{ref:"xValueLabel"}),u["default"].createElement("i",{className:"is-clickable fa fa-fw fa-times",onClick:this.toggleLegend})),u["default"].createElement("ul",{className:"ChartViewer_legend_content"},e)),u["default"].createElement("div",{className:"ChartViewer_legend "+(this.state.legend?"is-hidden":""),onClick:this.toggleLegend},u["default"].createElement("div",{className:"ChartViewer_legend_button"},u["default"].createElement("i",{className:"is-clickable fa fa-fw fa-info"}))))}})},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(34),i=(r(o),n(70)),a=r(i),s=n(43),l=r(s),u=n(2),c=r(u),p=n(12),d=r(p),f=n(33),h=r(f);n(262),t["default"]=c["default"].createClass({displayName:"Equalizer",propTypes:{layers:c["default"].PropTypes.array,colors:c["default"].PropTypes.array,stroke:c["default"].PropTypes.string,height:c["default"].PropTypes.number,width:c["default"].PropTypes.number,spacing:c["default"].PropTypes.number,onChange:c["default"].PropTypes.func},getInitialState:function(){return{layers:this.props.layers,width:this.props.width,height:this.props.height}},getDefaultProps:function(){return{layers:[1,1,1,1,1,1,1],colors:["#0000ff","#ffffff","#ff0000"],stroke:"#000000",height:120,width:300,spacing:2}},componentWillReceiveProps:function(e){var t=(this.props.layers,e.layers);(0,a["default"])(this.state.layers,t)||this.setState({layers:t})},updateDimensions:function(){var e=d["default"].findDOMNode(this).parentNode,t=h["default"].getSize(e).clientWidth;return e&&t&&this.state.width!==t?(this.setState({width:t}),!0):!1},draw:function(){var e=d["default"].findDOMNode(this.refs.canvas).getContext("2d");e.strokeStyle=this.props.stroke,e.lineWidth="1";var t=this.state.layers,n=this.state.width,r=this.state.height,o=t.length,i=this.props.spacing,a=Math.floor((n-5*i)/o-i),s=r-4*i,l=a+(n-a*t.length-2*i)/(t.length+1);e.clearRect(0,0,this.state.width,this.state.height),e.beginPath(),e.rect(i,i,n-2*i,r-2*i),e.stroke();for(var u=0;o>u;u++){var c=t[u]*s;e.fillStyle=this.props.colors[u%this.props.colors.length],e.fillRect(l*u+2*i,r-c-2*i,a,c),e.beginPath(),e.rect(l*u+2*i,r-c-2*i,a,c),e.stroke()}},clicked:function(e){var t=d["default"].findDOMNode(this.refs.canvas).getClientRects()[0],n=e.pointers[0].clientX-t.left-2*this.props.spacing,r=e.pointers[0].clientY-t.top-2*this.props.spacing,o=t.height-4*this.props.spacing,i=Math.min(this.state.layers.length-1,Math.floor(n/(t.width-4*this.props.spacing)*this.state.layers.length)),a=1-r/o,s=[].concat(this.state.layers);a=a>1?1:a,a=0>a?0:a,s[i]=a,this.setState({layers:s}),this.props.onChange&&this.props.onChange(s),this.draw()},componentDidMount:function(){this.updateDimensions(),this.draw(),this.mouseHandler=new l["default"](d["default"].findDOMNode(this.refs.canvas)),this.mouseHandler.attach({click:this.clicked,drag:this.clicked})},componentDidUpdate:function(e,t){this.draw()},componentWillMount:function(){this.sizeSubscription=h["default"].onSizeChange(this.updateDimensions),h["default"].startListening()},componentWillUnmount:function(){this.mouseHandler.destroy(),this.sizeSubscription&&(this.sizeSubscription.unsubscribe(),this.sizeSubscription=null)},render:function(){return c["default"].createElement("div",{className:"Equalizer"},c["default"].createElement("canvas",{ref:"canvas",width:this.state.width,height:this.state.height}))}})},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(15),i=r(o),a=n(66),s=r(a),l=n(44),u=r(l),c=n(45),p=r(c),d=n(65),f=r(d),h=n(2),g=r(h);t["default"]=g["default"].createClass({displayName:"QueryDataModelWithExplorationWidget",propTypes:{model:g["default"].PropTypes.object,handleExploration:g["default"].PropTypes.bool},mixins:[u["default"],p["default"]],getDefaultProps:function(){return{handleExploration:!1}},toggleExploration:function(e){this.props.model.exploreQuery(e,!0,!this.props.handleExploration)},render:function(){var e=g["default"].createElement(s["default"],{key:"explore-button",icon:"fa-compass",onChange:this.toggleExploration,value:this.props.model.exploreState.animate});return g["default"].createElement(i["default"],{title:"Parameters",key:"QueryDataModelWidget_parent",visible:this.props.model.originalData.arguments_order.length>0,subtitle:e},g["default"].createElement(f["default"],{key:"QueryDataModelWidget",ref:"QueryDataModelWidget",model:this.props.model}))}})},function(e,t,n){(function(e){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(2),i=r(o),a=n(64),s=r(a),l=n(15),u=r(l);t["default"]=i["default"].createClass({displayName:"ProbeControl",propTypes:{imageBuilder:i["default"].PropTypes.object.isRequired,imageBuilders:i["default"].PropTypes.object.isRequired},getImageBuilder:function(e){var t=e.imageBuilder;if(!t){var n=Object.keys(e.imageBuilders)[0];t=e.imageBuilders[n].builder}return t},attachImageBuilderListeners:function(e){var t=this;this.detachImageBuilderListeners(),this.probeListenerSubscription=e.onProbeChange(function(n,r){var o=e.getFieldValueAtProbeLocation();t.isMounted()&&t.setState({probe:n,field:o})}),this.probeDataListenerSubscription=e.onProbeLineReady(function(n,r){var o=e.getFieldValueAtProbeLocation();t.isMounted()&&o!==t.state.field&&t.setState({field:o})})},detachImageBuilderListeners:function(){this.probeListenerSubscription&&(this.probeListenerSubscription.unsubscribe(),this.probeListenerSubscription=null),this.probeDataListenerSubscription&&(this.probeDataListenerSubscription.unsubscribe(),this.probeDataListenerSubscription=null)},componentWillMount:function(){this.attachImageBuilderListeners(this.getImageBuilder(this.props))},componentWillReceiveProps:function(e){var t=this.getImageBuilder(this.props),n=this.getImageBuilder(e);t!==n&&this.attachImageBuilderListeners(n)},componentWillUnmount:function(){this.detachImageBuilderListeners()},componentDidMount:function(){this.setState({showFieldValue:this.refs.ProbeInput.isExpanded()})},getInitialState:function(){var e=this.getImageBuilder(this.props);return{probe:[e.getProbe()[0],e.getProbe()[1],e.getProbe()[2]],showFieldValue:!0}},updateRenderMethod:function(e){this.props.imageBuilder&&(this.props.imageBuilder.setRenderMethod(e.target.value),this.props.imageBuilder.render(),this.forceUpdate())},probeChange:function(e){var t=Number(e.target.value),n=this.state.probe,r=Number(e.target.name);n[r]=t,this.getImageBuilder(this.props).setProbe(n[0],n[1],n[2])},onProbeVisibilityChange:function(t){var n=this;this.setState({showFieldValue:t}),e(function(){if(n.props.imageBuilders)for(var e in n.props.imageBuilders){var r=n.props.imageBuilders[e].builder;r.setCrossHairEnable(t),r.render()}n.props.imageBuilder&&(n.props.imageBuilder.setCrossHairEnable(t),n.props.imageBuilder.render())})},render:function(){var e=this.getImageBuilder(this.props),t=this.state.field||e.getFieldValueAtProbeLocation(),n=""+t;return void 0===t?n="":(n&&n.length>6&&(n=t.toFixed(5)),Math.abs(t)<1e-5&&(n="0")),i["default"].createElement("div",null,i["default"].createElement(u["default"],{title:"Render method",visible:e.isRenderMethodMutable()},i["default"].createElement("select",{style:{width:"100%"},value:e.getRenderMethod(),onChange:this.updateRenderMethod},e.getRenderMethods().map(function(e){return i["default"].createElement("option",{key:e,value:e},e)}))),i["default"].createElement(u["default"],{title:"Probe",subtitle:this.state.showFieldValue?n:"",ref:"ProbeInput",onChange:this.onProbeVisibilityChange,open:e.isCrossHairEnabled()},i["default"].createElement(s["default"],{name:"0",min:"0",max:e.metadata.dimensions[0]-1,key:"slider-x",value:this.state.probe[0],onChange:this.probeChange}),i["default"].createElement(s["default"],{name:"1",min:"0",max:e.metadata.dimensions[1]-1,key:"slider-Y",value:this.state.probe[1],onChange:this.probeChange}),i["default"].createElement(s["default"],{name:"2",min:"0",max:e.metadata.dimensions[2]-1,key:"slider-Z",value:this.state.probe[2],onChange:this.probeChange})))}})}).call(t,n(23).setImmediate)},function(e,t){e.exports="\nprecision mediump float;\n\nuniform sampler2D compositeSampler;\nuniform sampler2D layerSampler;\nvarying vec2 v_texCoord;\n\nvoid main() {\n    // Sample the texture containing what we have composited so far\n    vec4 color = texture2D(compositeSampler, v_texCoord);\n\n    // Sample the new layer to be composited in\n    vec4 compColor = texture2D(layerSampler, v_texCoord);\n\n/*\n    // Choose the fragment with the greater depth value\n    if (color.a > compColor.a) {\n        gl_FragColor = color;\n    } else {\n        gl_FragColor = compColor;\n    }\n*/\n\n    // Another way to choose the fragment with the greater depth value\n    float stepVal = step((compColor.a - color.a), 0.0);\n    gl_FragColor = (stepVal * color) + ((1.0 - stepVal) * compColor);\n\n}\n"},function(e,t){e.exports='\nprecision mediump float;\n\nuniform sampler2D underLayerSampler;\nuniform sampler2D overLayerSampler;\nvarying vec2 v_texCoord;\n\nvoid main() {\n    vec4 overColor = texture2D(overLayerSampler, v_texCoord);\n    vec3 colA = overColor.rgb;\n    float alphA = overColor.a;\n\n    vec4 underColor = texture2D(underLayerSampler, v_texCoord);\n    vec3 colB = underColor.rgb;\n    float alphB = underColor.a;\n\n    // Well-known "over" operator (A over B, both partially transparent)\n    float alphOut = alphA + (alphB * (1.0 - alphA));\n    vec3 colOut = ((colA * alphA) + (colB * alphB * (1.0 - alphA))) / alphOut;\n\n    gl_FragColor = vec4(colOut.rgb, alphOut);\n}'},function(e,t){e.exports="\nprecision mediump float;\n\nuniform sampler2D u_image;\nvarying vec2 v_texCoord;\n\nvoid main() {\n    gl_FragColor = texture2D(u_image, vec2(v_texCoord.x, 1.0 - v_texCoord.y));\n}"},function(e,t,n){var r=n(224);"string"==typeof r&&(r=[[e.id,r,""]]);n(7)(r,{});r.locals&&(e.exports=r.locals)},function(e,t,n){var r=n(229);"string"==typeof r&&(r=[[e.id,r,""]]);n(7)(r,{});r.locals&&(e.exports=r.locals)},function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAeCAYAAAA7MK6iAAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAAD6AAAA+gBtXtSawAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAAIUSURBVEiJ7ZfPaxNBFMe/bzSbRDZaghdngqyI4MHelGIPSvEg/h2l9SwFEYoXEVEKFfRUsP+HULxo61n0oIjoIskMITnIxl/JknkeGqGKmd0Z9SK+4+z3fT8zb2dm3wKBkSTJTJIkM6H5+0MTR6PROgAGsBiSTyFJSqkLzLwFgJj5kjHm4V8HN5vNg7Va7QWAo5OhThRFp9I0/eDjI3zB9Xp9bQ8UANRwOLzt6+O1YqXUAjM/+kUeA7iotd7642Ap5QEAzwEcnyJJ8zyf7fV6H8v4+ZT6jgMKAEmlUrlV1qzUiqWU8wCeoHiilpkXjDGPfxs8KfEzACfKTBLAu/F4PNvtdj+5RIWlZuabHlAAOCaEuFEkcq641WrNWWt3AOzzAAOABXBea709TeC8Mpl5nog2PaHf4wyAqeD/8e+Hc1crpa4AOBno/arT6dyd9tC5q4noqbV2DWHH6ZxL4DTMsqwTx/EhIjrrCV7XWjuPYeHNVa1WVwG89IC+FkJcLxIVgtM0/UpEi9gtX1FYZl5qt9tfioSl3t1gMGg3Go3DAOYKpPeNMRtlPH2+x9cAvHE8T/M8Xy1rVhqstf4shFjCbpvzczCA5bLdB+B5TLIsS+M4PkJEp3+gMm8YY+75eHl3mdbaFSJ6u2fofZ7nV319vMGTzmIZk5Iz8+V+vz/w9QkOKeWmlPJBaH7wv1MURSuhuQDwDY+Crx8jQ1SvAAAAAElFTkSuQmCC"},function(e,t){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children=[],e.webpackPolyfill=1),e}},function(e,t,n){(function(t){"use strict";var r=n(19),o={listen:function(e,t,n){return e.addEventListener?(e.addEventListener(t,n,!1),{remove:function(){e.removeEventListener(t,n,!1)}}):e.attachEvent?(e.attachEvent("on"+t,n),{remove:function(){e.detachEvent("on"+t,n)}}):void 0},capture:function(e,n,o){return e.addEventListener?(e.addEventListener(n,o,!0),{remove:function(){e.removeEventListener(n,o,!0)}}):("production"!==t.env.NODE_ENV&&console.error("Attempted to listen to events during the capture phase on a browser that does not support the capture phase. Your application will not receive some events."),{remove:r})},registerDefault:function(){}};e.exports=o}).call(t,n(1))},function(e,t,n){"use strict";function r(e,t){var n=!0;e:for(;n;){var r=e,i=t;if(n=!1,r&&i){if(r===i)return!0;if(o(r))return!1;if(o(i)){e=r,t=i.parentNode,n=!0;continue e}return r.contains?r.contains(i):r.compareDocumentPosition?!!(16&r.compareDocumentPosition(i)):!1}return!1}}var o=n(288);e.exports=r},function(e,t){"use strict";function n(e){try{e.focus()}catch(t){}}e.exports=n},function(e,t){"use strict";function n(){if("undefined"==typeof document)return null;try{return document.activeElement||document.body}catch(e){return document.body}}e.exports=n},function(e,t,n){(function(t){"use strict";function r(e){return a?void 0:"production"!==t.env.NODE_ENV?i(!1,"Markup wrapping node not initialized"):i(!1),d.hasOwnProperty(e)||(e="*"),s.hasOwnProperty(e)||("*"===e?a.innerHTML="<link />":a.innerHTML="<"+e+"></"+e+">",s[e]=!a.firstChild),s[e]?d[e]:null}var o=n(8),i=n(3),a=o.canUseDOM?document.createElement("div"):null,s={},l=[1,'<select multiple="true">',"</select>"],u=[1,"<table>","</table>"],c=[3,"<table><tbody><tr>","</tr></tbody></table>"],p=[1,'<svg xmlns="http://www.w3.org/2000/svg">',"</svg>"],d={"*":[1,"?<div>","</div>"],area:[1,"<map>","</map>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],legend:[1,"<fieldset>","</fieldset>"],param:[1,"<object>","</object>"],tr:[2,"<table><tbody>","</tbody></table>"],optgroup:l,option:l,caption:u,colgroup:u,tbody:u,tfoot:u,thead:u,td:c,th:c},f=["circle","clipPath","defs","ellipse","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","text","tspan"];f.forEach(function(e){d[e]=p,s[e]=!0}),e.exports=r}).call(t,n(1))},function(e,t){"use strict";function n(e,t){if(e===t)return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;var n=Object.keys(e),o=Object.keys(t);if(n.length!==o.length)return!1;for(var i=r.bind(t),a=0;a<n.length;a++)if(!i(n[a])||e[n[a]]!==t[n[a]])return!1;return!0}var r=Object.prototype.hasOwnProperty;e.exports=n},function(e,t,n){var r=n(68),o={};o.create=function(){var e=new r.ARRAY_TYPE(4);return e[0]=0,e[1]=0,e[2]=0,e[3]=0,e},o.clone=function(e){var t=new r.ARRAY_TYPE(4);return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t},o.fromValues=function(e,t,n,o){var i=new r.ARRAY_TYPE(4);return i[0]=e,i[1]=t,i[2]=n,i[3]=o,i},o.copy=function(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e},o.set=function(e,t,n,r,o){return e[0]=t,e[1]=n,e[2]=r,e[3]=o,e},o.add=function(e,t,n){return e[0]=t[0]+n[0],e[1]=t[1]+n[1],e[2]=t[2]+n[2],e[3]=t[3]+n[3],e},o.subtract=function(e,t,n){return e[0]=t[0]-n[0],e[1]=t[1]-n[1],e[2]=t[2]-n[2],e[3]=t[3]-n[3],e},o.sub=o.subtract,o.multiply=function(e,t,n){return e[0]=t[0]*n[0],e[1]=t[1]*n[1],e[2]=t[2]*n[2],e[3]=t[3]*n[3],e},o.mul=o.multiply,o.divide=function(e,t,n){return e[0]=t[0]/n[0],e[1]=t[1]/n[1],e[2]=t[2]/n[2],e[3]=t[3]/n[3],e},o.div=o.divide,o.min=function(e,t,n){return e[0]=Math.min(t[0],n[0]),e[1]=Math.min(t[1],n[1]),
e[2]=Math.min(t[2],n[2]),e[3]=Math.min(t[3],n[3]),e},o.max=function(e,t,n){return e[0]=Math.max(t[0],n[0]),e[1]=Math.max(t[1],n[1]),e[2]=Math.max(t[2],n[2]),e[3]=Math.max(t[3],n[3]),e},o.scale=function(e,t,n){return e[0]=t[0]*n,e[1]=t[1]*n,e[2]=t[2]*n,e[3]=t[3]*n,e},o.scaleAndAdd=function(e,t,n,r){return e[0]=t[0]+n[0]*r,e[1]=t[1]+n[1]*r,e[2]=t[2]+n[2]*r,e[3]=t[3]+n[3]*r,e},o.distance=function(e,t){var n=t[0]-e[0],r=t[1]-e[1],o=t[2]-e[2],i=t[3]-e[3];return Math.sqrt(n*n+r*r+o*o+i*i)},o.dist=o.distance,o.squaredDistance=function(e,t){var n=t[0]-e[0],r=t[1]-e[1],o=t[2]-e[2],i=t[3]-e[3];return n*n+r*r+o*o+i*i},o.sqrDist=o.squaredDistance,o.length=function(e){var t=e[0],n=e[1],r=e[2],o=e[3];return Math.sqrt(t*t+n*n+r*r+o*o)},o.len=o.length,o.squaredLength=function(e){var t=e[0],n=e[1],r=e[2],o=e[3];return t*t+n*n+r*r+o*o},o.sqrLen=o.squaredLength,o.negate=function(e,t){return e[0]=-t[0],e[1]=-t[1],e[2]=-t[2],e[3]=-t[3],e},o.inverse=function(e,t){return e[0]=1/t[0],e[1]=1/t[1],e[2]=1/t[2],e[3]=1/t[3],e},o.normalize=function(e,t){var n=t[0],r=t[1],o=t[2],i=t[3],a=n*n+r*r+o*o+i*i;return a>0&&(a=1/Math.sqrt(a),e[0]=n*a,e[1]=r*a,e[2]=o*a,e[3]=i*a),e},o.dot=function(e,t){return e[0]*t[0]+e[1]*t[1]+e[2]*t[2]+e[3]*t[3]},o.lerp=function(e,t,n,r){var o=t[0],i=t[1],a=t[2],s=t[3];return e[0]=o+r*(n[0]-o),e[1]=i+r*(n[1]-i),e[2]=a+r*(n[2]-a),e[3]=s+r*(n[3]-s),e},o.random=function(e,t){return t=t||1,e[0]=r.RANDOM(),e[1]=r.RANDOM(),e[2]=r.RANDOM(),e[3]=r.RANDOM(),o.normalize(e,e),o.scale(e,e,t),e},o.transformMat4=function(e,t,n){var r=t[0],o=t[1],i=t[2],a=t[3];return e[0]=n[0]*r+n[4]*o+n[8]*i+n[12]*a,e[1]=n[1]*r+n[5]*o+n[9]*i+n[13]*a,e[2]=n[2]*r+n[6]*o+n[10]*i+n[14]*a,e[3]=n[3]*r+n[7]*o+n[11]*i+n[15]*a,e},o.transformQuat=function(e,t,n){var r=t[0],o=t[1],i=t[2],a=n[0],s=n[1],l=n[2],u=n[3],c=u*r+s*i-l*o,p=u*o+l*r-a*i,d=u*i+a*o-s*r,f=-a*r-s*o-l*i;return e[0]=c*u+f*-a+p*-l-d*-s,e[1]=p*u+f*-s+d*-a-c*-l,e[2]=d*u+f*-l+c*-s-p*-a,e[3]=t[3],e},o.forEach=function(){var e=o.create();return function(t,n,r,o,i,a){var s,l;for(n||(n=4),r||(r=0),l=o?Math.min(o*n+r,t.length):t.length,s=r;l>s;s+=n)e[0]=t[s],e[1]=t[s+1],e[2]=t[s+2],e[3]=t[s+3],i(e,e,a),t[s]=e[0],t[s+1]=e[1],t[s+2]=e[2],t[s+3]=e[3];return t}}(),o.str=function(e){return"vec4("+e[0]+", "+e[1]+", "+e[2]+", "+e[3]+")"},e.exports=o},function(e,t){function n(e,t,n){if(n=n||0,null==e)return-1;for(var r=e.length,o=0>n?r+n:n;r>o;){if(e[o]===t)return o;o++}return-1}e.exports=n},function(e,t,n){function r(e,t){if(null==e)return o;switch(typeof e){case"function":return"undefined"!=typeof t?function(n,r,o){return e.call(t,n,r,o)}:e;case"object":return function(t){return a(t,e)};case"string":case"number":return i(e)}}var o=n(303),i=n(304),a=n(308);e.exports=r},function(e,t,n){function r(e){var t=[];return o(e,function(e,n){t.push(e)}),t}var o=n(69);e.exports=r},function(e,t,n){var r,o;r=[n(315),n(316),n(319)],o=function(e,t,n){function r(r,o){if(null==r)return e;switch(typeof r){case"function":return"undefined"!=typeof o?function(e,t,n){return r.call(o,e,t,n)}:r;case"object":return function(e){return n(e,r)};case"string":case"number":return t(r)}}return r}.apply(t,r),!(void 0!==o&&(e.exports=o))},function(e,t,n){var r;r=function(){function e(e,t){return e===t?0!==e||1/e===1/t:e!==e&&t!==t}return e}.call(t,n,t,e),!(void 0!==r&&(e.exports=r))},function(e,t,n){var r,o;r=[n(72)],o=function(e){function t(t,n){return e(t)===n}return t}.apply(t,r),!(void 0!==o&&(e.exports=o))},function(e,t,n){var r,o;r=[n(119)],o=function(e){function t(t){return e(t,"Object")}return t}.apply(t,r),!(void 0!==o&&(e.exports=o))},function(e,t,n){var r;r=function(){function e(e){return!!e&&"object"==typeof e&&e.constructor===Object}return e}.call(t,n,t,e),!(void 0!==r&&(e.exports=r))},function(e,t,n){var r;r=function(){function e(){return e.get()}return e.get="function"==typeof Date.now?Date.now:function(){return+new Date},e}.call(t,n,t,e),!(void 0!==r&&(e.exports=r))},function(e,t){"use strict";function n(e,t){return e+t.charAt(0).toUpperCase()+t.substring(1)}var r={animationIterationCount:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,stopOpacity:!0,strokeDashoffset:!0,strokeOpacity:!0,strokeWidth:!0},o=["Webkit","ms","Moz","O"];Object.keys(r).forEach(function(e){o.forEach(function(t){r[n(t,e)]=r[e]})});var i={background:{backgroundAttachment:!0,backgroundColor:!0,backgroundImage:!0,backgroundPositionX:!0,backgroundPositionY:!0,backgroundRepeat:!0},backgroundPosition:{backgroundPositionX:!0,backgroundPositionY:!0},border:{borderWidth:!0,borderStyle:!0,borderColor:!0},borderBottom:{borderBottomWidth:!0,borderBottomStyle:!0,borderBottomColor:!0},borderLeft:{borderLeftWidth:!0,borderLeftStyle:!0,borderLeftColor:!0},borderRight:{borderRightWidth:!0,borderRightStyle:!0,borderRightColor:!0},borderTop:{borderTopWidth:!0,borderTopStyle:!0,borderTopColor:!0},font:{fontStyle:!0,fontVariant:!0,fontWeight:!0,fontSize:!0,lineHeight:!0,fontFamily:!0},outline:{outlineWidth:!0,outlineStyle:!0,outlineColor:!0}},a={isUnitlessNumber:r,shorthandPropertyExpansions:i};e.exports=a},function(e,t,n){(function(t){"use strict";function r(e,t,n){var r=n>=e.childNodes.length?null:e.childNodes.item(n);e.insertBefore(t,r)}var o=n(332),i=n(141),a=n(17),s=n(57),l=n(89),u=n(3),c={dangerouslyReplaceNodeWithMarkup:o.dangerouslyReplaceNodeWithMarkup,updateTextContent:l,processUpdates:function(e,n){for(var a,c=null,p=null,d=0;d<e.length;d++)if(a=e[d],a.type===i.MOVE_EXISTING||a.type===i.REMOVE_NODE){var f=a.fromIndex,h=a.parentNode.childNodes[f],g=a.parentID;h?void 0:"production"!==t.env.NODE_ENV?u(!1,"processUpdates(): Unable to find child %s of element. This probably means the DOM was unexpectedly mutated (e.g., by the browser), usually due to forgetting a <tbody> when using tables, nesting tags like <form>, <p>, or <a>, or using non-SVG elements in an <svg> parent. Try inspecting the child nodes of the element with React ID `%s`.",f,g):u(!1),c=c||{},c[g]=c[g]||[],c[g][f]=h,p=p||[],p.push(h)}var m;if(m=n.length&&"string"==typeof n[0]?o.dangerouslyRenderMarkup(n):n,p)for(var v=0;v<p.length;v++)p[v].parentNode.removeChild(p[v]);for(var b=0;b<e.length;b++)switch(a=e[b],a.type){case i.INSERT_MARKUP:r(a.parentNode,m[a.markupIndex],a.toIndex);break;case i.MOVE_EXISTING:r(a.parentNode,c[a.parentID][a.fromIndex],a.toIndex);break;case i.SET_MARKUP:s(a.parentNode,a.content);break;case i.TEXT_CONTENT:l(a.parentNode,a.content);break;case i.REMOVE_NODE:}}};a.measureMethods(c,"DOMChildrenOperations",{updateTextContent:"updateTextContent"}),e.exports=c}).call(t,n(1))},function(e,t,n){(function(t){"use strict";function r(){if(s)for(var e in l){var n=l[e],r=s.indexOf(e);if(r>-1?void 0:"production"!==t.env.NODE_ENV?a(!1,"EventPluginRegistry: Cannot inject event plugins that do not exist in the plugin ordering, `%s`.",e):a(!1),!u.plugins[r]){n.extractEvents?void 0:"production"!==t.env.NODE_ENV?a(!1,"EventPluginRegistry: Event plugins must implement an `extractEvents` method, but `%s` does not.",e):a(!1),u.plugins[r]=n;var i=n.eventTypes;for(var c in i)o(i[c],n,c)?void 0:"production"!==t.env.NODE_ENV?a(!1,"EventPluginRegistry: Failed to publish event `%s` for plugin `%s`.",c,e):a(!1)}}}function o(e,n,r){u.eventNameDispatchConfigs.hasOwnProperty(r)?"production"!==t.env.NODE_ENV?a(!1,"EventPluginHub: More than one plugin attempted to publish the same event name, `%s`.",r):a(!1):void 0,u.eventNameDispatchConfigs[r]=e;var o=e.phasedRegistrationNames;if(o){for(var s in o)if(o.hasOwnProperty(s)){var l=o[s];i(l,n,r)}return!0}return e.registrationName?(i(e.registrationName,n,r),!0):!1}function i(e,n,r){u.registrationNameModules[e]?"production"!==t.env.NODE_ENV?a(!1,"EventPluginHub: More than one plugin attempted to publish the same registration name, `%s`.",e):a(!1):void 0,u.registrationNameModules[e]=n,u.registrationNameDependencies[e]=n.eventTypes[r].dependencies}var a=n(3),s=null,l={},u={plugins:[],eventNameDispatchConfigs:{},registrationNameModules:{},registrationNameDependencies:{},injectEventPluginOrder:function(e){s?"production"!==t.env.NODE_ENV?a(!1,"EventPluginRegistry: Cannot inject event plugin ordering more than once. You are likely trying to load more than one copy of React."):a(!1):void 0,s=Array.prototype.slice.call(e),r()},injectEventPluginsByName:function(e){var n=!1;for(var o in e)if(e.hasOwnProperty(o)){var i=e[o];l.hasOwnProperty(o)&&l[o]===i||(l[o]?"production"!==t.env.NODE_ENV?a(!1,"EventPluginRegistry: Cannot inject two different event plugins using the same name, `%s`.",o):a(!1):void 0,l[o]=i,n=!0)}n&&r()},getPluginModuleForEvent:function(e){var t=e.dispatchConfig;if(t.registrationName)return u.registrationNameModules[t.registrationName]||null;for(var n in t.phasedRegistrationNames)if(t.phasedRegistrationNames.hasOwnProperty(n)){var r=u.registrationNameModules[t.phasedRegistrationNames[n]];if(r)return r}return null},_resetEventPlugins:function(){s=null;for(var e in l)l.hasOwnProperty(e)&&delete l[e];u.plugins.length=0;var t=u.eventNameDispatchConfigs;for(var n in t)t.hasOwnProperty(n)&&delete t[n];var r=u.registrationNameModules;for(var o in r)r.hasOwnProperty(o)&&delete r[o]}};e.exports=u}).call(t,n(1))},function(e,t,n){"use strict";function r(e){return(""+e).replace(_,"//")}function o(e,t){this.func=e,this.context=t,this.count=0}function i(e,t,n){var r=e.func,o=e.context;r.call(o,t,e.count++)}function a(e,t,n){if(null==e)return e;var r=o.getPooled(t,n);v(e,i,r),o.release(r)}function s(e,t,n,r){this.result=e,this.keyPrefix=t,this.func=n,this.context=r,this.count=0}function l(e,t,n){var o=e.result,i=e.keyPrefix,a=e.func,s=e.context,l=a.call(s,t,e.count++);Array.isArray(l)?u(l,o,n,m.thatReturnsArgument):null!=l&&(g.isValidElement(l)&&(l=g.cloneAndReplaceKey(l,i+(l!==t?r(l.key||"")+"/":"")+n)),o.push(l))}function u(e,t,n,o,i){var a="";null!=n&&(a=r(n)+"/");var u=s.getPooled(t,a,o,i);v(e,l,u),s.release(u)}function c(e,t,n){if(null==e)return e;var r=[];return u(e,r,null,t,n),r}function p(e,t,n){return null}function d(e,t){return v(e,p,null)}function f(e){var t=[];return u(e,t,null,m.thatReturnsArgument),t}var h=n(25),g=n(14),m=n(19),v=n(91),b=h.twoArgumentPooler,y=h.fourArgumentPooler,_=/\/(?!\/)/g;o.prototype.destructor=function(){this.func=null,this.context=null,this.count=0},h.addPoolingTo(o,b),s.prototype.destructor=function(){this.result=null,this.keyPrefix=null,this.func=null,this.context=null,this.count=0},h.addPoolingTo(s,y);var x={forEach:a,map:c,mapIntoWithKeyPrefixInternal:u,count:d,toArray:f};e.exports=x},function(e,t,n){(function(t){"use strict";function r(){M||(M=!0,"production"!==t.env.NODE_ENV?C(!1,"setProps(...) and replaceProps(...) are deprecated. Instead, call render again at the top level."):void 0)}function o(e,n,r){for(var o in n)n.hasOwnProperty(o)&&("production"!==t.env.NODE_ENV?C("function"==typeof n[o],"%s: %s type `%s` is invalid; it must be a function, usually from React.PropTypes.",e.displayName||"ReactClass",m[r],o):void 0)}function i(e,n){var r=k.hasOwnProperty(n)?k[n]:null;P.hasOwnProperty(n)&&(r!==D.OVERRIDE_BASE?"production"!==t.env.NODE_ENV?_(!1,"ReactClassInterface: You are attempting to override `%s` from your class specification. Ensure that your method names do not overlap with React methods.",n):_(!1):void 0),e.hasOwnProperty(n)&&(r!==D.DEFINE_MANY&&r!==D.DEFINE_MANY_MERGED?"production"!==t.env.NODE_ENV?_(!1,"ReactClassInterface: You are attempting to define `%s` on your component more than once. This conflict may be due to a mixin.",n):_(!1):void 0)}function a(e,n){if(n){"function"==typeof n?"production"!==t.env.NODE_ENV?_(!1,"ReactClass: You're attempting to use a component class as a mixin. Instead, just use a regular object."):_(!1):void 0,h.isValidElement(n)?"production"!==t.env.NODE_ENV?_(!1,"ReactClass: You're attempting to use a component as a mixin. Instead, just use a regular object."):_(!1):void 0;var r=e.prototype;n.hasOwnProperty(w)&&N.mixins(e,n.mixins);for(var o in n)if(n.hasOwnProperty(o)&&o!==w){var a=n[o];if(i(r,o),N.hasOwnProperty(o))N[o](e,a);else{var s=k.hasOwnProperty(o),l=r.hasOwnProperty(o),p="function"==typeof a,d=p&&!s&&!l&&n.autobind!==!1;if(d)r.__reactAutoBindMap||(r.__reactAutoBindMap={}),r.__reactAutoBindMap[o]=a,r[o]=a;else if(l){var f=k[o];!s||f!==D.DEFINE_MANY_MERGED&&f!==D.DEFINE_MANY?"production"!==t.env.NODE_ENV?_(!1,"ReactClass: Unexpected spec policy %s for key %s when mixing in component specs.",f,o):_(!1):void 0,f===D.DEFINE_MANY_MERGED?r[o]=u(r[o],a):f===D.DEFINE_MANY&&(r[o]=c(r[o],a))}else r[o]=a,"production"!==t.env.NODE_ENV&&"function"==typeof a&&n.displayName&&(r[o].displayName=n.displayName+"_"+o)}}}}function s(e,n){if(n)for(var r in n){var o=n[r];if(n.hasOwnProperty(r)){var i=r in N;i?"production"!==t.env.NODE_ENV?_(!1,'ReactClass: You are attempting to define a reserved property, `%s`, that shouldn\'t be on the "statics" key. Define it as an instance property instead; it will still be accessible on the constructor.',r):_(!1):void 0;var a=r in e;a?"production"!==t.env.NODE_ENV?_(!1,"ReactClass: You are attempting to define `%s` on your component more than once. This conflict may be due to a mixin.",r):_(!1):void 0,e[r]=o}}}function l(e,n){e&&n&&"object"==typeof e&&"object"==typeof n?void 0:"production"!==t.env.NODE_ENV?_(!1,"mergeIntoWithNoDuplicateKeys(): Cannot merge non-objects."):_(!1);for(var r in n)n.hasOwnProperty(r)&&(void 0!==e[r]?"production"!==t.env.NODE_ENV?_(!1,"mergeIntoWithNoDuplicateKeys(): Tried to merge two objects with the same key: `%s`. This conflict may be due to a mixin; in particular, this may be caused by two getInitialState() or getDefaultProps() methods returning objects with clashing keys.",r):_(!1):void 0,e[r]=n[r]);return e}function u(e,t){return function(){var n=e.apply(this,arguments),r=t.apply(this,arguments);if(null==n)return r;if(null==r)return n;var o={};return l(o,n),l(o,r),o}}function c(e,t){return function(){e.apply(this,arguments),t.apply(this,arguments)}}function p(e,n){var r=n.bind(e);if("production"!==t.env.NODE_ENV){r.__reactBoundContext=e,r.__reactBoundMethod=n,r.__reactBoundArguments=null;var o=e.constructor.displayName,i=r.bind;r.bind=function(a){for(var s=arguments.length,l=Array(s>1?s-1:0),u=1;s>u;u++)l[u-1]=arguments[u];if(a!==e&&null!==a)"production"!==t.env.NODE_ENV?C(!1,"bind(): React component methods may only be bound to the component instance. See %s",o):void 0;else if(!l.length)return"production"!==t.env.NODE_ENV?C(!1,"bind(): You are binding a component method to the component. React does this for you automatically in a high-performance way, so you can safely remove this call. See %s",o):void 0,r;var c=i.apply(r,arguments);return c.__reactBoundContext=e,c.__reactBoundMethod=n,c.__reactBoundArguments=l,c}}return r}function d(e){for(var t in e.__reactAutoBindMap)if(e.__reactAutoBindMap.hasOwnProperty(t)){var n=e.__reactAutoBindMap[t];e[t]=p(e,n)}}var f=n(128),h=n(14),g=n(52),m=n(51),v=n(143),b=n(4),y=n(35),_=n(3),x=n(46),E=n(24),C=n(5),w=E({mixins:null}),D=x({DEFINE_ONCE:null,DEFINE_MANY:null,OVERRIDE_BASE:null,DEFINE_MANY_MERGED:null}),T=[],M=!1,k={mixins:D.DEFINE_MANY,statics:D.DEFINE_MANY,propTypes:D.DEFINE_MANY,contextTypes:D.DEFINE_MANY,childContextTypes:D.DEFINE_MANY,getDefaultProps:D.DEFINE_MANY_MERGED,getInitialState:D.DEFINE_MANY_MERGED,getChildContext:D.DEFINE_MANY_MERGED,render:D.DEFINE_ONCE,componentWillMount:D.DEFINE_MANY,componentDidMount:D.DEFINE_MANY,componentWillReceiveProps:D.DEFINE_MANY,shouldComponentUpdate:D.DEFINE_ONCE,componentWillUpdate:D.DEFINE_MANY,componentDidUpdate:D.DEFINE_MANY,componentWillUnmount:D.DEFINE_MANY,updateComponent:D.OVERRIDE_BASE},N={displayName:function(e,t){e.displayName=t},mixins:function(e,t){if(t)for(var n=0;n<t.length;n++)a(e,t[n])},childContextTypes:function(e,n){"production"!==t.env.NODE_ENV&&o(e,n,g.childContext),e.childContextTypes=b({},e.childContextTypes,n)},contextTypes:function(e,n){"production"!==t.env.NODE_ENV&&o(e,n,g.context),e.contextTypes=b({},e.contextTypes,n)},getDefaultProps:function(e,t){e.getDefaultProps?e.getDefaultProps=u(e.getDefaultProps,t):e.getDefaultProps=t},propTypes:function(e,n){"production"!==t.env.NODE_ENV&&o(e,n,g.prop),e.propTypes=b({},e.propTypes,n)},statics:function(e,t){s(e,t)},autobind:function(){}},P={replaceState:function(e,t){this.updater.enqueueReplaceState(this,e),t&&this.updater.enqueueCallback(this,t)},isMounted:function(){return this.updater.isMounted(this)},setProps:function(e,n){"production"!==t.env.NODE_ENV&&r(),this.updater.enqueueSetProps(this,e),n&&this.updater.enqueueCallback(this,n)},replaceProps:function(e,n){"production"!==t.env.NODE_ENV&&r(),this.updater.enqueueReplaceProps(this,e),n&&this.updater.enqueueCallback(this,n)}},R=function(){};b(R.prototype,f.prototype,P);var S={createClass:function(e){var n=function(e,r,o){"production"!==t.env.NODE_ENV&&("production"!==t.env.NODE_ENV?C(this instanceof n,"Something is calling a React component directly. Use a factory or JSX instead. See: https://fb.me/react-legacyfactory"):void 0),this.__reactAutoBindMap&&d(this),this.props=e,this.context=r,this.refs=y,this.updater=o||v,this.state=null;var i=this.getInitialState?this.getInitialState():null;"production"!==t.env.NODE_ENV&&"undefined"==typeof i&&this.getInitialState._isMockFunction&&(i=null),"object"!=typeof i||Array.isArray(i)?"production"!==t.env.NODE_ENV?_(!1,"%s.getInitialState(): must return an object or null",n.displayName||"ReactCompositeComponent"):_(!1):void 0,this.state=i};n.prototype=new R,n.prototype.constructor=n,T.forEach(a.bind(null,n)),a(n,e),n.getDefaultProps&&(n.defaultProps=n.getDefaultProps()),"production"!==t.env.NODE_ENV&&(n.getDefaultProps&&(n.getDefaultProps.isReactClassApproved={}),n.prototype.getInitialState&&(n.prototype.getInitialState.isReactClassApproved={})),n.prototype.render?void 0:"production"!==t.env.NODE_ENV?_(!1,"createClass(...): Class specification must implement a `render` method."):_(!1),"production"!==t.env.NODE_ENV&&("production"!==t.env.NODE_ENV?C(!n.prototype.componentShouldUpdate,"%s has a method called componentShouldUpdate(). Did you mean shouldComponentUpdate()? The name is phrased as a question because the function is expected to return a value.",e.displayName||"A component"):void 0,"production"!==t.env.NODE_ENV?C(!n.prototype.componentWillRecieveProps,"%s has a method called componentWillRecieveProps(). Did you mean componentWillReceiveProps()?",e.displayName||"A component"):void 0);for(var r in k)n.prototype[r]||(n.prototype[r]=null);return n},injection:{injectMixin:function(e){T.push(e)}}};e.exports=S}).call(t,n(1))},function(e,t,n){(function(t){"use strict";function r(e,t,n){this.props=e,this.context=t,this.refs=a,this.updater=n||o}var o=n(143),i=n(55),a=n(35),s=n(3),l=n(5);if(r.prototype.isReactComponent={},r.prototype.setState=function(e,n){"object"!=typeof e&&"function"!=typeof e&&null!=e?"production"!==t.env.NODE_ENV?s(!1,"setState(...): takes an object of state variables to update or a function which returns an object of state variables."):s(!1):void 0,"production"!==t.env.NODE_ENV&&("production"!==t.env.NODE_ENV?l(null!=e,"setState(...): You passed an undefined or null state object; instead, use forceUpdate()."):void 0),this.updater.enqueueSetState(this,e),n&&this.updater.enqueueCallback(this,n)},r.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this),e&&this.updater.enqueueCallback(this,e)},"production"!==t.env.NODE_ENV){var u={getDOMNode:["getDOMNode","Use ReactDOM.findDOMNode(component) instead."],isMounted:["isMounted","Instead, make sure to clean up subscriptions and pending requests in componentWillUnmount to prevent memory leaks."],replaceProps:["replaceProps","Instead, call render again at the top level."],replaceState:["replaceState","Refactor your code to use setState instead (see https://github.com/facebook/react/issues/3236)."],setProps:["setProps","Instead, call render again at the top level."]},c=function(e,n){i&&Object.defineProperty(r.prototype,e,{get:function(){"production"!==t.env.NODE_ENV?l(!1,"%s(...) is deprecated in plain JavaScript React classes. %s",n[0],n[1]):void 0}})};for(var p in u)u.hasOwnProperty(p)&&c(p,u[p])}e.exports=r}).call(t,n(1))},function(e,t,n){(function(t){"use strict";var r=n(22),o=n(132),i=n(134),a=n(29),s=n(10),l=n(17),u=n(27),c=n(18),p=n(81),d=n(82),f=n(383),h=n(5);i.inject();var g=l.measure("React","render",s.render),m={findDOMNode:d,render:g,unmountComponentAtNode:s.unmountComponentAtNode,version:p,unstable_batchedUpdates:c.batchedUpdates,unstable_renderSubtreeIntoContainer:f};if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.inject&&__REACT_DEVTOOLS_GLOBAL_HOOK__.inject({CurrentOwner:r,InstanceHandles:a,Mount:s,Reconciler:u,TextComponent:o}),"production"!==t.env.NODE_ENV){var v=n(8);if(v.canUseDOM&&window.top===window.self){"undefined"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&(navigator.userAgent.indexOf("Chrome")>-1&&-1===navigator.userAgent.indexOf("Edge")||navigator.userAgent.indexOf("Firefox")>-1)&&console.debug("Download the React DevTools for a better development experience: https://fb.me/react-devtools");var b=document.documentMode&&document.documentMode<8;"production"!==t.env.NODE_ENV?h(!b,'Internet Explorer is running in compatibility mode; please add the following tag to your HTML to prevent this from happening: <meta http-equiv="X-UA-Compatible" content="IE=edge" />'):void 0;for(var y=[Array.isArray,Array.prototype.every,Array.prototype.forEach,Array.prototype.indexOf,Array.prototype.map,Date.now,Function.prototype.bind,Object.keys,String.prototype.split,String.prototype.trim,Object.create,Object.freeze],_=0;_<y.length;_++)if(!y[_]){console.error("One or more ES5 shim/shams expected by React are not available: https://fb.me/react-warning-polyfills");break}}}e.exports=m}).call(t,n(1))},function(e,t){"use strict";var n={useCreateElement:!1};e.exports=n},function(e,t,n){(function(t){"use strict";function r(){if(this._rootNodeID&&this._wrapperState.pendingUpdate){this._wrapperState.pendingUpdate=!1;var e=this._currentElement.props,t=l.getValue(e);null!=t&&a(this,e,t)}}function o(e){if(e){var t=e.getName();if(t)return" Check the render method of `"+t+"`."}return""}function i(e,n){var r=e._currentElement._owner;l.checkPropTypes("select",n,r);for(var i=0;i<h.length;i++){var a=h[i];null!=n[a]&&(n.multiple?"production"!==t.env.NODE_ENV?d(Array.isArray(n[a]),"The `%s` prop supplied to <select> must be an array if `multiple` is true.%s",a,o(r)):void 0:"production"!==t.env.NODE_ENV?d(!Array.isArray(n[a]),"The `%s` prop supplied to <select> must be a scalar value if `multiple` is false.%s",a,o(r)):void 0)}}function a(e,t,n){var r,o,i=u.getNode(e._rootNodeID).options;if(t){for(r={},o=0;o<n.length;o++)r[""+n[o]]=!0;for(o=0;o<i.length;o++){var a=r.hasOwnProperty(i[o].value);i[o].selected!==a&&(i[o].selected=a)}}else{for(r=""+n,o=0;o<i.length;o++)if(i[o].value===r)return void(i[o].selected=!0);i.length&&(i[0].selected=!0)}}function s(e){var t=this._currentElement.props,n=l.executeOnChange(t,e);return this._wrapperState.pendingUpdate=!0,c.asap(r,this),n}var l=n(76),u=n(10),c=n(18),p=n(4),d=n(5),f="__ReactDOMSelect_value$"+Math.random().toString(36).slice(2),h=["value","defaultValue"],g={valueContextKey:f,getNativeProps:function(e,t,n){return p({},t,{onChange:e._wrapperState.onChange,value:void 0})},mountWrapper:function(e,n){"production"!==t.env.NODE_ENV&&i(e,n);var r=l.getValue(n);e._wrapperState={pendingUpdate:!1,initialValue:null!=r?r:n.defaultValue,onChange:s.bind(e),wasMultiple:Boolean(n.multiple)}},processChildContext:function(e,t,n){var r=p({},n);return r[f]=e._wrapperState.initialValue,r},postUpdateWrapper:function(e){var t=e._currentElement.props;e._wrapperState.initialValue=void 0;var n=e._wrapperState.wasMultiple;e._wrapperState.wasMultiple=Boolean(t.multiple);var r=l.getValue(t);null!=r?(e._wrapperState.pendingUpdate=!1,a(e,Boolean(t.multiple),r)):n!==Boolean(t.multiple)&&(null!=t.defaultValue?a(e,Boolean(t.multiple),t.defaultValue):a(e,Boolean(t.multiple),t.multiple?[]:""))}};e.exports=g}).call(t,n(1))},function(e,t,n){(function(t){"use strict";var r=n(124),o=n(75),i=n(77),a=n(10),s=n(4),l=n(56),u=n(89),c=n(92),p=function(e){};s(p.prototype,{construct:function(e){this._currentElement=e,this._stringText=""+e,this._rootNodeID=null,this._mountIndex=0},mountComponent:function(e,n,r){if("production"!==t.env.NODE_ENV&&r[c.ancestorInfoContextKey]&&c("span",null,r[c.ancestorInfoContextKey]),this._rootNodeID=e,n.useCreateElement){var i=r[a.ownerDocumentContextKey],s=i.createElement("span");return o.setAttributeForID(s,e),a.getID(s),u(s,this._stringText),s}var p=l(this._stringText);return n.renderToStaticMarkup?p:"<span "+o.createMarkupForID(e)+">"+p+"</span>"},receiveComponent:function(e,t){if(e!==this._currentElement){this._currentElement=e;var n=""+e;if(n!==this._stringText){this._stringText=n;var o=a.getNode(this._rootNodeID);r.updateTextContent(o,n)}}},unmountComponent:function(){i.unmountIDFromEnvironment(this._rootNodeID)}}),e.exports=p}).call(t,n(1))},function(e,t,n){"use strict";function r(){this.reinitializeTransaction()}var o=n(18),i=n(54),a=n(4),s=n(19),l={initialize:s,close:function(){d.isBatchingUpdates=!1}},u={initialize:s,close:o.flushBatchedUpdates.bind(o)},c=[u,l];a(r.prototype,i.Mixin,{getTransactionWrappers:function(){return c}});var p=new r,d={isBatchingUpdates:!1,batchedUpdates:function(e,t,n,r,o,i){var a=d.isBatchingUpdates;d.isBatchingUpdates=!0,a?e(t,n,r,o,i):p.perform(e,null,t,n,r,o,i)}};e.exports=d},function(e,t,n){(function(t){"use strict";function r(){if(!D&&(D=!0,v.EventEmitter.injectReactEventListener(m),v.EventPluginHub.injectEventPluginOrder(s),v.EventPluginHub.injectInstanceHandle(b),v.EventPluginHub.injectMount(y),v.EventPluginHub.injectEventPluginsByName({SimpleEventPlugin:C,EnterLeaveEventPlugin:l,ChangeEventPlugin:i,SelectEventPlugin:x,BeforeInputEventPlugin:o}),v.NativeComponent.injectGenericComponentClass(h),v.NativeComponent.injectTextComponentClass(g),v.Class.injectMixin(p),v.DOMProperty.injectDOMPropertyConfig(c),v.DOMProperty.injectDOMPropertyConfig(w),v.EmptyComponent.injectEmptyComponent("noscript"),v.Updates.injectReconcileTransaction(_),v.Updates.injectBatchingStrategy(f),v.RootIndex.injectCreateReactRootIndex(u.canUseDOM?a.createReactRootIndex:E.createReactRootIndex),v.Component.injectEnvironment(d),"production"!==t.env.NODE_ENV)){var e=u.canUseDOM&&window.location.href||"";if(/[?&]react_perf\b/.test(e)){var r=n(350);r.start()}}}var o=n(328),i=n(330),a=n(331),s=n(333),l=n(334),u=n(8),c=n(337),p=n(339),d=n(77),f=n(133),h=n(343),g=n(132),m=n(353),v=n(354),b=n(29),y=n(10),_=n(358),x=n(364),E=n(365),C=n(366),w=n(363),D=!1;e.exports={inject:r}}).call(t,n(1))},function(e,t,n){(function(t){"use strict";function r(){if(d.current){var e=d.current.getName();if(e)return" Check the render method of `"+e+"`."}return""}function o(e,n){if(e._store&&!e._store.validated&&null==e.key){e._store.validated=!0;var r=i("uniqueKey",e,n);null!==r&&("production"!==t.env.NODE_ENV?m(!1,'Each child in an array or iterator should have a unique "key" prop.%s%s%s',r.parentOrOwner||"",r.childOwner||"",r.url||""):void 0)}}function i(e,t,n){var o=r();if(!o){var i="string"==typeof n?n:n.displayName||n.name;i&&(o=" Check the top-level render call using <"+i+">.")}var a=v[e]||(v[e]={});if(a[o])return null;a[o]=!0;var s={parentOrOwner:o,url:" See https://fb.me/react-warning-keys for more information.",childOwner:null};return t&&t._owner&&t._owner!==d.current&&(s.childOwner=" It was passed a child from "+t._owner.getName()+"."),s}function a(e,t){if("object"==typeof e)if(Array.isArray(e))for(var n=0;n<e.length;n++){var r=e[n];u.isValidElement(r)&&o(r,t)}else if(u.isValidElement(e))e._store&&(e._store.validated=!0);else if(e){var i=h(e);if(i&&i!==e.entries)for(var a,s=i.call(e);!(a=s.next()).done;)u.isValidElement(a.value)&&o(a.value,t)}}function s(e,n,o,i){for(var a in n)if(n.hasOwnProperty(a)){var s;try{"function"!=typeof n[a]?"production"!==t.env.NODE_ENV?g(!1,"%s: %s type `%s` is invalid; it must be a function, usually from React.PropTypes.",e||"React class",p[i],a):g(!1):void 0,s=n[a](o,a,e,i)}catch(l){s=l}if("production"!==t.env.NODE_ENV?m(!s||s instanceof Error,"%s: type specification of %s `%s` is invalid; the type checker function must return `null` or an `Error` but returned a %s. You may have forgotten to pass an argument to the type checker creator (arrayOf, instanceOf, objectOf, oneOf, oneOfType, and shape all require an argument).",e||"React class",p[i],a,typeof s):void 0,s instanceof Error&&!(s.message in b)){b[s.message]=!0;var u=r();"production"!==t.env.NODE_ENV?m(!1,"Failed propType: %s%s",s.message,u):void 0}}}function l(e){var n=e.type;if("function"==typeof n){var r=n.displayName||n.name;n.propTypes&&s(r,n.propTypes,e.props,c.prop),"function"==typeof n.getDefaultProps&&("production"!==t.env.NODE_ENV?m(n.getDefaultProps.isReactClassApproved,"getDefaultProps is only used on classic React.createClass definitions. Use a static property named `defaultProps` instead."):void 0)}}var u=n(14),c=n(52),p=n(51),d=n(22),f=n(55),h=n(86),g=n(3),m=n(5),v={},b={},y={createElement:function(e,n,o){var i="string"==typeof e||"function"==typeof e;"production"!==t.env.NODE_ENV?m(i,"React.createElement: type should not be null, undefined, boolean, or number. It should be a string (for DOM elements) or a ReactClass (for composite components).%s",r()):void 0;var s=u.createElement.apply(this,arguments);if(null==s)return s;if(i)for(var c=2;c<arguments.length;c++)a(arguments[c],e);return l(s),s},createFactory:function(e){var n=y.createElement.bind(null,e);return n.type=e,"production"!==t.env.NODE_ENV&&f&&Object.defineProperty(n,"type",{enumerable:!1,get:function(){return"production"!==t.env.NODE_ENV?m(!1,"Factory.type is deprecated. Access the class directly before passing it to createFactory."):void 0,Object.defineProperty(this,"type",{value:e}),e}}),n},cloneElement:function(e,t,n){for(var r=u.cloneElement.apply(this,arguments),o=2;o<arguments.length;o++)a(arguments[o],r.type);return l(r),r}};e.exports=y}).call(t,n(1))},function(e,t,n){"use strict";var r,o=n(14),i=n(137),a=n(27),s=n(4),l={injectEmptyComponent:function(e){r=o.createElement(e)}},u=function(e){this._currentElement=null,this._rootNodeID=null,this._renderedComponent=e(r)};s(u.prototype,{construct:function(e){},mountComponent:function(e,t,n){return i.registerNullComponentID(e),this._rootNodeID=e,a.mountComponent(this._renderedComponent,e,t,n)},receiveComponent:function(){},unmountComponent:function(e,t,n){a.unmountComponent(this._renderedComponent),i.deregisterNullComponentID(this._rootNodeID),this._rootNodeID=null,this._renderedComponent=null}}),u.injection=l,e.exports=u},function(e,t){"use strict";function n(e){return!!i[e]}function r(e){i[e]=!0}function o(e){delete i[e]}var i={},a={isNullComponentID:n,registerNullComponentID:r,deregisterNullComponentID:o};e.exports=a},function(e,t,n){(function(t){"use strict";function n(e,t,n,o){try{return t(n,o)}catch(i){return void(null===r&&(r=i))}}var r=null,o={invokeGuardedCallback:n,invokeGuardedCallbackWithCatch:n,rethrowCaughtError:function(){if(r){var e=r;throw r=null,e}}};if("production"!==t.env.NODE_ENV&&"undefined"!=typeof window&&"function"==typeof window.dispatchEvent&&"undefined"!=typeof document&&"function"==typeof document.createEvent){var i=document.createElement("react");o.invokeGuardedCallback=function(e,t,n,r){var o=t.bind(null,n,r),a="react-"+e;i.addEventListener(a,o,!1);var s=document.createEvent("Event");s.initEvent(a,!1,!1),i.dispatchEvent(s),i.removeEventListener(a,o,!1)}}e.exports=o}).call(t,n(1))},function(e,t,n){"use strict";function r(e){return i(document.documentElement,e)}var o=n(347),i=n(108),a=n(109),s=n(110),l={hasSelectionCapabilities:function(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();
return t&&("input"===t&&"text"===e.type||"textarea"===t||"true"===e.contentEditable)},getSelectionInformation:function(){var e=s();return{focusedElem:e,selectionRange:l.hasSelectionCapabilities(e)?l.getSelection(e):null}},restoreSelection:function(e){var t=s(),n=e.focusedElem,o=e.selectionRange;t!==n&&r(n)&&(l.hasSelectionCapabilities(n)&&l.setSelection(n,o),a(n))},getSelection:function(e){var t;if("selectionStart"in e)t={start:e.selectionStart,end:e.selectionEnd};else if(document.selection&&e.nodeName&&"input"===e.nodeName.toLowerCase()){var n=document.selection.createRange();n.parentElement()===e&&(t={start:-n.moveStart("character",-e.value.length),end:-n.moveEnd("character",-e.value.length)})}else t=o.getOffsets(e);return t||{start:0,end:0}},setSelection:function(e,t){var n=t.start,r=t.end;if("undefined"==typeof r&&(r=n),"selectionStart"in e)e.selectionStart=n,e.selectionEnd=Math.min(r,e.value.length);else if(document.selection&&e.nodeName&&"input"===e.nodeName.toLowerCase()){var i=e.createTextRange();i.collapse(!0),i.moveStart("character",n),i.moveEnd("character",r-n),i.select()}else o.setOffsets(e,t)}};e.exports=l},function(e,t,n){"use strict";var r=n(375),o=/\/?>/,i={CHECKSUM_ATTR_NAME:"data-react-checksum",addChecksumToMarkup:function(e){var t=r(e);return e.replace(o," "+i.CHECKSUM_ATTR_NAME+'="'+t+'"$&')},canReuseMarkup:function(e,t){var n=t.getAttribute(i.CHECKSUM_ATTR_NAME);n=n&&parseInt(n,10);var o=r(e);return o===n}};e.exports=i},function(e,t,n){"use strict";var r=n(46),o=r({INSERT_MARKUP:null,MOVE_EXISTING:null,REMOVE_NODE:null,SET_MARKUP:null,TEXT_CONTENT:null});e.exports=o},function(e,t,n){(function(t){"use strict";function r(e){if("function"==typeof e.type)return e.type;var t=e.type,n=p[t];return null==n&&(p[t]=n=u(t)),n}function o(e){return c?void 0:"production"!==t.env.NODE_ENV?l(!1,"There is no registered component for the tag %s",e.type):l(!1),new c(e.type,e.props)}function i(e){return new d(e)}function a(e){return e instanceof d}var s=n(4),l=n(3),u=null,c=null,p={},d=null,f={injectGenericComponentClass:function(e){c=e},injectTextComponentClass:function(e){d=e},injectComponentClasses:function(e){s(p,e)}},h={getComponentClassForElement:r,createInternalComponent:o,createInstanceForText:i,isTextComponent:a,injection:f};e.exports=h}).call(t,n(1))},function(e,t,n){(function(t){"use strict";function r(e,n){"production"!==t.env.NODE_ENV&&("production"!==t.env.NODE_ENV?o(!1,"%s(...): Can only update a mounted or mounting component. This usually means you called %s() on an unmounted component. This is a no-op. Please check the code for the %s component.",n,n,e.constructor&&e.constructor.displayName||""):void 0)}var o=n(5),i={isMounted:function(e){return!1},enqueueCallback:function(e,t){},enqueueForceUpdate:function(e){r(e,"forceUpdate")},enqueueReplaceState:function(e,t){r(e,"replaceState")},enqueueSetState:function(e,t){r(e,"setState")},enqueueSetProps:function(e,t){r(e,"setProps")},enqueueReplaceProps:function(e,t){r(e,"replaceProps")}};e.exports=i}).call(t,n(1))},function(e,t,n){"use strict";function r(e){function t(t,n,r,o,i,a){if(o=o||E,a=a||r,null==n[r]){var s=y[i];return t?new Error("Required "+s+" `"+a+"` was not specified in "+("`"+o+"`.")):null}return e(n,r,o,i,a)}var n=t.bind(null,!1);return n.isRequired=t.bind(null,!0),n}function o(e){function t(t,n,r,o,i){var a=t[n],s=g(a);if(s!==e){var l=y[o],u=m(a);return new Error("Invalid "+l+" `"+i+"` of type "+("`"+u+"` supplied to `"+r+"`, expected ")+("`"+e+"`."))}return null}return r(t)}function i(){return r(_.thatReturns(null))}function a(e){function t(t,n,r,o,i){var a=t[n];if(!Array.isArray(a)){var s=y[o],l=g(a);return new Error("Invalid "+s+" `"+i+"` of type "+("`"+l+"` supplied to `"+r+"`, expected an array."))}for(var u=0;u<a.length;u++){var c=e(a,u,r,o,i+"["+u+"]");if(c instanceof Error)return c}return null}return r(t)}function s(){function e(e,t,n,r,o){if(!b.isValidElement(e[t])){var i=y[r];return new Error("Invalid "+i+" `"+o+"` supplied to "+("`"+n+"`, expected a single ReactElement."))}return null}return r(e)}function l(e){function t(t,n,r,o,i){if(!(t[n]instanceof e)){var a=y[o],s=e.name||E,l=v(t[n]);return new Error("Invalid "+a+" `"+i+"` of type "+("`"+l+"` supplied to `"+r+"`, expected ")+("instance of `"+s+"`."))}return null}return r(t)}function u(e){function t(t,n,r,o,i){for(var a=t[n],s=0;s<e.length;s++)if(a===e[s])return null;var l=y[o],u=JSON.stringify(e);return new Error("Invalid "+l+" `"+i+"` of value `"+a+"` "+("supplied to `"+r+"`, expected one of "+u+"."))}return r(Array.isArray(e)?t:function(){return new Error("Invalid argument supplied to oneOf, expected an instance of array.")})}function c(e){function t(t,n,r,o,i){var a=t[n],s=g(a);if("object"!==s){var l=y[o];return new Error("Invalid "+l+" `"+i+"` of type "+("`"+s+"` supplied to `"+r+"`, expected an object."))}for(var u in a)if(a.hasOwnProperty(u)){var c=e(a,u,r,o,i+"."+u);if(c instanceof Error)return c}return null}return r(t)}function p(e){function t(t,n,r,o,i){for(var a=0;a<e.length;a++){var s=e[a];if(null==s(t,n,r,o,i))return null}var l=y[o];return new Error("Invalid "+l+" `"+i+"` supplied to "+("`"+r+"`."))}return r(Array.isArray(e)?t:function(){return new Error("Invalid argument supplied to oneOfType, expected an instance of array.")})}function d(){function e(e,t,n,r,o){if(!h(e[t])){var i=y[r];return new Error("Invalid "+i+" `"+o+"` supplied to "+("`"+n+"`, expected a ReactNode."))}return null}return r(e)}function f(e){function t(t,n,r,o,i){var a=t[n],s=g(a);if("object"!==s){var l=y[o];return new Error("Invalid "+l+" `"+i+"` of type `"+s+"` "+("supplied to `"+r+"`, expected `object`."))}for(var u in e){var c=e[u];if(c){var p=c(a,u,r,o,i+"."+u);if(p)return p}}return null}return r(t)}function h(e){switch(typeof e){case"number":case"string":case"undefined":return!0;case"boolean":return!e;case"object":if(Array.isArray(e))return e.every(h);if(null===e||b.isValidElement(e))return!0;var t=x(e);if(!t)return!1;var n,r=t.call(e);if(t!==e.entries){for(;!(n=r.next()).done;)if(!h(n.value))return!1}else for(;!(n=r.next()).done;){var o=n.value;if(o&&!h(o[1]))return!1}return!0;default:return!1}}function g(e){var t=typeof e;return Array.isArray(e)?"array":e instanceof RegExp?"object":t}function m(e){var t=g(e);if("object"===t){if(e instanceof Date)return"date";if(e instanceof RegExp)return"regexp"}return t}function v(e){return e.constructor&&e.constructor.name?e.constructor.name:"<<anonymous>>"}var b=n(14),y=n(51),_=n(19),x=n(86),E="<<anonymous>>",C={array:o("array"),bool:o("boolean"),func:o("function"),number:o("number"),object:o("object"),string:o("string"),any:i(),arrayOf:a,element:s(),instanceOf:l,node:d(),objectOf:c,oneOf:u,oneOfType:p,shape:f};e.exports=C},function(e,t){"use strict";var n={injectCreateReactRootIndex:function(e){r.createReactRootIndex=e}},r={createReactRootIndex:null,injection:n};e.exports=r},function(e,t){"use strict";var n={currentScrollLeft:0,currentScrollTop:0,refreshScrollValues:function(e){n.currentScrollLeft=e.x,n.currentScrollTop=e.y}};e.exports=n},function(e,t,n){(function(t){"use strict";function r(e,n){if(null==n?"production"!==t.env.NODE_ENV?o(!1,"accumulateInto(...): Accumulated items must not be null or undefined."):o(!1):void 0,null==e)return n;var r=Array.isArray(e),i=Array.isArray(n);return r&&i?(e.push.apply(e,n),e):r?(e.push(n),e):i?[e].concat(n):[e,n]}var o=n(3);e.exports=r}).call(t,n(1))},function(e,t){"use strict";var n=function(e,t,n){Array.isArray(e)?e.forEach(t,n):e&&t.call(n,e)};e.exports=n},function(e,t,n){"use strict";function r(){return!i&&o.canUseDOM&&(i="textContent"in document.documentElement?"textContent":"innerText"),i}var o=n(8),i=null;e.exports=r},function(e,t){"use strict";function n(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&r[e.type]||"textarea"===t)}var r={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};e.exports=n},function(e,t){e.exports=THREE},function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function o(e,t){a.createViewer(e,function(e){return e?void a.createUI(e,t):alert("The metadata format seems to be unsupported.")})}Object.defineProperty(t,"__esModule",{value:!0}),t.load=o;var i=n(153),a=r(i);n(251),n(252),n(253);var s=/iPad|iPhone|iPod/.test(navigator.platform);s&&document.querySelector("body").classList.add("is-ios-device")},function(e,t,n){(function(e){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){var n=new XMLHttpRequest;n.open("GET",e,!0),n.setRequestHeader("Access-Control-Allow-Origin","*"),n.responseType="text",n.onload=function(e){return 200===this.status?t(null,JSON.parse(n.response)):void t(new Error(e),n)},n.onerror=function(e){t(e,n)},n.send()}function i(e,t){var n=e.split("/"),r=n.slice(0,n.length-1).join("/")+"/";o("/config.json",function(n,a){n&&(a={}),a=(0,U["default"])(a,(0,B["default"])(window.location.href)),W&&(a.ensemble=!0),o(e,function(e,n){var o=n.type;if((0,F["default"])(o,"ensemble-dataset")){var s={},l=null,p=0,f=n.Ensemble.datasets.length;W=!0,n.Ensemble.datasets.forEach(function(e){i(r+e.data,function(r){if(p++,"ViewerSelector"===r.ui)for(s[e.name]={builder:r.list[0].imageBuilder,name:e.name,queryDataModel:r.list[0].queryDataModel},r.list[0].imageBuilder.name=e.name;r.list.length>1;)r.list.pop().destroy();else s[e.name]={builder:r.imageBuilder,name:e.name,queryDataModel:r.queryDataModel},r.imageBuilder.name=e.name;l||(l=r.queryDataModel),p===f&&(u(n.Ensemble.binding||[],s),c(n.Ensemble.operators||[],s),t({renderers:s,queryDataModel:l,ui:"MultiViewerWidget"}))})})}else(0,F["default"])(o,"arctic-viewer-list")?t({ui:"ArcticListViewer",list:n.list,basePath:"/data/"}):a.MagicLens&&!a.ensemble?(0,d["default"])(r,n,a,function(e){e.allowMagicLens?(0,d["default"])(r,n,a,function(n){var r=["phi","theta","n_pos","time"];e.imageBuilder.queryDataModel.link(n.imageBuilder.queryDataModel,r,!0),n.imageBuilder.queryDataModel.link(e.imageBuilder.queryDataModel,r,!0),n.imageBuilder=new m["default"](n.imageBuilder,e.imageBuilder),t(n)}):(a.MagicLens=!1,t(e))}):(0,d["default"])(r,n,a,t)})})}function a(t,n){return t.bgColor&&"MultiViewerWidget"!==t.ui&&(n.style[-1!==t.bgColor.indexOf("gradient")?"background":"background-color"]=t.bgColor),e(function(){var e=t.renderers||{};for(var n in e)e[n].builder&&e[n].builder.update&&e[n].builder.update();t.imageBuilder&&t.imageBuilder.update&&t.imageBuilder.update()}),O["default"].unmountComponentAtNode(n),O["default"].render(R["default"].createElement(j[t.ui],t),n)}function s(t,n){return function(r,o){var i=r.name,a=r.value,s=t.length,l=[];if(-1!==n.indexOf(i))for(;s--;){var u=t[s];u.getValue(i)!==a&&(u.setValue(i,a),l.push(u))}e(function(){for(;l.length;)l.pop().fetchData()})}}function l(e,t){return function(n,r){for(var o=e.length;o--;){var i=e[o];i[t](n)}}}function u(e,t){e.forEach(function(e){var n=[],r=[];for(var o in t)-1!==e.datasets.indexOf(o)&&(r.push(t[o].builder||t[o].painter),t[o].builder&&n.push(t[o].builder.queryDataModel));var i=s(n,e.arguments);n.forEach(function(e){e.onStateChange(i)}),e.other&&e.other.forEach(function(e){var t=l(r,e.setter);r.forEach(function(n){n[e.listener](t)})})})}function c(e,t){e.forEach(function(e){var n=new h["default"](e.operation,e.datasets);n.name=e.name,t[e.name]={builder:n,name:e.name}}),e.forEach(function(e){function n(e,t){r.updateData(e.builder.name,e)}var r=t[e.name].builder;e.datasets.forEach(function(e){t[e].builder.onImageReady(n)})})}Object.defineProperty(t,"__esModule",{value:!0}),t.getJSON=o,t.createViewer=i,t.createUI=a,t.bindDatasets=u,t.createOperators=c;var p=n(162),d=r(p),f=n(181),h=r(f),g=n(176),m=r(g),v=n(58),b=(r(v),n(164)),y=r(b),_=n(198),x=r(_),E=n(197),C=r(E),w=n(199),D=r(w),T=n(200),M=r(T),k=n(201),N=r(k),P=n(2),R=r(P),S=n(12),O=r(S),A=n(70),I=(r(A),n(16)),F=r(I),L=n(49),U=r(L),V=n(325),B=r(V),j={ArcticListViewer:y["default"],GenericViewer:x["default"],GeometryViewer:C["default"],MultiViewerWidget:D["default"],ProbeViewerWidget:M["default"],ViewerSelector:N["default"]},W=!1}).call(t,n(23).setImmediate)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e){var t=e.viewer,n=e.dataType;return(0,v["default"])(n,"tonic-query-data-model")||(0,v["default"])(n,"composite-pipeline-image")?(t.pipelineModel=new a["default"](t.queryDataModel.originalData),t.imageBuilder=new l["default"](t.queryDataModel),t.pipelineModel.onChange(function(e){t.queryDataModel.setValue("pipeline",e),t.imageBuilder.update()}),t.queryDataModel.setValue("pipeline",t.pipelineModel.getPipelineQuery()),t.menuAddOn=[h["default"].createElement(c["default"],{title:"Pipeline",key:"CompositeControl_parent"},h["default"].createElement(d["default"],{key:"CompositeControl",model:t.pipelineModel}))],t.imageBuilder.update(),!0):!1}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=o;var i=n(30),a=r(i),s=n(93),l=r(s),u=n(15),c=r(u),p=n(59),d=r(p),f=n(2),h=r(f),g=n(12),m=(r(g),n(16)),v=r(m)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e){var t=e.viewer,n=e.dataType;return(0,c["default"])(n,"composite-pipeline")?(t.pipelineModel=new a["default"](t.queryDataModel.originalData),t.imageBuilder=new l["default"](t.queryDataModel,t.pipelineModel),t.imageBuilder.update(),!0):!1}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=o;var i=n(30),a=r(i),s=n(168),l=r(s),u=n(16),c=r(u)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e){var t=e.viewer,n=e.dataType,r=e.callback,o=a["default"],i=null;if(!((0,h["default"])(n,"in-situ-data-prober")||(0,h["default"])(n,"data-prober")&&(0,h["default"])(n,"binary")))return!1;(0,h["default"])(n,"data-prober")&&(0,h["default"])(n,"binary")?(o=l["default"],i=t.queryDataModel.originalData.DataProber.dimensions):i=t.queryDataModel.originalData.InSituDataProber.dimensions;var s={name:"Single View",imageBuilder:new o(t.queryDataModel,t.config.lookupTableManager),queryDataModel:t.queryDataModel,ui:"ProbeViewerWidget",allowMagicLens:!1,destroy:function(){this.imageBuilder.destroy()}},u={name:"Multi View",renderers:{},queryDataModel:t.queryDataModel,ui:"MultiViewerWidget",allowMagicLens:!1,destroy:function(){for(;this.renderers.length;)this.renderers.pop().destroy()}};if(s.imageBuilder.setProbeLineNotification(!0),s.imageBuilder.update(),t.config.ensemble)t.imageBuilder=s.imageBuilder,t.ui=s.ui;else{var p,f,g,m;!function(){var e=function(e,t){p.forEach(function(t){(0,d["default"])(e,t.getProbe())||t.setProbe(e[0],e[1],e[2])}),f[0].setMarkerLocation(e[0]/(i[0]-1)),f[1].setMarkerLocation(e[1]/(i[1]-1)),f[2].setMarkerLocation(e[2]/(i[2]-1))},n=function(e,t){p.forEach(function(t){t.setCrossHairEnable(e)}),f[0].enableMarker(e),f[1].enableMarker(e),f[2].enableMarker(e)},a=function(e,t){e.x.fields[0].data.length&&f[0].updateData(e.x),e.y.fields[0].data.length&&f[1].updateData(e.y),e.z.fields[0].data.length&&f[2].updateData(e.z)};p=[new o(t.queryDataModel,t.config.lookupTableManager),new o(t.queryDataModel,t.config.lookupTableManager),new o(t.queryDataModel,t.config.lookupTableManager)],f=[new c["default"]("X: {x}"),new c["default"]("Y: {x}"),new c["default"]("Z: {x}")],g=[].concat(s.imageBuilder.getRenderMethods()),p.forEach(function(t){var r=g.shift();t.setRenderMethod(r),t.setRenderMethodImutable(),t.setProbeLineNotification(!0),t.onProbeChange(e),t.onCrosshairVisibilityChange(n),t.onProbeLineReady(a),t.update(),u.renderers[r]={name:r,builder:t}}),m=["Line Chart X","Line Chart Y","Line Chart Z"],f.forEach(function(e){var t=m.shift();u.renderers[t]={name:t,painter:e}}),t.list=[s,u],t.ui="ViewerSelector",t.allowMagicLens=!1,t.onChange=function(e,n){r(t.list[e])}}()}return!0}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=o;var i=n(169),a=r(i),s=n(167),l=r(s),u=n(58),c=r(u),p=n(70),d=r(p),f=n(16),h=r(f)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e){var t=e.viewer,n=e.dataType;return(0,c["default"])(n,"webgl-composite")||(0,c["default"])(n,"depth-composite")?(t.pipelineModel=new a["default"](t.queryDataModel.originalData),t.imageBuilder=new l["default"](t.queryDataModel,t.pipelineModel,t.config.lookupTableManager),t.imageBuilder.update(),!0):!1}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=o;var i=n(30),a=r(i),s=n(171),l=r(s),u=n(16),c=r(u)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e){var t=e.viewer,n=e.dataType;if(!(0,c["default"])(n,"float-image"))return!1;t.allowMagicLens=!1;var r=new a["default"](t.queryDataModel,t.config.lookupTableManager),o=t.queryDataModel.getSize("time");if(r.update(),o&&o>1&&!(0,c["default"])(n,"single-view")&&!t.config.SingleView){var i;!function(){i=null;var e=new l["default"]("");t.renderers={"3D View":{builder:r,name:"3D View"},"Time data":{painter:e,name:"Time data"}},t.ui="MultiViewerWidget",t.layout="2x1",r.onTimeDataReady(function(t,n){i=t.fields[0].data,e.setTitle("Field: "+t.fields[0].name),e.updateData(t)}),t.queryDataModel.onStateChange(function(n,a){var s=t.queryDataModel.getIndex("time");r.getTimeProbe().value=i?i[s]:"",e.setMarkerLocation(s/o)})}()}else t.imageBuilder=r;return!0}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=o;var i=n(175),a=r(i),s=n(58),l=r(s),u=n(16),c=r(u)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e){var t=e.basepath,n=e.viewer,r=e.dataType;if(!(0,d["default"])(r,"geometry"))return!1;var o=new c["default"](n.queryDataModel.originalData),i=new m["default"](t),s=n.config.lookupTableManager;return n.ui="GeometryViewer",n.allowMagicLens=!1,n.geometryBuilder=new h["default"](s,i,o,n.queryDataModel),n.menuAddOn=[E["default"].createElement(b["default"],{key:"LookupTableManagerWidget",field:s.getActiveField(),lookupTableManager:s}),E["default"].createElement(a["default"],{title:"Pipeline",key:"CompositeControl_parent"},E["default"].createElement(l["default"],{key:"CompositeControl",model:o})),E["default"].createElement(_["default"],{key:"QueryDataModel",handleExploration:!0,model:n.queryDataModel})],!0}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=o;var i=n(15),a=r(i),s=n(59),l=r(s),u=n(30),c=r(u),p=n(16),d=r(p),f=n(166),h=r(f),g=n(191),m=r(g),v=n(61),b=r(v),y=n(98),_=r(y),x=n(2),E=r(x)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e){var t=e.viewer,n=e.dataType;return!(0,l["default"])(n,"tonic-query-data-model")||n.length>1?!1:(t.imageBuilder=new a["default"](t.queryDataModel),t.imageBuilder.update(),!0)}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=o;var i=n(93),a=r(i),s=n(16),l=r(s)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e){var t=e.viewer,n=e.dataType;return(0,d["default"])(n,"sorted-composite")?((0,d["default"])(n,"multi-color-by")?(t.pipelineModel=new a["default"](t.queryDataModel.originalData,!0),t.imageBuilder=new l["default"](t.queryDataModel,t.config.lookupTableManager,t.pipelineModel),t.imageBuilder.update()):(t.imageBuilder=new c["default"](t.queryDataModel,t.config.lookupTableManager),t.imageBuilder.update()),!0):!1}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=o;var i=n(30),a=r(i),s=n(180),l=r(s),u=n(182),c=r(u),p=n(16),d=r(p)},function(e,t,n){(function(e){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(t,n,r,o){r.lookupTableManager=k;var i=n.type,s=!1,l=M.length,u={ui:"GenericViewer",config:r,allowMagicLens:!0};n&&n.metadata&&n.metadata.backgroundColor&&(u.bgColor=n.metadata.backgroundColor),(0,c["default"])(i,"tonic-query-data-model")&&(u.queryDataModel=r.queryDataModel||new a["default"](n,t));for(var p={basepath:t,data:n,callback:o,viewer:u,dataType:i};l--&&!s;)s=M[l](p);return e(function(){return o(u)}),s}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=o;var i=n(192),a=r(i),s=n(187),l=r(s),u=n(16),c=r(u),p=n(154),d=r(p),f=n(155),h=r(f),g=n(156),m=r(g),v=n(157),b=r(v),y=n(158),_=r(y),x=n(159),E=r(x),C=n(160),w=r(C),D=n(161),T=r(D),M=[d["default"],h["default"],m["default"],b["default"],_["default"],E["default"],w["default"],T["default"]],k=new l["default"]}).call(t,n(23).setImmediate)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(2),i=r(o);t["default"]=i["default"].createClass({displayName:"DataSetView",openDataSet:function(){ArcticViewer.load("http://"+location.host+this.props.base+this.props.item.path,document.querySelector(".react-content"))},render:function(){return i["default"].createElement("div",{className:"DataSetView"},i["default"].createElement("div",{className:"DataSetView__thumbnail",onClick:this.openDataSet,style:{backgroundImage:"url("+this.props.base+this.props.item.thumbnail+")"}},i["default"].createElement("i",{className:this.props.item.thumbnail?"":"fa fa-question"})),i["default"].createElement("div",{className:"DataSetView__titleBar"},i["default"].createElement("strong",null,this.props.item.name),i["default"].createElement("span",{className:"DataSetView__size"},this.props.item.size)),i["default"].createElement("div",{className:"DataSetView__description"},this.props.item.description))}})},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(2),i=r(o),a=n(163),s=r(a);n(250),t["default"]=i["default"].createClass({displayName:"viewer",getDefaultProps:function(){return{title:"Arctic Viewer",icon:n(277),list:[],basePath:"/"}},render:function(){var e=this.props.basePath;return i["default"].createElement("div",{className:"ArcticViewer"},i["default"].createElement("div",{className:"ArcticViewer__bar"},i["default"].createElement("img",{src:this.props.icon}),i["default"].createElement("strong",null,this.props.title)),i["default"].createElement("div",{className:"ArcticViewer__content"},this.props.list.map(function(t,n){return i["default"].createElement(s["default"],{base:e,item:t,key:"dataset_"+n})})))}})},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(151),i=r(o);i["default"].TrackballControls=function(e,t){function n(e){f.enabled!==!1&&(window.removeEventListener("keydown",n),b=v,v===h.NONE&&(e.keyCode!==f.keys[h.ROTATE]||f.noRotate?e.keyCode!==f.keys[h.ZOOM]||f.noZoom?e.keyCode!==f.keys[h.PAN]||f.noPan||(v=h.PAN):v=h.ZOOM:v=h.ROTATE))}function r(e){f.enabled!==!1&&(v=b,window.addEventListener("keydown",n,!1))}function o(e){f.enabled!==!1&&(e.preventDefault(),e.stopPropagation(),v===h.NONE&&(v=e.button),v!==h.ROTATE||f.noRotate?v!==h.ZOOM||f.noZoom?v!==h.PAN||f.noPan||(k.copy(O(e.pageX,e.pageY)),N.copy(k)):(w.copy(O(e.pageX,e.pageY)),D.copy(w)):(x.copy(A(e.pageX,e.pageY)),_.copy(x)),document.addEventListener("mousemove",a,!1),document.addEventListener("mouseup",s,!1),f.dispatchEvent(R))}function a(e){f.enabled!==!1&&(e.preventDefault(),e.stopPropagation(),v!==h.ROTATE||f.noRotate?v!==h.ZOOM||f.noZoom?v!==h.PAN||f.noPan||N.copy(O(e.pageX,e.pageY)):D.copy(O(e.pageX,e.pageY)):(_.copy(x),x.copy(A(e.pageX,e.pageY))))}function s(e){f.enabled!==!1&&(e.preventDefault(),e.stopPropagation(),v=h.NONE,document.removeEventListener("mousemove",a),document.removeEventListener("mouseup",s),f.dispatchEvent(S))}function l(e){if(f.enabled!==!1){e.preventDefault(),e.stopPropagation();var t=0;e.wheelDelta?t=e.wheelDelta/40:e.detail&&(t=-e.detail/3),w.y+=.01*t,f.dispatchEvent(R),f.dispatchEvent(S)}}function u(e){if(f.enabled!==!1){switch(e.touches.length){case 1:v=h.TOUCH_ROTATE,x.copy(A(e.touches[0].pageX,e.touches[0].pageY)),_.copy(x);break;case 2:v=h.TOUCH_ZOOM_PAN;var t=e.touches[0].pageX-e.touches[1].pageX,n=e.touches[0].pageY-e.touches[1].pageY;M=T=Math.sqrt(t*t+n*n);var r=(e.touches[0].pageX+e.touches[1].pageX)/2,o=(e.touches[0].pageY+e.touches[1].pageY)/2;k.copy(O(r,o)),N.copy(k);break;default:v=h.NONE}f.dispatchEvent(R)}}function c(e){if(f.enabled!==!1)switch(e.preventDefault(),e.stopPropagation(),e.touches.length){case 1:_.copy(x),x.copy(A(e.touches[0].pageX,e.touches[0].pageY));break;case 2:var t=e.touches[0].pageX-e.touches[1].pageX,n=e.touches[0].pageY-e.touches[1].pageY;M=Math.sqrt(t*t+n*n);var r=(e.touches[0].pageX+e.touches[1].pageX)/2,o=(e.touches[0].pageY+e.touches[1].pageY)/2;N.copy(O(r,o));break;default:v=h.NONE}}function p(e){if(f.enabled!==!1){switch(e.touches.length){case 1:_.copy(x),x.copy(A(e.touches[0].pageX,e.touches[0].pageY));break;case 2:T=M=0;var t=(e.touches[0].pageX+e.touches[1].pageX)/2,n=(e.touches[0].pageY+e.touches[1].pageY)/2;N.copy(O(t,n)),k.copy(N)}v=h.NONE,f.dispatchEvent(S)}}function d(e){e.preventDefault()}var f=this,h={NONE:-1,ROTATE:0,ZOOM:1,PAN:2,TOUCH_ROTATE:3,TOUCH_ZOOM_PAN:4};this.object=e,this.domElement=void 0!==t?t:document,this.enabled=!0,this.screen={left:0,top:0,width:0,height:0},this.rotateSpeed=1,this.zoomSpeed=1.2,this.panSpeed=.3,this.noRotate=!1,this.noZoom=!1,this.noPan=!1,this.staticMoving=!1,this.dynamicDampingFactor=.2,this.minDistance=0,this.maxDistance=1/0,this.keys=[65,83,68],this.target=new i["default"].Vector3;var g=1e-6,m=new i["default"].Vector3,v=h.NONE,b=h.NONE,y=new i["default"].Vector3,_=new i["default"].Vector2,x=new i["default"].Vector2,E=new i["default"].Vector3,C=0,w=new i["default"].Vector2,D=new i["default"].Vector2,T=0,M=0,k=new i["default"].Vector2,N=new i["default"].Vector2;this.target0=this.target.clone(),this.position0=this.object.position.clone(),this.up0=this.object.up.clone();var P={type:"change"},R={type:"start"},S={type:"end"};this.handleResize=function(){if(this.domElement===document)this.screen.left=0,this.screen.top=0,this.screen.width=window.innerWidth,this.screen.height=window.innerHeight;else{var e=this.domElement.getBoundingClientRect(),t=this.domElement.ownerDocument.documentElement;this.screen.left=e.left+window.pageXOffset-t.clientLeft,this.screen.top=e.top+window.pageYOffset-t.clientTop,this.screen.width=e.width,this.screen.height=e.height}},this.handleEvent=function(e){"function"==typeof this[e.type]&&this[e.type](e)};var O=function(){var e=new i["default"].Vector2;return function(t,n){return e.set((t-f.screen.left)/f.screen.width,(n-f.screen.top)/f.screen.height),e}}(),A=function(){var e=new i["default"].Vector2;return function(t,n){return e.set((t-.5*f.screen.width-f.screen.left)/(.5*f.screen.width),(f.screen.height+2*(f.screen.top-n))/f.screen.width),e}}();this.rotateCamera=function(){var e,t=new i["default"].Vector3,n=new i["default"].Quaternion,r=new i["default"].Vector3,o=new i["default"].Vector3,a=new i["default"].Vector3,s=new i["default"].Vector3;return function(){s.set(x.x-_.x,x.y-_.y,0),e=s.length(),e?(y.copy(f.object.position).sub(f.target),r.copy(y).normalize(),o.copy(f.object.up).normalize(),a.crossVectors(o,r).normalize(),o.setLength(x.y-_.y),a.setLength(x.x-_.x),s.copy(o.add(a)),t.crossVectors(s,y).normalize(),e*=f.rotateSpeed,n.setFromAxisAngle(t,e),y.applyQuaternion(n),f.object.up.applyQuaternion(n),E.copy(t),C=e):!f.staticMoving&&C&&(C*=Math.sqrt(1-f.dynamicDampingFactor),y.copy(f.object.position).sub(f.target),n.setFromAxisAngle(E,C),y.applyQuaternion(n),f.object.up.applyQuaternion(n)),_.copy(x)}}(),this.zoomCamera=function(){var e;v===h.TOUCH_ZOOM_PAN?(e=T/M,T=M,y.multiplyScalar(e)):(e=1+(D.y-w.y)*f.zoomSpeed,1!==e&&e>0&&(y.multiplyScalar(e),f.staticMoving?w.copy(D):w.y+=(D.y-w.y)*this.dynamicDampingFactor))},this.panCamera=function(){var e=new i["default"].Vector2,t=new i["default"].Vector3,n=new i["default"].Vector3;return function(){e.copy(N).sub(k),e.lengthSq()&&(e.multiplyScalar(y.length()*f.panSpeed),n.copy(y).cross(f.object.up).setLength(e.x),n.add(t.copy(f.object.up).setLength(e.y)),f.object.position.add(n),f.target.add(n),f.staticMoving?k.copy(N):k.add(e.subVectors(N,k).multiplyScalar(f.dynamicDampingFactor)))}}(),this.checkDistances=function(){f.noZoom&&f.noPan||(y.lengthSq()>f.maxDistance*f.maxDistance&&(f.object.position.addVectors(f.target,y.setLength(f.maxDistance)),w.copy(D)),y.lengthSq()<f.minDistance*f.minDistance&&(f.object.position.addVectors(f.target,y.setLength(f.minDistance)),w.copy(D)))},this.update=function(){y.subVectors(f.object.position,f.target),f.noRotate||f.rotateCamera(),f.noZoom||f.zoomCamera(),f.noPan||f.panCamera(),f.object.position.addVectors(f.target,y),f.checkDistances(),f.object.lookAt(f.target),m.distanceToSquared(f.object.position)>g&&(f.dispatchEvent(P),m.copy(f.object.position))},this.reset=function(){v=h.NONE,b=h.NONE,f.target.copy(f.target0),f.object.position.copy(f.position0),f.object.up.copy(f.up0),y.subVectors(f.object.position,f.target),f.object.lookAt(f.target),f.dispatchEvent(P),m.copy(f.object.position)},this.resetCamera=function(e,t){v=h.NONE,b=h.NONE;var n=(new i["default"].Vector3).subVectors(f.object.position,f.target).normalize().multiplyScalar(2.7*t);w.set(0,0),D.set(0,0),f.target.copy(e),f.object.position.copy(e),f.object.position.add(n),y.subVectors(f.object.position,f.target),f.object.lookAt(f.target),f.dispatchEvent(P),m.copy(f.object.position)},this.dispose=function(){this.domElement.removeEventListener("contextmenu",d,!1),this.domElement.removeEventListener("mousedown",o,!1),this.domElement.removeEventListener("mousewheel",l,!1),this.domElement.removeEventListener("MozMousePixelScroll",l,!1),this.domElement.removeEventListener("touchstart",u,!1),this.domElement.removeEventListener("touchend",p,!1),this.domElement.removeEventListener("touchmove",c,!1),document.removeEventListener("mousemove",a,!1),document.removeEventListener("mouseup",s,!1),window.removeEventListener("keydown",n,!1),window.removeEventListener("keyup",r,!1)},this.domElement.addEventListener("contextmenu",d,!1),this.domElement.addEventListener("mousedown",o,!1),this.domElement.addEventListener("mousewheel",l,!1),this.domElement.addEventListener("MozMousePixelScroll",l,!1),this.domElement.addEventListener("touchstart",u,!1),this.domElement.addEventListener("touchend",p,!1),this.domElement.addEventListener("touchmove",c,!1),window.addEventListener("keydown",n,!1),window.addEventListener("keyup",r,!1),this.handleResize(),this.update()},i["default"].TrackballControls.prototype=Object.create(i["default"].EventDispatcher.prototype),i["default"].TrackballControls.prototype.constructor=i["default"].TrackballControls,t["default"]=i["default"].TrackballControls},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t,n){for(var r=0;r<t.length;++r){var o=3*r,i=e.getColor(t[r]);n[o]=i[0],n[o+1]=i[1],n[o+2]=i[2]}return n}function a(e){for(var t=0;t<e.length;++t)e[t]=.5;return e}var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();Object.defineProperty(t,"__esModule",{value:!0});var l=n(151),u=r(l),c=n(165),p=r(c),d=function(){function e(t,n,r,i){var a=this;o(this,e),this.meshMap={},this.firstSceneLoad=!0,this.lookupTableManager=t,this.geometryDataModel=n,this.pipelineModel=r,this.queryDataModel=i,this.layerMap=this.queryDataModel.originalData.Geometry.layer_map,this.fieldMap=this.queryDataModel.originalData.CompositePipeline.fields,this.maxSize=i.originalData.Geometry.object_size;var s=function(e,t){for(var n=e.length,r=0;n>r;r+=2){var o=a.layerMap[e[r]],i=a.fieldMap[e[r+1]];i?(a.geometryDataModel.colorGeometryBy(o,i),a.updateObjectVisibility(o,!0)):a.updateObjectVisibility(o,!1)}a.queryDataModel.fetchData()};this.pipelineModel.onChange(s),this.queryDataModel.onDataChange(function(e,t){
e.scene&&(a.geometryDataModel.loadScene(e.scene.data),a.firstSceneLoad&&(a.firstSceneLoad=!1,s(a.pipelineModel.getPipelineQuery())))}),this.lookupTableManager.addFields(this.queryDataModel.originalData.Geometry.ranges,this.queryDataModel.originalData.LookupTables),this.lookupTableManager.onChange(function(e,t){a.updateColoring(e.change,e.lut)}),this.camera=new u["default"].PerspectiveCamera(45,window.innerWidth/window.innerHeight,.1,1e3),this.camera.position.z=50,this.scene=new u["default"].Scene,this.scene.add(this.camera),this.dirLight=new u["default"].DirectionalLight(16777215),this.dirLight.position.set(200,200,1e3).normalize(),this.camera.add(this.dirLight),this.camera.add(this.dirLight.target),this.geometryBuilderSubscription=this.geometryDataModel.onGeometryReady(function(e,t){a.updateGeometry(e)})}return s(e,[{key:"destroy",value:function(){this.geometryBuilderSubscription&&(this.geometryBuilderSubscription.unsubscribe(),this.geometryBuilderSubscription=null)}},{key:"configureRenderer",value:function(e){var t=this;this.renderer=new u["default"].WebGLRenderer({canvas:e}),this.renderer.setSize(window.innerWidth,window.innerHeight),this.controls=new p["default"](this.camera,e),this.controls.rotateSpeed=5,this.controls.zoomSpeed=20,this.controls.panSpeed=2,this.controls.noZoom=!1,this.controls.noPan=!1,this.controls.staticMoving=!0,this.controls.dynamicDampingFactor=.3,this.render=function(){requestAnimationFrame(t.render),t.controls.update(),t.renderer.render(t.scene,t.camera)},this.queryDataModel.fetchData()}},{key:"updateColoring",value:function(e,t){for(var n in this.meshMap){var r=this.meshMap[n];if(r.colorArrayName===t.name){var o=i(t,r.fieldData,r.colorBuffer);r.mesh.geometry.addAttribute("color",new u["default"].BufferAttribute(o,3))}}}},{key:"updateGeometry",value:function(e){if(this.meshMap.hasOwnProperty(e.name)){var t=this.meshMap[e.name],n=t.mesh.geometry,r=t.colorBuffer;n.vertices&&e.points.length!==n.vertices.length&&console.log("********  We may have a problem here, new point count = "+e.points.length+", old point count = "+n.vertices.length);var o=n.getIndex(),s=n.getAttribute("position"),l=n.getAttribute("color");o&&(o.array=e.index,o.needsUpdate=!0),s&&(s.array=e.points,s.needsUpdate=!0),n.computeFaceNormals(),e.hasOwnProperty("field")?(t.colorArrayName=e.fieldName,t.fieldData=e.field,r=i(this.lookupTableManager.getLookupTable(e.fieldName),e.field,r)):(t.colorArrayName=null,t.fieldData=null,r=a(r)),l&&(l.array=r,l.needsUpdate=!0),n.computeBoundingBox()}else{var c=this.maxSize[e.name].points,p=this.maxSize[e.name].index,d=new u["default"].BufferGeometry,f=new u["default"].MeshPhongMaterial({color:14540253,specular:4473924,shininess:10,side:u["default"].DoubleSide,vertexColors:u["default"].VertexColors,shading:u["default"].FlatShading}),h=new Float32Array(3*c),g=new u["default"].Mesh(d,f);this.scene.add(g),this.meshMap[e.name]={mesh:g,material:f,colorBuffer:h};for(var m=new Float32Array(3*c),v=new Uint32Array(p),b=0;c>b;b++)m[b]=Math.random();for(var b=0;p>b;b++)v[b]=b%c;d.addAttribute("position",new u["default"].BufferAttribute(m,3)),d.setIndex(new u["default"].BufferAttribute(v,1)),d.addAttribute("color",new u["default"].BufferAttribute(h,3)),d.computeFaceNormals(),this.renderer.render(this.scene,this.camera)}}},{key:"updateObjectVisibility",value:function(e,t){this.meshMap[e]&&(this.meshMap[e].mesh.visible=t)}},{key:"resetCamera",value:function(){var e=new u["default"].Box3;for(var t in this.meshMap){var n=this.meshMap[t].mesh;n.geometry.computeBoundingBox(),e.expandByPoint(n.geometry.boundingBox.min).expandByPoint(n.geometry.boundingBox.max)}var r=e.getBoundingSphere(),o=r.center,i=r.radius;this.controls.resetCamera(o,i)}},{key:"updateSize",value:function(e,t){this.camera.aspect=e/t,this.camera.updateProjectionMatrix(),this.renderer.setSize(e,t),this.controls.handleResize()}}]),e}();t["default"]=d},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=function y(e,t,n){null===e&&(e=Function.prototype);var r=Object.getOwnPropertyDescriptor(e,t);if(void 0===r){var o=Object.getPrototypeOf(e);return null===o?void 0:y(o,t,n)}if("value"in r)return r.value;var i=r.get;if(void 0!==i)return i.call(n)};Object.defineProperty(t,"__esModule",{value:!0});var u=n(20),c=r(u),p=n(13),d=r(p),f="ProbeImageBuilder.chart.data.ready",h="ProbeImageBuilder.probe.location.change",g="ProbeImageBuilder.crosshair.visibility.change",m="ProbeImageBuilder.render.change",v={XY:{idx:[0,1,2],hasChange:function(e,t,n,r){return e[2]!==r}},XZ:{idx:[0,2,1],hasChange:function(e,t,n,r){return e[1]!==n}},ZY:{idx:[2,1,0],hasChange:function(e,t,n,r){return e[0]!==t}}},b=function(e){function t(e,n){o(this,t);var r=i(this,Object.getPrototypeOf(t).call(this,{queryDataModel:e,lookupTableManager:n}));r.metadata=e.originalData.DataProber,r.renderMethodMutable=!0,r.renderMethod="XY",r.triggerProbeLines=!1,r.broadcastCrossHair=!0,r.probeValue=0,r.probeXYZ=[Math.floor(r.metadata.dimensions[0]/2),Math.floor(r.metadata.dimensions[1]/2),Math.floor(r.metadata.dimensions[2]/2)],r.fields=Object.keys(r.metadata.types),r.field=r.fields[0],r.dataFields=null,r.pushMethod="pushToFrontAsBuffer",r.lookupTableManager.updateActiveLookupTable(r.field),r.lookupTableManager.addFields(r.metadata.ranges,r.queryDataModel.originalData.LookupTables);for(var a=0,s=0;3>s;++s){var l=r.metadata.dimensions[s];a=l>a?l:a}r.bgCanvas=new d["default"](a,a),r.registerObjectToFree(r.bgCanvas),r.fgCanvas=null,r.registerSubscription(e.onDataChange(function(e,t){r.dataFields={};for(var n in e)r.dataFields[n]=new window[r.metadata.types[n]](e[n].data);r.render()})),r.registerSubscription(r.lookupTableManager.onActiveLookupTableChange(function(e,t){r.field!==e&&(r.field=e,r.render())})),r.registerSubscription(r.lookupTableManager.onChange(function(e,t){r.update()}));var u=r;return r.mouseListener={click:function(e,t){if(!e.activeArea)return!1;var n=[u.probeXYZ[0],u.probeXYZ[1],u.probeXYZ[2]],r=v[u.renderMethod].idx,o=u.metadata.dimensions,i=e.activeArea,a=(e.relative.x-i[0])/i[2],s=(e.relative.y-i[1])/i[3];if(e.modifier)return!1;a=0>a?0:a>1?1:a,s=0>s?0:s>1?1:s,"XZ"===u.renderMethod&&(s=1-s);var l=Math.floor(a*o[r[0]]),c=Math.floor(s*o[r[1]]);return n[r[0]]=l,n[r[1]]=c,u.setProbe(n[0],n[1],n[2]),!0},drag:function(e,t){if(!e.activeArea)return!1;var n=[u.probeXYZ[0],u.probeXYZ[1],u.probeXYZ[2]],r=v[u.renderMethod].idx,o=u.metadata.dimensions,i=e.activeArea,a=(e.relative.x-i[0])/i[2],s=(e.relative.y-i[1])/i[3];if(e.modifier)return!1;a=0>a?0:a>1?1:a,s=0>s?0:s>1?1:s,"XZ"===u.renderMethod&&(s=1-s);var l=Math.floor(a*o[r[0]]),c=Math.floor(s*o[r[1]]);return n[r[0]]=l,n[r[1]]=c,u.setProbe(n[0],n[1],n[2]),!0},zoom:function(e,t){var n=[u.probeXYZ[0],u.probeXYZ[1],u.probeXYZ[2]],r=v[u.renderMethod].idx,o=r[2];return e.modifier?!1:(n[o]+=e.deltaY<0?-1:1,n[o]<0?(n[o]=0,!0):n[o]>=u.metadata.dimensions[o]?(n[o]=u.metadata.dimensions[o]-1,!0):(u.setProbe(n[0],n[1],n[2]),!0))}},r}return a(t,e),s(t,[{key:"setPushMethodAsBuffer",value:function(){this.pushMethod="pushToFrontAsBuffer"}},{key:"setPushMethodAsImage",value:function(){this.pushMethod="pushToFrontAsImage"}},{key:"setProbeLineNotification",value:function(e){this.triggerProbeLines=e}},{key:"updateProbeValue",value:function(){var e=this.probeXYZ[0],t=this.probeXYZ[1],n=this.probeXYZ[2],r=this.metadata.dimensions[0],o=this.metadata.dimensions[1],i=(this.metadata.dimensions[2],this.dataFields[this.field]);i&&(this.probeValue=i[e+(o-t-1)*r+n*r*o])}},{key:"setProbe",value:function(e,t,n){var r=v[this.renderMethod].hasChange,o=v[this.renderMethod].idx,i=[].concat(this.probeXYZ);if(Array.isArray(e)&&(n=e[2],t=e[1],e=e[0]),r(this.probeXYZ,e,t,n))this.probeXYZ=[e,t,n],this.render();else{this.probeXYZ=[e,t,n];var a=this.metadata.dimensions,s=this.metadata.spacing;this.updateProbeValue(),"XZ"===this.renderMethod?this.pushToFront(a[o[0]],a[o[1]],s[o[0]],s[o[1]],this.probeXYZ[o[0]],a[o[1]]-this.probeXYZ[o[1]]-1):this.pushToFront(a[o[0]],a[o[1]],s[o[0]],s[o[1]],this.probeXYZ[o[0]],this.probeXYZ[o[1]])}(i[0]!==e||i[1]!==t||i[2]!==n)&&this.emit(h,[e,t,n])}},{key:"getProbe",value:function(){return this.probeXYZ}},{key:"getFieldValueAtProbeLocation",value:function(){return this.probeValue}},{key:"getProbeLine",value:function(e){var t=this,n={xRange:[0,100],fields:[]},r=this.fields,o=this.probeXYZ[0],i=this.probeXYZ[1],a=this.probeXYZ[2],s=this.metadata.dimensions[0],l=this.metadata.dimensions[1],u=this.metadata.dimensions[2],c=[];if(0===e)for(var p=(l-i-1)*s+a*s*l,d=0;s>d;d++)c.push(p+d);if(1===e){for(var p=o+a*s*l,f=0;l>f;f++)c.push(p+(l-f-1)*s);c.reverse()}if(2===e)for(var p=o+(l-i-1)*s,h=s*l,g=0;u>g;g++)c.push(p+g*h);var m=c.length;return r.forEach(function(e){for(var r=t.dataFields[e],o=[],i=t.lookupTableManager.getLookupTable(e).getScalarRange(),a=0;m>a;a++)o.push(r[c[a]]);n.fields.push({name:e,data:o,range:i})}),n}},{key:"render",value:function(){this.dataFields&&(this.updateProbeValue(),this["render"+this.renderMethod]())}},{key:"pushToFront",value:function(e,t,n,r,o,i){this[this.pushMethod](e,t,n,r,o,i),this.triggerProbeLines&&this.emit(f,{x:this.getProbeLine(0),y:this.getProbeLine(1),z:this.getProbeLine(2)})}},{key:"pushToFrontAsImage",value:function(e,t,n,r,o,i){var a=Math.floor(e*n),s=Math.floor(t*r),l=null;this.fgCanvas?this.fgCanvas.size(a,s):(this.fgCanvas=new d["default"](a,s),this.registerObjectToFree(this.fgCanvas)),l=this.fgCanvas.get2DContext(),l.drawImage(this.bgCanvas.el,0,0,e,t,0,0,a,s),l.beginPath(),l.moveTo(o*n,0),l.lineTo(o*n,s),l.moveTo(0,i*r),l.lineTo(a,i*r),l.strokeStyle="#ffffff",l.lineWidth=1,l.stroke();var u={url:this.fgCanvas.toDataURL(),type:this.renderMethod,builder:this};this.imageReady(u)}},{key:"pushToFrontAsBuffer",value:function(e,t,n,r,o,i){var a=Math.floor(e*n),s=Math.floor(t*r),l={canvas:this.bgCanvas.el,imageData:this.bgCanvas.el.getContext("2d").getImageData(0,0,e,t),area:[0,0,e,t],outputSize:[a,s],type:this.renderMethod,builder:this};this.broadcastCrossHair&&(l.crosshair=[o,i]),this.imageReady(l)}},{key:"renderXY",value:function(){for(var e=this.bgCanvas.get2DContext(),t=this.probeXYZ,n=this.metadata.dimensions,r=n[0],o=n[1],i=this.metadata.spacing,a=e.createImageData(n[0],n[1]),s=a.data,l=n[0]*n[1],u=l*t[2],c=this.lookupTableManager.getLookupTable(this.field),p=this.dataFields[this.field],d=0,f=0;o>f;f++)for(var h=0;r>h;h++){var g=c.getColor(p[u+h+r*(o-f-1)]);s[4*d]=255*g[0],s[4*d+1]=255*g[1],s[4*d+2]=255*g[2],s[4*d+3]=255,d++}e.putImageData(a,0,0),this.pushToFront(n[0],n[1],i[0],i[1],t[0],t[1])}},{key:"renderZY",value:function(){for(var e=this.bgCanvas.get2DContext(),t=this.probeXYZ,n=this.metadata.dimensions,r=t[0],o=n[0],i=n[0]*n[1],a=n[1],s=n[2],l=this.metadata.spacing,u=e.createImageData(n[2],n[1]),c=u.data,p=this.lookupTableManager.getLookupTable(this.field),d=this.dataFields[this.field],f=0,h=0;a>h;h++)for(var g=0;s>g;g++){var m=p.getColor(d[r+o*(a-h-1)+i*g]);c[4*f]=255*m[0],c[4*f+1]=255*m[1],c[4*f+2]=255*m[2],c[4*f+3]=255,f++}e.putImageData(u,0,0),this.pushToFront(n[2],n[1],l[2],l[1],t[2],t[1])}},{key:"renderXZ",value:function(){for(var e=this.bgCanvas.get2DContext(),t=this.probeXYZ,n=this.metadata.dimensions,r=n[0],o=n[2],i=r*n[1],a=r*(n[1]-t[1]-1),s=this.metadata.spacing,l=e.createImageData(r,o),u=l.data,c=this.lookupTableManager.getLookupTable(this.field),p=this.dataFields[this.field],d=0,f=0;o>f;f++)for(var h=0;r>h;h++){var g=c.getColor(p[a+h+(o-f-1)*i]);u[4*d]=255*g[0],u[4*d+1]=255*g[1],u[4*d+2]=255*g[2],u[4*d+3]=255,d++}e.putImageData(l,0,0),this.pushToFront(n[0],n[2],s[0],s[2],t[0],o-t[2]-1)}},{key:"isCrossHairEnabled",value:function(){return this.broadcastCrossHair}},{key:"setCrossHairEnable",value:function(e){this.broadcastCrossHair!==e&&(this.broadcastCrossHair=e,this.emit(g,e),this.setProbe(this.probeXYZ[0],this.probeXYZ[1],this.probeXYZ[2]))}},{key:"setField",value:function(e){this.field=e}},{key:"getField",value:function(){return this.field}},{key:"getFields",value:function(){return this.fields}},{key:"setRenderMethod",value:function(e){this.renderMethodMutable&&this.renderMethod!==e&&(this.renderMethod=e,this.render(),this.emit(m,e))}},{key:"getRenderMethod",value:function(){return this.renderMethod}},{key:"getRenderMethods",value:function(){return["XY","ZY","XZ"]}},{key:"isRenderMethodMutable",value:function(){return this.renderMethodMutable}},{key:"setRenderMethodImutable",value:function(){this.renderMethodMutable=!1}},{key:"setRenderMethodMutable",value:function(){this.renderMethodMutable=!0}},{key:"getListeners",value:function(){return this.mouseListener}},{key:"onProbeLineReady",value:function(e){return this.on(f,e)}},{key:"onProbeChange",value:function(e){return this.on(h,e)}},{key:"onRenderMethodChange",value:function(e){return this.on(m,e)}},{key:"onCrosshairVisibilityChange",value:function(e){return this.on(g,e)}},{key:"destroy",value:function(){l(Object.getPrototypeOf(t.prototype),"destroy",this).call(this),this.off(),this.bgCanvas=null,this.fgCanvas=null}},{key:"getControlWidgets",value:function(){var e=this,t=this.getControlModels(),n=t.lookupTableManager,r=t.queryDataModel;return[{name:"LookupTableManagerWidget",lookupTableManager:n},{name:"ProbeControl",model:e},{name:"QueryDataModelWidget",queryDataModel:r}]}}]),t}(c["default"]);t["default"]=b},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=function m(e,t,n){null===e&&(e=Function.prototype);var r=Object.getOwnPropertyDescriptor(e,t);if(void 0===r){var o=Object.getPrototypeOf(e);return null===o?void 0:m(o,t,n)}if("value"in r)return r.value;var i=r.get;if(void 0!==i)return i.call(n)};Object.defineProperty(t,"__esModule",{value:!0});var u=n(20),c=r(u),p=n(13),d=r(p),f=n(36),h=r(f),g=function(e){function t(e,n){o(this,t);var r=i(this,Object.getPrototypeOf(t).call(this,{queryDataModel:e,pipelineModel:n,handleRecord:!0,dimensions:e.originalData.CompositePipeline.dimensions}));return r.metadata=e.originalData.CompositePipeline,r.compositeMap={},r.offsetMap={},r.spriteSize=(0,h["default"])(r.metadata.offset),r.query=null,r.composite=null,r.bgCanvas=new d["default"](r.metadata.dimensions[0],r.metadata.dimensions[1]),r.registerObjectToFree(r.bgCanvas),r.fgCanvas=null,r.registerSubscription(e.onDataChange(function(e,t){r.sprite=e.sprite,r.composite=e.composite.data["pixel-order"].split("+"),r._updateCompositeMap(r.query,r.composite),r.render()})),r.registerSubscription(r.pipelineModel.onChange(function(e,t){r.setPipelineQuery(e)})),r.setPipelineQuery(r.pipelineModel.getPipelineQuery()),r}return a(t,e),s(t,[{key:"_updateOffsetMap",value:function(e){var t=this.metadata.layers,n=t.length,r=this.metadata.offset;this.offsetMap={},this.compositeMap={};for(var o=0;n>o;o++){var i=e[2*o+1];"_"===i?this.offsetMap[t[o]]=-1:this.offsetMap[t[o]]=this.spriteSize-r[t[o]+i]}}},{key:"_updateCompositeMap",value:function(e,t){if(null!==e&&null!==t)for(var n=t,r=n.length,o=this.compositeMap;r--;){var i=n[r];if("@"===i[0]);else if(o.hasOwnProperty(i));else{for(var a=-1,s=0,l=i.length;l>s;s++)a=this.offsetMap[i[s]],-1!==a&&(s=l);o[i]=a}}}},{key:"_pushToFrontAsImage",value:function(e,t){var n=null;this.fgCanvas?this.fgCanvas.size(e,t):(this.fgCanvas=new d["default"](e,t),this.registerObjectToFree(this.fgCanvas)),n=this.fgCanvas.get2DContext(),n.drawImage(this.bgCanvas.el,0,0,e,t,0,0,e,t);var r={url:this.fgCanvas.toDataURL(),builder:this};this.imageReady(r)}},{key:"_pushToFrontAsBuffer",value:function(e,t){var n={canvas:this.bgCanvas.el,imageData:this.bgCanvas.el.getContext("2d").getImageData(0,0,e,t),area:[0,0,e,t],outputSize:[e,t],builder:this,arguments:this.queryDataModel.getQuery()};n.arguments.pipeline=this.query,this.imageReady(n),this.queryDataModel.nextExploration()}},{key:"setPipelineQuery",value:function(e){this.query!==e&&(this.query=e,this._updateOffsetMap(e),this._updateCompositeMap(e,this.composite),this.render())}},{key:"render",value:function(){function e(e){s+=e,l+=Math.floor(s/u),s%=u}var t=this;if(!this.sprite)return void this.queryDataModel.fetchData();if(null!==this.query){var n=this.bgCanvas.get2DContext(),r=this.metadata.dimensions,o=1,i=this.composite,a=i.length,s=0,l=0,u=r[0];if(this.sprite.image.complete){this.sprite.image.onload&&(this.sprite.image.onload=null),n.clearRect(0,0,r[0],r[1]);for(var c=0;a>c;c++){var p=i[c];"@"===p[0]?e(Number(p.replace(/@/,"+"))):(o=this.compositeMap[p],-1!==o&&n.drawImage(this.sprite.image,s,l+r[1]*o,1,1,s,l,1,1),e(1))}this._pushToFrontAsBuffer(r[0],r[1])}else this.sprite.image.onload=function(){t.render()}}}},{key:"destroy",value:function(){l(Object.getPrototypeOf(t.prototype),"destroy",this).call(this),this.bgCanvas=null,this.fgCanvas=null,this.compositeMap=null,this.offsetMap=null}}]),t}(c["default"]);t["default"]=g},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=function y(e,t,n){null===e&&(e=Function.prototype);var r=Object.getOwnPropertyDescriptor(e,t);if(void 0===r){var o=Object.getPrototypeOf(e);return null===o?void 0:y(o,t,n)}if("value"in r)return r.value;var i=r.get;if(void 0!==i)return i.call(n)};Object.defineProperty(t,"__esModule",{value:!0});var u=n(20),c=r(u),p=n(13),d=r(p),f="ProbeImageBuilder.chart.data.ready",h="ProbeImageBuilder.probe.location.change",g="ProbeImageBuilder.crosshair.visibility.change",m="ProbeImageBuilder.render.change",v={XY:{idx:[0,1,2],hasChange:function(e,t,n,r){return e[2]!==r},updateProbeValue:function(e,t,n,r){var o=e.metadata.dimensions[0],i=t+n*o,a=e.scalars[e.getField()];a&&(e.probeValue=a[i])}},XZ:{idx:[0,2,1],hasChange:function(e,t,n,r){return e[1]!==n},updateProbeValue:function(e,t,n,r){var o=e.metadata.dimensions[0],i=t+r*o,a=e.scalars[e.getField()];a&&(e.probeValue=a[i])}},ZY:{idx:[2,1,0],hasChange:function(e,t,n,r){return e[0]!==t},updateProbeValue:function(e,t,n,r){var o=e.metadata.dimensions[2],i=r+n*o,a=e.scalars[e.getField()];a&&(e.probeValue=a[i])}}},b=function(e){function t(e,n){o(this,t);var r=i(this,Object.getPrototypeOf(t).call(this,{queryDataModel:e,lookupTableManager:n}));r.metadata=e.originalData.InSituDataProber||e.originalData.DataProber,r.fieldIndex=0,r.renderMethodMutable=!0,r.renderMethod="XY",r.lastImageStack=null,r.workImage=new Image,r.triggerProbeLines=!1,r.broadcastCrossHair=!0,r.scalars={},r.probeValue=0,r.probeXYZ=[Math.floor(r.metadata.dimensions[0]/2),Math.floor(r.metadata.dimensions[1]/2),Math.floor(r.metadata.dimensions[2]/2)],r.setField(r.metadata.fields[r.fieldIndex]),r.pushMethod="pushToFrontAsBuffer",r.lookupTableManager.addFields(r.metadata.ranges,r.queryDataModel.originalData.LookupTables),r.registerSubscription(r.lookupTableManager.onActiveLookupTableChange(function(e,t){r.getField()!==e&&(r.setField(e),r.update())}));for(var a=0,s=0;3>s;++s){var l=r.metadata.dimensions[s];a=l>a?l:a}r.bgCanvas=new d["default"](a,a),r.registerObjectToFree(r.bgCanvas),r.fgCanvas=null,r.registerSubscription(e.onDataChange(function(e,t){r.lastImageStack=e;var n=!0,o=function(){r.render()};for(var i in e){var a=e[i].image;a.addEventListener("load",o),n=n&&a.complete}n&&r.render()})),r.registerSubscription(r.lookupTableManager.onChange(function(e,t){r.update()}));var u=r;return r.mouseListener={click:function(e,t){if(!e.activeArea)return!1;var n=[u.probeXYZ[0],u.probeXYZ[1],u.probeXYZ[2]],r=v[u.renderMethod].idx,o=u.metadata.dimensions,i=e.activeArea,a=(e.relative.x-i[0])/i[2],s=(e.relative.y-i[1])/i[3];if(e.modifier)return!1;a=0>a?0:a>1?1:a,s=0>s?0:s>1?1:s;var l=Math.floor(a*o[r[0]]),c=Math.floor(s*o[r[1]]);return n[r[0]]=l,n[r[1]]=c,u.setProbe(n[0],n[1],n[2]),!0},drag:function(e,t){if(!e.activeArea)return!1;var n=[u.probeXYZ[0],u.probeXYZ[1],u.probeXYZ[2]],r=v[u.renderMethod].idx,o=u.metadata.dimensions,i=e.activeArea,a=(e.relative.x-i[0])/i[2],s=(e.relative.y-i[1])/i[3];if(e.modifier)return!1;a=0>a?0:a>1?1:a,s=0>s?0:s>1?1:s;var l=Math.floor(a*o[r[0]]),c=Math.floor(s*o[r[1]]);return n[r[0]]=l,n[r[1]]=c,u.setProbe(n[0],n[1],n[2]),!0},zoom:function(e,t){var n=[u.probeXYZ[0],u.probeXYZ[1],u.probeXYZ[2]],r=v[u.renderMethod].idx,o=r[2];return e.modifier?!1:(n[o]+=e.deltaY<0?-1:1,n[o]<0?(n[o]=0,!0):n[o]>=u.metadata.dimensions[o]?(n[o]=u.metadata.dimensions[o]-1,!0):(u.setProbe(n[0],n[1],n[2]),!0))}},r}return a(t,e),s(t,[{key:"setProbeLineNotification",value:function(e){this.triggerProbeLines=e}},{key:"getYOffset",value:function(e){return void 0===e&&(e=this.probeXYZ[2]),this.metadata.sprite_size-e%this.metadata.sprite_size-1}},{key:"getImage",value:function(e,t){void 0===e&&(e=this.probeXYZ[2]);var n=this.metadata.slices.length-1,r=Math.floor(e/this.metadata.sprite_size);r=0>r?0:r>n?n:r;var o=this.lastImageStack[this.metadata.slices[r]],i=o.image;i?i.complete?t.call(i):i.addEventListener("load",t):(this.workImage.addEventListener("load",t),this.workImage.src=o.url)}},{key:"setProbe",value:function(e,t,n){var r=v[this.renderMethod].hasChange,o=v[this.renderMethod].idx,i=[].concat(this.probeXYZ);if(Array.isArray(e)&&(n=e[2],t=e[1],e=e[0]),r(this.probeXYZ,e,t,n))this.probeXYZ=[e,t,n],this.render();else{this.probeXYZ=[e,t,n];var a=this.metadata.dimensions,s=this.metadata.spacing;v[this.renderMethod].updateProbeValue(this,e,t,n),this.pushToFront(a[o[0]],a[o[1]],s[o[0]],s[o[1]],this.probeXYZ[o[0]],this.probeXYZ[o[1]])}(i[0]!==e||i[1]!==t||i[2]!==n)&&this.emit(h,[e,t,n])}},{key:"getProbe",value:function(){return this.probeXYZ}},{key:"getFieldValueAtProbeLocation",value:function(){return this.probeValue}},{key:"getProbeLine",value:function(e){for(var t={name:this.getField(),data:[]},n={xRange:[0,100],fields:[t]},r=-1,o=v[this.renderMethod].idx,i=0;2>i;i++)e===o[i]&&(r=i);if(-1!==r){var a=this.scalars[t.name],s=this.metadata.dimensions,l=s[o[0]],u=s[o[1]],c=0===r?1:l,p=0===r?this.probeXYZ[o[1]]*l:this.probeXYZ[o[0]],d=0===r?l:u;if(this.metadata.origin&&this.metadata.spacing&&(n.xRange[0]=this.metadata.origin[e],n.xRange[1]=this.metadata.origin[e]+this.metadata.spacing[e]*s[e]),a)for(var f=0;d>f;f++)t.data.push(a[p+f*c])}return n}},{key:"render",value:function(){this.lastImageStack&&(this["render"+this.renderMethod](),v[this.renderMethod].updateProbeValue(this,this.probeXYZ[0],this.probeXYZ[1],this.probeXYZ[2]))}},{key:"pushToFront",value:function(e,t,n,r,o,i){this[this.pushMethod](e,t,n,r,o,i),this.triggerProbeLines&&this.emit(f,{x:this.getProbeLine(0),y:this.getProbeLine(1),z:this.getProbeLine(2)})}},{key:"pushToFrontAsImage",value:function(e,t,n,r,o,i){var a=Math.floor(e*n),s=Math.floor(t*r),l=null;this.fgCanvas?this.fgCanvas.size(a,s):this.fgCanvas=new d["default"](a,s),l=this.fgCanvas.get2DContext(),l.drawImage(this.bgCanvas.el,0,0,e,t,0,0,a,s),l.beginPath(),l.moveTo(o*n,0),l.lineTo(o*n,s),l.moveTo(0,i*r),l.lineTo(a,i*r),l.strokeStyle="#ffffff",l.lineWidth=1,l.stroke();var u={url:this.fgCanvas.toDataURL(),type:this.renderMethod,builder:this};this.imageReady(u)}},{key:"pushToFrontAsBuffer",value:function(e,t,n,r,o,i){var a=Math.floor(e*n),s=Math.floor(t*r),l={canvas:this.bgCanvas.el,imageData:this.bgCanvas.el.getContext("2d").getImageData(0,0,e,t),area:[0,0,e,t],outputSize:[a,s],type:this.renderMethod,builder:this};this.broadcastCrossHair&&(l.crosshair=[o,i]),this.imageReady(l)}},{key:"renderXY",value:function(){var e=this,t=this.bgCanvas.get2DContext(),n=this.getYOffset(),r=this.probeXYZ,o=this.metadata.dimensions,i=this.metadata.spacing;this.getImage(this.probeXYZ[2],function(){var a=this;t.drawImage(a,0,o[1]*n,o[0],o[1],0,0,o[0],o[1]),e.extractNumericalValues(o[0],o[1]),e.applyLookupTable(o[0],o[1]),e.pushToFront(o[0],o[1],i[0],i[1],r[0],r[1])})}},{key:"renderZY",value:function(){function e(){var s=t.getYOffset(i),l=this;n.drawImage(l,r[0],o[1]*s,1,o[1],i,0,1,o[1]),i--?t.getImage(i,e):(t.extractNumericalValues(o[2],o[1]),t.applyLookupTable(o[2],o[1]),t.pushToFront(o[2],o[1],a[2],a[1],r[2],r[1]))}var t=this,n=this.bgCanvas.get2DContext(),r=(this.getYOffset(),this.probeXYZ),o=this.metadata.dimensions,i=o[2],a=this.metadata.spacing;i--&&t.getImage(i,e)}},{key:"renderXZ",value:function(){function e(){var s=t.getYOffset(a),l=this;n.drawImage(l,0,o[1]*s+r[1],o[0],1,0,a,o[0],1),a--?t.getImage(a,e):(t.extractNumericalValues(o[0],o[2]),t.applyLookupTable(o[0],o[2]),t.pushToFront(o[0],o[2],i[0],i[2],r[0],r[2]))}var t=this,n=this.bgCanvas.get2DContext(),r=(this.getYOffset(),this.probeXYZ),o=this.metadata.dimensions,i=this.metadata.spacing,a=o[2];a--&&t.getImage(a,e)}},{key:"isCrossHairEnabled",value:function(){return this.broadcastCrossHair}},{key:"setCrossHairEnable",value:function(e){this.broadcastCrossHair!==e&&(this.broadcastCrossHair=e,this.emit(g,e),this.setProbe(this.probeXYZ[0],this.probeXYZ[1],this.probeXYZ[2]))}},{key:"extractNumericalValues",value:function(e,t){for(var n=this.bgCanvas.get2DContext(),r=this.getField(),o=n.getImageData(0,0,e,t),i=o.data,a=i.length,s=0,l=this.metadata.ranges[r],u=l[1]-l[0],c=0,p=new Float32Array(e*t);a>s;){var d=(i[s]+256*i[s+1]+65536*i[s+2])/16777216*u+l[0];p[c++]=d,s+=4}this.scalars[r]=p}},{key:"applyLookupTable",value:function(e,t){var n=this.bgCanvas.get2DContext(),r=this.getField(),o=this.lookupTableManager.getLookupTable(r),i=n.getImageData(0,0,e,t),a=i.data,s=a.length,l=0,u=0,c=this.scalars[r];if(o){for(;s>l;){var p=o.getColor(c[u++]);a[l]=Math.floor(255*p[0]),a[l+1]=Math.floor(255*p[1]),a[l+2]=Math.floor(255*p[2]),l+=4}n.putImageData(i,0,0)}}},{key:"setField",value:function(e){this.queryDataModel.setValue("field",e)}},{key:"getField",value:function(){return this.queryDataModel.getValue("field")}},{key:"getFields",value:function(){return this.metadata.fields}},{key:"setRenderMethod",value:function(e){this.renderMethodMutable&&this.renderMethod!==e&&(this.renderMethod=e,this.render(),this.emit(m,e))}},{key:"getRenderMethod",value:function(){return this.renderMethod}},{key:"getRenderMethods",value:function(){return["XY","ZY","XZ"]}},{key:"isRenderMethodMutable",value:function(){return this.renderMethodMutable}},{key:"setRenderMethodImutable",value:function(){this.renderMethodMutable=!1}},{key:"setRenderMethodMutable",value:function(){this.renderMethodMutable=!0}},{key:"getListeners",value:function(){return this.mouseListener}},{key:"onProbeLineReady",value:function(e){return this.on(f,e)}},{key:"onProbeChange",value:function(e){return this.on(h,e)}},{key:"onRenderMethodChange",value:function(e){return this.on(m,e)}},{key:"onCrosshairVisibilityChange",value:function(e){return this.on(g,e)}},{key:"destroy",value:function(){l(Object.getPrototypeOf(t.prototype),"destroy",this).call(this),this.off(),this.bgCanvas=null,this.workImage=null}},{key:"getControlWidgets",value:function(){var e=this.getControlModels(),t=e.lookupTable,n=e.originalRange,r=e.lookupTableManager,o=e.queryDataModel,i=this;return[{name:"LookupTableManagerWidget",lookupTable:t,originalRange:n,lookupTableManager:r},{name:"ProbeControl",model:i},{name:"QueryDataModelWidget",queryDataModel:o}]}},{key:"getControlModels",value:function(){return{queryDataModel:this.queryDataModel,lookupTable:this.lookupTableManager.getLookupTable(this.getField()),originalRange:this.metadata.ranges[this.getField()],lookupTableManager:this.lookupTableManager}}}]),t}(c["default"]);t["default"]=b},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){for(var n in f)if((0,a["default"])(e,n))return new f[n](t);return console.error("No compositor found for type",e),null}Object.defineProperty(t,"__esModule",{value:!0});var i=n(16),a=r(i),s=n(173),l=r(s),u=n(174),c=r(u),p=n(172),d=r(p),f={rgbd:l["default"],"sxyz-light":c["default"],"raw-rgbd":d["default"]};t["default"]={createCompositor:o}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=function h(e,t,n){null===e&&(e=Function.prototype);var r=Object.getOwnPropertyDescriptor(e,t);if(void 0===r){var o=Object.getPrototypeOf(e);return null===o?void 0:h(o,t,n)}if("value"in r)return r.value;var i=r.get;if(void 0!==i)return i.call(n)};Object.defineProperty(t,"__esModule",{value:!0});var u=n(20),c=r(u),p=n(170),d=r(p),f=function(e){function t(e,n,r){o(this,t);var a=i(this,Object.getPrototypeOf(t).call(this,{queryDataModel:e,pipelineModel:n,dimensions:e.originalData.CompositePipeline.dimensions}));return a.compositor=d["default"].createCompositor(e.originalData.type,{queryDataModel:e,lookupTableManager:r,imageBuilder:a}),a.registerObjectToFree(a.compositor),a.query=null,a.setPipelineQuery(a.pipelineModel.getPipelineQuery()),a.registerSubscription(a.pipelineModel.onChange(function(e,t){a.setPipelineQuery(e)})),a}return a(t,e),s(t,[{key:"setPipelineQuery",value:function(e){this.query!==e&&(this.query=e,this.compositor.updateQuery(e),this.render())}},{key:"render",value:function(){this.query&&this.compositor.render()}},{key:"getControlWidgets",value:function(){return this.compositor.getControlWidgets?this.compositor.getControlWidgets():l(Object.getPrototypeOf(t.prototype),"getControlWidgets",this).call(this);
}},{key:"getControlModels",value:function(){return this.compositor.getControlModels?this.compositor.getControlModels():l(Object.getPrototypeOf(t.prototype),"getControlModels",this).call(this)}}]),t}(c["default"]);t["default"]=f},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();Object.defineProperty(t,"__esModule",{value:!0});var a=n(13),s=r(a),l=n(31),u=r(l),c=n(36),p=r(c),d=function(){function e(t){var r=this,i=t.queryDataModel,a=t.imageBuilder;return o(this,e),this.queryDataModel=i,this.imageBuilder=a,this.rgbdData=null,this.offsetList=[],this.spriteSize=(0,p["default"])(this.queryDataModel.originalData.CompositePipeline.offset),this.dataSubscription=i.onDataChange(function(e,t){r.rgbdData=e.rgbdSprite.data,r.render()}),this.width=this.queryDataModel.originalData.CompositePipeline.dimensions[0],this.height=this.queryDataModel.originalData.CompositePipeline.dimensions[1],this.glCanvas=new s["default"](this.width,this.height),this.gl=this.glCanvas.get3DContext(),this.gl?(this.gl.clearColor(1,1,1,0),this.glConfig={programs:{displayProgram:{vertexShader:n(9),fragmentShader:n(67),mapping:"default"},compositeProgram:{vertexShader:n(9),fragmentShader:n(100),mapping:"default"}},resources:{buffers:[{id:"texCoord",data:new Float32Array([0,0,1,0,0,1,0,1,1,0,1,1])},{id:"posCoord",data:new Float32Array([-1,-1,1,-1,-1,1,-1,1,1,-1,1,1])}],textures:[{id:"texture2D",pixelStore:[["UNPACK_FLIP_Y_WEBGL",!0]],texParameter:[["TEXTURE_MAG_FILTER","NEAREST"],["TEXTURE_MIN_FILTER","NEAREST"],["TEXTURE_WRAP_S","CLAMP_TO_EDGE"],["TEXTURE_WRAP_T","CLAMP_TO_EDGE"]]},{id:"ping",pixelStore:[["UNPACK_FLIP_Y_WEBGL",!0]],texParameter:[["TEXTURE_MAG_FILTER","NEAREST"],["TEXTURE_MIN_FILTER","NEAREST"],["TEXTURE_WRAP_S","CLAMP_TO_EDGE"],["TEXTURE_WRAP_T","CLAMP_TO_EDGE"]]},{id:"pong",pixelStore:[["UNPACK_FLIP_Y_WEBGL",!0]],texParameter:[["TEXTURE_MAG_FILTER","NEAREST"],["TEXTURE_MIN_FILTER","NEAREST"],["TEXTURE_WRAP_S","CLAMP_TO_EDGE"],["TEXTURE_WRAP_T","CLAMP_TO_EDGE"]]}],framebuffers:[{id:"ping",width:this.width,height:this.height},{id:"pong",width:this.width,height:this.height}]},mappings:{"default":[{id:"posCoord",name:"positionLocation",attribute:"a_position",format:[2,this.gl.FLOAT,!1,0,0]},{id:"texCoord",name:"texCoordLocation",attribute:"a_texCoord",format:[2,this.gl.FLOAT,!1,0,0]}]}},this.glResources=u["default"].createGLResources(this.gl,this.glConfig),void(this.pingPong=new u["default"].PingPong(this.gl,[this.glResources.framebuffers.ping,this.glResources.framebuffers.pong],[this.glResources.textures.ping,this.glResources.textures.pong]))):(console.error("Unable to get WebGl context"),null)}return i(e,[{key:"extractLayerData",value:function(e,t){var n=0,r=t,o=4*(r*this.width+n),i=this.width*this.height*4;return new Uint8Array(e,o,i)}},{key:"updateQuery",value:function(e){var t=this.queryDataModel.originalData.CompositePipeline.layers,n=t.length,r=this.queryDataModel.originalData.CompositePipeline.offset;this.offsetList=[];for(var o=0;n>o;o++){var i=e[2*o+1];"_"!==i&&this.offsetList.push(this.spriteSize-r[t[o]+i])}}},{key:"render",value:function(){var e=this;if(!this.rgbdData)return null;this.pingPong.clearFbo(),this.offsetList.forEach(function(t){e.drawCompositePass(e.extractLayerData(e.rgbdData,t*e.height))}),this.drawDisplayPass();var t={canvas:this.glCanvas.el,area:[0,0,this.width,this.height],outputSize:[this.width,this.height],builder:this.imageBuilder};this.imageBuilder.imageReady(t)}},{key:"destroy",value:function(){this.glCanvas.destroy(),this.glCanvas=null,this.dataSubscription.unsubscribe(),this.dataSubscription=null,this.glResources.destroy(),this.glResources=null,this.pingPong=null}},{key:"drawDisplayPass",value:function(){this.gl.bindFramebuffer(this.gl.FRAMEBUFFER,null),this.gl.useProgram(this.glResources.programs.displayProgram),this.gl.clear(this.gl.COLOR_BUFFER_BIT),this.gl.viewport(0,0,this.width,this.height);var e=this.gl.getUniformLocation(this.glResources.programs.displayProgram,"u_image");this.gl.uniform1i(e,0),this.gl.activeTexture(this.gl.TEXTURE0+0),this.gl.bindTexture(this.gl.TEXTURE_2D,this.pingPong.getRenderingTexture()),this.gl.drawArrays(this.gl.TRIANGLES,0,6),this.gl.finish()}},{key:"drawCompositePass",value:function(e){this.gl.bindFramebuffer(this.gl.FRAMEBUFFER,this.pingPong.getFramebuffer()),this.gl.useProgram(this.glResources.programs.compositeProgram),this.gl.viewport(0,0,this.width,this.height);var t=this.gl.getUniformLocation(this.glResources.programs.compositeProgram,"layerSampler");this.gl.uniform1i(t,0),this.gl.activeTexture(this.gl.TEXTURE0+0),this.gl.bindTexture(this.gl.TEXTURE_2D,this.glResources.textures.texture2D),this.gl.texImage2D(this.gl.TEXTURE_2D,0,this.gl.RGBA,this.width,this.height,0,this.gl.RGBA,this.gl.UNSIGNED_BYTE,e);var n=this.gl.getUniformLocation(this.glResources.programs.compositeProgram,"compositeSampler");this.gl.uniform1i(n,1),this.gl.activeTexture(this.gl.TEXTURE0+1),this.gl.bindTexture(this.gl.TEXTURE_2D,this.pingPong.getRenderingTexture()),this.gl.drawArrays(this.gl.TRIANGLES,0,6),this.gl.finish(),this.pingPong.swap()}}]),e}();t["default"]=d},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();Object.defineProperty(t,"__esModule",{value:!0});var a=n(13),s=r(a),l=n(36),u=r(l),c=n(31),p=r(c),d=function(){function e(t){var r=this,i=t.queryDataModel,a=t.imageBuilder;return o(this,e),this.queryDataModel=i,this.imageBuilder=a,this.rgbdSprite=null,this.offsetList=[],this.spriteSize=(0,u["default"])(this.queryDataModel.originalData.CompositePipeline.offset),this.removeLoadCallback=!1,this.closureRenderMethod=function(){r.render()},this.dataSubscription=i.onDataChange(function(e,t){r.rgbdSprite=e.rgbdSprite.image,r.rgbdSprite.complete?r.render():(r.removeLoadCallback=!0,r.rgbdSprite.addEventListener("load",r.closureRenderMethod))}),this.width=this.queryDataModel.originalData.CompositePipeline.dimensions[0],this.height=this.queryDataModel.originalData.CompositePipeline.dimensions[1],this.glCanvas=new s["default"](this.width,this.height),this.compositeCanvas=new s["default"](this.width,this.height),this.compositeCtx=this.compositeCanvas.get2DContext(),this.gl=this.glCanvas.get3DContext(),this.gl?(this.gl.clearColor(1,1,1,0),this.glConfig={programs:{displayProgram:{vertexShader:n(9),fragmentShader:n(67),mapping:"default"},compositeProgram:{vertexShader:n(9),fragmentShader:n(100),mapping:"default"}},resources:{buffers:[{id:"texCoord",data:new Float32Array([0,0,1,0,0,1,0,1,1,0,1,1])},{id:"posCoord",data:new Float32Array([-1,-1,1,-1,-1,1,-1,1,1,-1,1,1])}],textures:[{id:"texture2D",pixelStore:[["UNPACK_FLIP_Y_WEBGL",!0]],texParameter:[["TEXTURE_MAG_FILTER","NEAREST"],["TEXTURE_MIN_FILTER","NEAREST"],["TEXTURE_WRAP_S","CLAMP_TO_EDGE"],["TEXTURE_WRAP_T","CLAMP_TO_EDGE"]]},{id:"ping",pixelStore:[["UNPACK_FLIP_Y_WEBGL",!0]],texParameter:[["TEXTURE_MAG_FILTER","NEAREST"],["TEXTURE_MIN_FILTER","NEAREST"],["TEXTURE_WRAP_S","CLAMP_TO_EDGE"],["TEXTURE_WRAP_T","CLAMP_TO_EDGE"]]},{id:"pong",pixelStore:[["UNPACK_FLIP_Y_WEBGL",!0]],texParameter:[["TEXTURE_MAG_FILTER","NEAREST"],["TEXTURE_MIN_FILTER","NEAREST"],["TEXTURE_WRAP_S","CLAMP_TO_EDGE"],["TEXTURE_WRAP_T","CLAMP_TO_EDGE"]]}],framebuffers:[{id:"ping",width:this.width,height:this.height},{id:"pong",width:this.width,height:this.height}]},mappings:{"default":[{id:"posCoord",name:"positionLocation",attribute:"a_position",format:[2,this.gl.FLOAT,!1,0,0]},{id:"texCoord",name:"texCoordLocation",attribute:"a_texCoord",format:[2,this.gl.FLOAT,!1,0,0]}]}},this.glResources=p["default"].createGLResources(this.gl,this.glConfig),void(this.pingPong=new p["default"].PingPong(this.gl,[this.glResources.framebuffers.ping,this.glResources.framebuffers.pong],[this.glResources.textures.ping,this.glResources.textures.pong]))):(console.error("Unable to get WebGl context"),null)}return i(e,[{key:"updateQuery",value:function(e){var t=this.queryDataModel.originalData.CompositePipeline.layers,n=t.length,r=this.queryDataModel.originalData.CompositePipeline.offset;this.offsetList=[];for(var o=0;n>o;o++){var i=e[2*o+1];"_"!==i&&this.offsetList.push(this.spriteSize-r[t[o]+i])}}},{key:"render",value:function(){var e=this;if(!this.rgbdSprite||!this.rgbdSprite.complete)return null;this.removeLoadCallback&&(this.rgbdSprite.removeEventListener("load",this.closureRenderMethod),this.removeLoadCallback=!1),this.pingPong.clearFbo(),this.offsetList.forEach(function(t){var n=t*e.height;e.compositeCtx.clearRect(0,0,e.width,e.height),e.compositeCtx.drawImage(e.rgbdSprite,0,n,e.width,e.height,0,0,e.width,e.height),e.drawCompositePass()}),this.drawDisplayPass();var t={canvas:this.glCanvas.el,area:[0,0,this.width,this.height],outputSize:[this.width,this.height],builder:this.imageBuilder};this.imageBuilder.imageReady(t)}},{key:"destroy",value:function(){this.glCanvas.destroy(),this.glCanvas=null,this.dataSubscription.unsubscribe(),this.dataSubscription=null,this.glResources.destroy(),this.glResources=null,this.pingPong=null}},{key:"drawDisplayPass",value:function(){this.gl.bindFramebuffer(this.gl.FRAMEBUFFER,null),this.gl.useProgram(this.glResources.programs.displayProgram),this.gl.clear(this.gl.COLOR_BUFFER_BIT),this.gl.viewport(0,0,this.width,this.height);var e=this.gl.getUniformLocation(this.glResources.programs.displayProgram,"u_image");this.gl.uniform1i(e,0),this.gl.activeTexture(this.gl.TEXTURE0+0),this.gl.bindTexture(this.gl.TEXTURE_2D,this.pingPong.getRenderingTexture()),this.gl.drawArrays(this.gl.TRIANGLES,0,6),this.gl.finish()}},{key:"drawCompositePass",value:function(){this.gl.bindFramebuffer(this.gl.FRAMEBUFFER,this.pingPong.getFramebuffer()),this.gl.useProgram(this.glResources.programs.compositeProgram),this.gl.viewport(0,0,this.width,this.height);var e=this.gl.getUniformLocation(this.glResources.programs.compositeProgram,"layerSampler");this.gl.uniform1i(e,0),this.gl.activeTexture(this.gl.TEXTURE0+0),this.gl.bindTexture(this.gl.TEXTURE_2D,this.glResources.textures.texture2D),this.gl.texImage2D(this.gl.TEXTURE_2D,0,this.gl.RGBA,this.gl.RGBA,this.gl.UNSIGNED_BYTE,this.compositeCanvas.el);var t=this.gl.getUniformLocation(this.glResources.programs.compositeProgram,"compositeSampler");this.gl.uniform1i(t,1),this.gl.activeTexture(this.gl.TEXTURE0+1),this.gl.bindTexture(this.gl.TEXTURE_2D,this.pingPong.getRenderingTexture()),this.gl.drawArrays(this.gl.TRIANGLES,0,6),this.gl.finish(),this.pingPong.swap()}}]),e}();t["default"]=d},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){var n=parseFloat(e),r=parseFloat(t),o=(180-n)*Math.PI/180,i=(180-r)*Math.PI/180;return[Math.sin(i)*Math.cos(o),Math.sin(i)*Math.sin(o),Math.cos(i)]}function a(e,t){var n=i(e.getValue("phi"),e.getValue("theta")),r=g["default"].fromValues(n[0],n[1],n[2]),o=g["default"].fromValues(0,0,0),a=g["default"].fromValues(0,0,1),s=g["default"].create();g["default"].add(s,a,r),g["default"].normalize(s,s);var l=g["default"].create();g["default"].subtract(l,o,r);var u=g["default"].create();g["default"].subtract(u,s,r);var c=g["default"].create();g["default"].cross(c,l,u),g["default"].normalize(c,c),g["default"].subtract(l,c,r),g["default"].subtract(u,o,r);var p=g["default"].create();g["default"].cross(p,l,u),g["default"].normalize(p,p);var d=g["default"].create();g["default"].scale(d,c,t.x);var f=g["default"].create();g["default"].scale(f,p,t.y);var h=g["default"].create();g["default"].scale(h,r,.3);var m=g["default"].create();return g["default"].add(m,h,d),g["default"].add(m,m,f),g["default"].normalize(m,m),{lightDir:m,viewDir:r}}var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();Object.defineProperty(t,"__esModule",{value:!0});var l=n(13),u=r(l),c=n(36),p=r(c),d=n(49),f=r(d),h=n(295),g=r(h),m=n(113),v=r(m),b=n(31),y=r(b),_=[["TEXTURE_MAG_FILTER","NEAREST"],["TEXTURE_MIN_FILTER","NEAREST"],["TEXTURE_WRAP_S","CLAMP_TO_EDGE"],["TEXTURE_WRAP_T","CLAMP_TO_EDGE"]],x=[["UNPACK_FLIP_Y_WEBGL",!0]],E=function(){function e(t){var r=this,i=t.queryDataModel,a=t.imageBuilder,s=t.lookupTableManager;o(this,e),this.queryDataModel=i,this.imageBuilder=a,this.lookupTableManager=s,this.compositePipeline=this.queryDataModel.originalData.CompositePipeline,this.width=this.compositePipeline.dimensions[0],this.height=this.compositePipeline.dimensions[1],this.spriteSize=(0,p["default"])(this.compositePipeline.offset),this.offsetList=[],this.sxyzSprite=null,this.removeLoadCallback=!1,this.closureRenderMethod=function(){r.render()},this.doLighting=!0,this.dataSubscription=i.onDataChange(function(e,t){r.sxyzSprite=e.sxyzSprite.image,r.sxyzSprite.complete?r.render():(r.removeLoadCallback=!0,r.sxyzSprite.addEventListener("load",r.closureRenderMethod))}),this.lookupTableManager.addFields(this.compositePipeline.ranges,this.queryDataModel.originalData.LookupTables),this.numLutSamples=1024,this.lutMap={};for(var l in this.compositePipeline.ranges)this.lutMap[l]=new Uint8Array(4*this.numLutSamples),this.resampleLookupTable(l);return this.lookupTableManager.onChange(function(e,t){"__internal"!==e.lut.name&&r.resampleLookupTable(e.lut.name)}),this.bgColor=[1,1,1],this.lightingTextureNames=["nx","ny","nz","scalars"],this.lightingTextures={},this.lightProperties={lightTerms:{ka:.1,kd:.6,ks:.3,alpha:20},lightPosition:{x:-1,y:1},lightColor:[.8,.8,.8]},this.glCanvas=new u["default"](this.width,this.height),this.compositeCanvas=new u["default"](this.width,this.height),this.compositeCtx=this.compositeCanvas.get2DContext(),this.scalarCanvas=new u["default"](this.width,this.height),this.scalarCtx=this.scalarCanvas.get2DContext(),this.nxCanvas=new u["default"](this.width,this.height),this.nxCtx=this.nxCanvas.get2DContext(),this.nyCanvas=new u["default"](this.width,this.height),this.nyCtx=this.nyCanvas.get2DContext(),this.nzCanvas=new u["default"](this.width,this.height),this.nzCtx=this.nzCanvas.get2DContext(),this.gl=this.glCanvas.get3DContext(),this.gl?(this.gl.clearColor(1,1,1,0),this.glConfig={programs:{displayProgram:{vertexShader:n(9),fragmentShader:n(67),mapping:"default"},compositeLightProgram:{vertexShader:n(9),fragmentShader:n(245),mapping:"default"},compositeLutProgram:{vertexShader:n(9),fragmentShader:n(246),mapping:"default"},backgroundProgram:{vertexShader:n(9),fragmentShader:n(244),mapping:"default"}},resources:{buffers:[{id:"texCoord",data:new Float32Array([0,0,1,0,0,1,0,1,1,0,1,1])},{id:"posCoord",data:new Float32Array([-1,-1,1,-1,-1,1,-1,1,1,-1,1,1])}],textures:[{id:"scalars",pixelStore:x,texParameter:_},{id:"nx",pixelStore:x,texParameter:_},{id:"ny",pixelStore:x,texParameter:_},{id:"nz",pixelStore:x,texParameter:_},{id:"lutTexture",pixelStore:x,texParameter:_},{id:"ping",pixelStore:x,texParameter:_},{id:"pong",pixelStore:x,texParameter:_}],framebuffers:[{id:"ping",width:this.width,height:this.height},{id:"pong",width:this.width,height:this.height}]},mappings:{"default":[{id:"posCoord",name:"positionLocation",attribute:"a_position",format:[2,this.gl.FLOAT,!1,0,0]},{id:"texCoord",name:"texCoordLocation",attribute:"a_texCoord",format:[2,this.gl.FLOAT,!1,0,0]}]}},this.glResources=y["default"].createGLResources(this.gl,this.glConfig),void(this.pingPong=new y["default"].PingPong(this.gl,[this.glResources.framebuffers.ping,this.glResources.framebuffers.pong],[this.glResources.textures.ping,this.glResources.textures.pong]))):(console.error("Unable to get WebGl context"),null)}return s(e,[{key:"resampleLookupTable",value:function(e){for(var t=this.lookupTableManager.getLookupTable(e),n=this.compositePipeline.ranges[e],r=(n[1]-n[0])/this.numLutSamples,o=this.lutMap[e],i=0;i<this.numLutSamples;++i){var a=n[0]+i*r,s=4*i,l=t.getColor(a);o[s]=Math.round(255*l[0]),o[s+1]=Math.round(255*l[1]),o[s+2]=Math.round(255*l[2]),o[s+3]=1}this.render()}},{key:"updateQuery",value:function(e){var t=this.compositePipeline.layers,n=t.length,r=this.compositePipeline.offset,o=this.compositePipeline.color_by_dependencies;this.offsetList=[];for(var i=0;n>i;i++){var a=e[2*i+1];if("_"!==a&&o[a]){var s=o[a];if(s.normal){var l=s.normal[0],u=s.normal[1],c=s.normal[2];this.offsetList.push({fieldName:this.compositePipeline.fields[a],scalar:this.spriteSize-r[t[i]+a],nx:this.spriteSize-r[t[i]+l],ny:this.spriteSize-r[t[i]+u],nz:this.spriteSize-r[t[i]+c]})}}}}},{key:"render",value:function(){if(!this.sxyzSprite||!this.sxyzSprite.complete)return void console.log("Not enough data to render");this.removeLoadCallback&&(this.sxyzSprite.removeEventListener("load",this.closureRenderMethod),this.removeLoadCallback=!1),this.pingPong.clearFbo();var e=a(this.queryDataModel,this.lightProperties.lightPosition),t=e.lightDir,n=e.viewDir,r=0,o=0,i=this.width,s=this.height;this.compositeCtx.clearRect(0,0,i,s),this.compositeCtx.drawImage(this.sxyzSprite,0,this.spriteSize*s,i,s,0,0,i,s),this.drawBackgroundPass(this.bgColor);for(var l=0,u=this.offsetList.length;u>l;l+=1){var c=this.offsetList[l],p=c.fieldName;o=0,this.doLighting?(o=c.nx*s,this.nxCtx.clearRect(0,0,i,s),this.nxCtx.drawImage(this.sxyzSprite,r,o,i,s,0,0,i,s),o=c.ny*s,this.nyCtx.clearRect(0,0,i,s),this.nyCtx.drawImage(this.sxyzSprite,r,o,i,s,0,0,i,s),o=c.nz*s,this.nzCtx.clearRect(0,0,i,s),this.nzCtx.drawImage(this.sxyzSprite,r,o,i,s,0,0,i,s),o=c.scalar*s,this.scalarCtx.clearRect(0,0,i,s),this.scalarCtx.drawImage(this.sxyzSprite,r,o,i,s,0,0,i,s),this.drawLitCompositePass(n,t,this.lightProperties,this.lutMap[p])):(o=c.scalar*s,this.scalarCtx.clearRect(0,0,i,s),this.scalarCtx.drawImage(this.sxyzSprite,r,o,i,s,0,0,i,s),this.drawLutCompositePass(this.lutMap[p]))}this.drawDisplayPass();var d={canvas:this.glCanvas.el,area:[0,0,this.width,this.height],outputSize:[this.width,this.height],builder:this.imageBuilder};this.imageBuilder.imageReady(d)}},{key:"drawDisplayPass",value:function(){this.gl.bindFramebuffer(this.gl.FRAMEBUFFER,null),this.gl.useProgram(this.glResources.programs.displayProgram),this.gl.clear(this.gl.COLOR_BUFFER_BIT),this.gl.viewport(0,0,this.width,this.height);var e=this.gl.getUniformLocation(this.glResources.programs.displayProgram,"u_image");this.gl.uniform1i(e,0),this.gl.activeTexture(this.gl.TEXTURE0+0),this.gl.bindTexture(this.gl.TEXTURE_2D,this.pingPong.getRenderingTexture()),this.gl.drawArrays(this.gl.TRIANGLES,0,6),this.gl.finish(),this.gl.activeTexture(this.gl.TEXTURE0),this.gl.bindTexture(this.gl.TEXTURE_2D,null)}},{key:"drawBackgroundPass",value:function(e){this.gl.bindFramebuffer(this.gl.FRAMEBUFFER,this.pingPong.getFramebuffer()),this.gl.useProgram(this.glResources.programs.backgroundProgram),this.gl.viewport(0,0,this.width,this.height);var t=v["default"].fromValues(e[0],e[1],e[2],1),n=this.gl.getUniformLocation(this.glResources.programs.backgroundProgram,"backgroundColor");this.gl.uniform4fv(n,t);var r=this.gl.getUniformLocation(this.glResources.programs.backgroundProgram,"backgroundSampler");this.gl.uniform1i(r,0),this.gl.activeTexture(this.gl.TEXTURE0+0),this.gl.bindTexture(this.gl.TEXTURE_2D,this.pingPong.getRenderingTexture()),this.gl.texImage2D(this.gl.TEXTURE_2D,0,this.gl.RGBA,this.gl.RGBA,this.gl.UNSIGNED_BYTE,this.compositeCanvas.el),this.gl.drawArrays(this.gl.TRIANGLES,0,6),this.gl.finish(),this.pingPong.swap(),this.gl.activeTexture(this.gl.TEXTURE0),this.gl.bindTexture(this.gl.TEXTURE_2D,null)}},{key:"drawLitCompositePass",value:function(e,t,n,r){var o=n.lightTerms,i=n.lightColor;this.gl.bindFramebuffer(this.gl.FRAMEBUFFER,this.pingPong.getFramebuffer()),this.gl.useProgram(this.glResources.programs.compositeLightProgram),this.gl.viewport(0,0,this.width,this.height);var a=v["default"].fromValues(e[0],e[1],e[2],0),s=this.gl.getUniformLocation(this.glResources.programs.compositeLightProgram,"viewDir");this.gl.uniform4fv(s,a);var l=v["default"].fromValues(t[0],t[1],t[2],0),u=this.gl.getUniformLocation(this.glResources.programs.compositeLightProgram,"lightDir");this.gl.uniform4fv(u,l);var c=v["default"].fromValues(o.ka,o.kd,o.ks,o.alpha),p=this.gl.getUniformLocation(this.glResources.programs.compositeLightProgram,"lightTerms");this.gl.uniform4fv(p,c);var d=v["default"].fromValues(i[0],i[1],i[2],1),f=this.gl.getUniformLocation(this.glResources.programs.compositeLightProgram,"lightColor");this.gl.uniform4fv(f,d);var h=this.gl.getUniformLocation(this.glResources.programs.compositeLightProgram,"scalarSampler");this.gl.uniform1i(h,0),this.gl.activeTexture(this.gl.TEXTURE0+0),this.gl.bindTexture(this.gl.TEXTURE_2D,this.glResources.textures.scalars),this.gl.texImage2D(this.gl.TEXTURE_2D,0,this.gl.RGBA,this.gl.RGBA,this.gl.UNSIGNED_BYTE,this.scalarCanvas.el);var g=this.gl.getUniformLocation(this.glResources.programs.compositeLightProgram,"nxSampler");this.gl.uniform1i(g,1),this.gl.activeTexture(this.gl.TEXTURE0+1),this.gl.bindTexture(this.gl.TEXTURE_2D,this.glResources.textures.nx),this.gl.texImage2D(this.gl.TEXTURE_2D,0,this.gl.RGBA,this.gl.RGBA,this.gl.UNSIGNED_BYTE,this.nxCanvas.el);var m=this.gl.getUniformLocation(this.glResources.programs.compositeLightProgram,"nySampler");this.gl.uniform1i(m,2),this.gl.activeTexture(this.gl.TEXTURE0+2),this.gl.bindTexture(this.gl.TEXTURE_2D,this.glResources.textures.ny),this.gl.texImage2D(this.gl.TEXTURE_2D,0,this.gl.RGBA,this.gl.RGBA,this.gl.UNSIGNED_BYTE,this.nyCanvas.el);var b=this.gl.getUniformLocation(this.glResources.programs.compositeLightProgram,"nzSampler");this.gl.uniform1i(b,3),this.gl.activeTexture(this.gl.TEXTURE0+3),this.gl.bindTexture(this.gl.TEXTURE_2D,this.glResources.textures.nz),this.gl.texImage2D(this.gl.TEXTURE_2D,0,this.gl.RGBA,this.gl.RGBA,this.gl.UNSIGNED_BYTE,this.nzCanvas.el);var y=this.gl.getUniformLocation(this.glResources.programs.compositeLightProgram,"compositeSampler");this.gl.uniform1i(y,4),this.gl.activeTexture(this.gl.TEXTURE0+4),this.gl.bindTexture(this.gl.TEXTURE_2D,this.pingPong.getRenderingTexture());var _=this.gl.getUniformLocation(this.glResources.programs.compositeLightProgram,"lutSampler");this.gl.uniform1i(_,5),this.gl.activeTexture(this.gl.TEXTURE0+5),this.gl.bindTexture(this.gl.TEXTURE_2D,this.glResources.textures.lutTexture),this.gl.texImage2D(this.gl.TEXTURE_2D,0,this.gl.RGBA,this.numLutSamples,1,0,this.gl.RGBA,this.gl.UNSIGNED_BYTE,r),this.gl.drawArrays(this.gl.TRIANGLES,0,6),this.gl.finish(),this.pingPong.swap();for(var x=0;6>x;x+=1)this.gl.activeTexture(this.gl.TEXTURE0+x),this.gl.bindTexture(this.gl.TEXTURE_2D,null)}},{key:"drawLutCompositePass",value:function(e){this.gl.bindFramebuffer(this.gl.FRAMEBUFFER,this.pingPong.getFramebuffer()),this.gl.useProgram(this.glResources.programs.compositeLutProgram),this.gl.viewport(0,0,this.width,this.height);var t=this.gl.getUniformLocation(this.glResources.programs.compositeLutProgram,"scalarSampler");this.gl.uniform1i(t,0),this.gl.activeTexture(this.gl.TEXTURE0+0),this.gl.bindTexture(this.gl.TEXTURE_2D,this.glResources.textures.scalars),this.gl.texImage2D(this.gl.TEXTURE_2D,0,this.gl.RGBA,this.gl.RGBA,this.gl.UNSIGNED_BYTE,this.scalarCanvas.el);var n=this.gl.getUniformLocation(this.glResources.programs.compositeLutProgram,"compositeSampler");this.gl.uniform1i(n,1),this.gl.activeTexture(this.gl.TEXTURE0+1),this.gl.bindTexture(this.gl.TEXTURE_2D,this.pingPong.getRenderingTexture());var r=this.gl.getUniformLocation(this.glResources.programs.compositeLutProgram,"lutSampler");this.gl.uniform1i(r,2),this.gl.activeTexture(this.gl.TEXTURE0+2),this.gl.bindTexture(this.gl.TEXTURE_2D,this.glResources.textures.lutTexture),this.gl.texImage2D(this.gl.TEXTURE_2D,0,this.gl.RGBA,this.numLutSamples,1,0,this.gl.RGBA,this.gl.UNSIGNED_BYTE,e),this.gl.drawArrays(this.gl.TRIANGLES,0,6),this.gl.finish(),this.pingPong.swap();for(var o=0;3>o;o+=1)this.gl.activeTexture(this.gl.TEXTURE0+o),this.gl.bindTexture(this.gl.TEXTURE_2D,null)}},{key:"getControlWidgets",value:function(){return[{name:"LookupTableManagerWidget",lookupTableManager:this.lookupTableManager},{name:"LightPropertiesWidget",light:this},{name:"CompositeControl",pipelineModel:this.imageBuilder.pipelineModel},{name:"QueryDataModelWidget",queryDataModel:this.queryDataModel}]}},{key:"getLightingEnabled",value:function(){return this.doLighting}},{key:"setLightingEnabled",value:function(e){this.doLighting=e,this.render()}},{key:"getLightProperties",value:function(){return this.lightProperties}},{key:"setLightProperties",value:function(e){this.lightProperties=(0,f["default"])(this.lightProperties,e),this.render()}},{key:"getControlModels",value:function(){return{lookupTableManager:this.lookupTableManager,light:this,pipelineModel:this.imageBuilder.pipelineModel,queryDataModel:this.queryDataModel,dimensions:[this.width,this.height]}}},{key:"destroy",value:function(){this.dataSubscription.unsubscribe(),this.dataSubscription=null,this.glResources.destroy(),this.glResources=null,this.pingPong=null}}]),e}();t["default"]=E},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=function _(e,t,n){null===e&&(e=Function.prototype);var r=Object.getOwnPropertyDescriptor(e,t);if(void 0===r){var o=Object.getPrototypeOf(e);return null===o?void 0:_(o,t,n)}if("value"in r)return r.value;var i=r.get;if(void 0!==i)return i.call(n)};Object.defineProperty(t,"__esModule",{value:!0});var u=n(20),c=r(u),p=n(13),d=r(p),f=n(16),h=r(f),g=n(73),m=r(g),v="probe-change",b="time-data-ready",y=function(e){function t(e,n){o(this,t);var r=i(this,Object.getPrototypeOf(t).call(this,{queryDataModel:e,lookupTableManager:n,handleRecord:!0,dimensions:e.originalData.FloatImage.dimensions}));return r.timeDataQueryDataModel=e.clone(),r.registerObjectToFree(r.timeDataQueryDataModel),r.light=200,r.meshColor=[50,50,50],r.timeData={data:[],pending:!1},r.metadata=e.originalData.FloatImage,r.layers=r.metadata.layers,r.dimensions=r.metadata.dimensions,r.timeProbe={x:r.dimensions[0]/2,y:r.dimensions[1]/2,query:r.timeDataQueryDataModel.getQuery(),enabled:!1,draw:!0,pending:!1,forceUpdate:!1,tIdx:r.queryDataModel.getIndex("time")||0,updateValue:function(){r.timeProbe.value=r.timeProbe.dataValues?r.timeProbe.dataValues[r.timeProbe.tIdx]:r.timeProbe.pending?"Fetching...":""},triggerChange:function(){r.timeProbe.forceUpdate=!1,r.timeProbe.updateValue(),r.emit(v,r.timeProbe)}},r.bgCanvas=new d["default"](r.dimensions[0],r.dimensions[1]),r.registerObjectToFree(r.bgCanvas),r.lookupTableManager.addFields(r.metadata.ranges,r.queryDataModel.originalData.LookupTables),r.registerSubscription(e.onStateChange(function(){r.timeProbe.tIdx!==r.queryDataModel.getIndex("time")?(r.timeProbe.tIdx=r.queryDataModel.getIndex("time"),r.timeProbe.triggerChange()):r.render(),r.update()})),r.registerSubscription(e.on("pipeline_data",function(e,t){r.layers.forEach(function(t){var n=t.name+"_"+t.array,r=t.name+"__light",o=t.name+"__mesh";t.active&&e[n]&&(t.data=new window[t.type](e[n].data),t.light=new Uint8Array(e[r].data),e[o]&&(t.mesh=new Uint8Array(e[o].data)))}),r.render()})),r.registerSubscription(r.lookupTableManager.onChange(function(e,t){r.render()})),r.registerSubscription(r.timeDataQueryDataModel.on("pipeline_data",function(e,t){if(r.timeData.data.push(e),r.timeData.data.length<r.timeDataQueryDataModel.getSize("time")){r.timeDataQueryDataModel.next("time"),r.timeData.pending=!0,r.timeProbe.pending=!0;var n=r.getCategories();r.timeDataQueryDataModel.fetchData({name:"pipeline_data",categories:n})}else r.timeData.pending=!1,r.timeProbe.pending=!1,r.timeProbe.enabled&&r.getTimeChart(),r.timeProbe.triggerChange()})),r}return a(t,e),s(t,[{key:"getCategories",value:function(){var e=[];return this.layers.forEach(function(t){t.active&&(e.push([t.name,t.array].join("_")),e.push(t.name+"__light"),t.hasMesh&&t.meshActive&&e.push(t.name+"__mesh"))}),e}},{key:"update",value:function(){var e=this.getCategories();this.queryDataModel.fetchData({name:"pipeline_data",categories:e})}},{key:"fetchTimeData",value:function(){var e=this.getCategories(),t=this.queryDataModel.getQuery();if(!this.timeData.pending&&this.timeDataQueryDataModel.getValues("time")){this.timeData.pending=!0,this.timeProbe.pending=!0,this.timeProbe.triggerChange(),this.timeData.data=[],this.timeProbe.query=t;for(var n in t)this.timeDataQueryDataModel.setValue(n,t[n]);this.timeDataQueryDataModel.first("time"),this.timeDataQueryDataModel.fetchData({name:"pipeline_data",categories:e})}}},{key:"getTimeChart",value:function(e,t){var n=!this.timeProbe.enabled||this.timeProbe.forceUpdate;this.timeProbe.enabled=!0,void 0===e&&void 0===t?(e=this.timeProbe.x,t=this.timeProbe.y):(n=n||this.timeProbe.x!==e||this.timeProbe.y!==t,this.timeProbe.x=e,this.timeProbe.y=t);var r=this.queryDataModel.getQuery(),o=this.timeProbe.query;if(o.time=r.time,0===this.timeData.data.length||!(0,m["default"])(r,o))return void this.fetchTimeData();var i=this.dimensions[0],a=this.dimensions[1],s=(a-t-1)*i+e,l="",u=null,c=null;if(this.layers.forEach(function(e){e.active&&!isNaN(e.data[s])&&(l=e.type,u=e.array,c=e.name)}),c&&this.timeProbe.layer!==c&&u&&this.timeProbe.field!==u)return this.timeProbe.layer=c,this.timeProbe.field=u,void(this.timeProbe.layer&&this.timeProbe.field&&this.fetchTimeData());var p=this.timeDataQueryDataModel.getValues("time"),d=[],f={xRange:[Number(p[0]),Number(p[p.length-1])],fields:[{name:u,data:d}]},h=this.timeData.data.length;if(u&&this.lookupTableManager.getLookupTable(u)&&(f.fields[0].range=this.lookupTableManager.getLookupTable(u).getScalarRange()),this.timeProbe.dataValues=d,this.timeProbe.tIdx=this.queryDataModel.getIndex("time"),c&&u&&this.timeData.data[0][c+"_"+u])for(var g=0;h>g;g++){var v=new window[l](this.timeData.data[g][c+"_"+u].data);d.push(v[s])}else c&&u&&!this.timeData.data[0][c+"_"+u]&&this.fetchTimeData();this.emit(b,f),n&&this.timeProbe.triggerChange(),this.render()}},{key:"render",value:function(){function e(e){var t=e%r,n=Math.floor(e/r);return(o-n-1)*r+t}var t=this,n=this.bgCanvas.get2DContext(),r=this.dimensions[0],o=this.dimensions[1],i=r*o,a=n.createImageData(r,o),s=a.data;n.clearRect(0,0,r,o),this.layers.forEach(function(n){if(n.active)for(var r=t.lookupTableManager.getLookupTable(n.array),o=0;i>o;o++){var a=e(o),l=r.getColor(n.data[a]),u=n.light&&n.light[a]?n.light[a]-t.light:0;l[3]&&(s[4*o]=255*l[0]+u,s[4*o+1]=255*l[1]+u,s[4*o+2]=255*l[2]+u,s[4*o+3]=255*l[3],n.hasMesh&&n.meshActive&&n.mesh&&n.mesh[a]&&(s[4*o]=t.meshColor[0],s[4*o+1]=t.meshColor[1],s[4*o+2]=t.meshColor[2]))}}),n.putImageData(a,0,0);var l=this.queryDataModel.getQuery();if(this.timeProbe.query.time=l.time,
this.timeProbe.draw=(0,m["default"])(this.timeProbe.query,l),this.timeProbe.enabled&&this.timeProbe.draw){var u=this.timeProbe.x,c=this.timeProbe.y,p=10;n.beginPath(),n.moveTo(u-p,c),n.lineTo(u+p,c),n.moveTo(u,c-p),n.lineTo(u,c+p),n.lineWidth=4,n.strokeStyle="#ffffff",n.stroke(),n.lineWidth=2,n.strokeStyle="#000000",n.stroke()}var d={canvas:this.bgCanvas.el,area:[0,0,r,o],outputSize:[r,o],builder:this,arguments:this.queryDataModel.getQuery()};this.imageReady(d)}},{key:"onTimeDataReady",value:function(e){return this.on(b,e)}},{key:"onProbeChange",value:function(e){return this.on(v,e)}},{key:"destroy",value:function(){l(Object.getPrototypeOf(t.prototype),"destroy",this).call(this),this.off(),this.bgCanvas=null,this.dimensions=null,this.layers=null,this.light=null,this.meshColor=null,this.metadata=null,this.timeData=null,this.timeDataQueryDataModel=null,this.timeProbe=null}},{key:"getControlWidgets",value:function(){var e=this,t=this.getControlModels(),n=t.lookupTableManager,r=t.queryDataModel;return[{name:"LookupTableManagerWidget",lookupTableManager:n},{name:"FloatImageControl",model:e},{name:"QueryDataModelWidget",queryDataModel:r}]}},{key:"getControlModels",value:function(){return{lookupTableManager:this.lookupTableManager,queryDataModel:this.queryDataModel}}},{key:"isMultiView",value:function(){return!(0,h["default"])(this.queryDataModel.originalData.type,"single-view")}},{key:"getLayers",value:function(){return this.layers}},{key:"setLight",value:function(e){this.light!==e&&(this.light=e,this.render())}},{key:"getLight",value:function(){return this.light}},{key:"getTimeProbe",value:function(){return this.timeProbe}},{key:"setMeshColor",value:function(e,t,n){this.meshColor[0]!==e&&this.meshColor[1]!==t&&this.meshColor[2]!==n&&(this.meshColor=[e,t,n],this.update())}},{key:"getMeshColor",value:function(){return this.meshColor}},{key:"updateLayerVisibility",value:function(e,t){for(var n=this.layers,r=n.length;r--;)if(n[r].name===e)return n[r].active=t,this.update(),void(this.timeProbe.enabled&&(this.timeProbe.forceUpdate=!0,this.getTimeChart()))}},{key:"updateMaskLayerVisibility",value:function(e,t){for(var n=this.layers,r=n.length;r--;)if(n[r].name===e)return n[r].meshActive=t,this.update()}},{key:"updateLayerColorBy",value:function(e,t){for(var n=this.layers,r=n.length;r--;)if(n[r].name===e)return n[r].array=t,this.update(),void(this.timeProbe.enabled&&this.getTimeChart())}}]),t}(c["default"]);t["default"]=y},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();Object.defineProperty(t,"__esModule",{value:!0});var a=n(13),s=r(a),l=n(11),u=r(l),c=n(122),p=r(c),d="image-ready",f="model-change",h=function(){function e(t,n){var r=arguments.length<=2||void 0===arguments[2]?"#ff0000":arguments[2],i=arguments.length<=3||void 0===arguments[3]?20:arguments[3],a=this,l=arguments.length<=4||void 0===arguments[4]?.5:arguments[4],u=arguments.length<=5||void 0===arguments[5]?2:arguments[5];o(this,e),this.frontImageBuilder=t,this.backImageBuilder=n,this.frontEvent=null,this.backEvent=null,this.queryDataModel=this.frontImageBuilder.queryDataModel,this.frontSubscription=this.frontImageBuilder.onImageReady(function(e,t){a.frontEvent=e,a.draw()}),this.backSubscription=this.backImageBuilder.onImageReady(function(e,t){a.backEvent=e,a.draw()});var c=t.getControlModels(),d=c.dimensions;this.width=d[0],this.height=d[1],this.frontActive=!0,this.minZoom=i,this.maxZoom=Math.min(this.width,this.height)*l,this.lineWidth=u,this.lensColor=r,this.lensCenterX=this.width/2,this.lensCenterY=this.height/2,this.lensOriginalCenterX=this.lensCenterX,this.lensOriginalCenterY=this.lensCenterY,this.lensDragDX=0,this.lensDragDY=0,this.lensRadius=Math.floor(Math.min(this.width,this.height)/5),this.lensOriginalRadius=this.lensRadius,this.lastDragTime=(0,p["default"])(),this.lastZoomTime=(0,p["default"])(),this.newMouseTimeout=250,this.lensDrag=!1,this.listenerDrag=!1,this.lensZoom=!1,this.listenerZoom=!1,this.bgCanvas=new s["default"](this.width,this.height),this.listener={drag:function(e,t){var n=(0,p["default"])(),r=a.lastDragTime+a.newMouseTimeout<n,o=!1,i=e.activeArea,s=(e.relative.x-i[0])/i[2],l=(e.relative.y-i[1])/i[3];s=0>s?0:s>1?1:s,l=0>l?0:l>1?1:l;var u=Math.floor(s*a.width),c=Math.floor(l*a.height),d=Math.pow(u-a.lensCenterX,2)+Math.pow(c-a.lensCenterY,2);r&&(a.lensZoom=!1,a.listenerZoom=!1,a.lensDrag=!1,a.listenerDrag=!1,a.lensOriginalCenterX=a.lensCenterX,a.lensOriginalCenterY=a.lensCenterY,a.lensDragDX=u-a.lensCenterX,a.lensDragDY=c-a.lensCenterY),(a.lensDrag||d<Math.pow(a.lensRadius,2))&&0===e.modifier&&!a.listenerDrag&&(o=!0,a.lensDrag=!0,a.lensCenterX=u-a.lensDragDX,a.lensCenterY=c-a.lensDragDY,a.lensCenterX=Math.max(a.lensCenterX,a.lensRadius),a.lensCenterY=Math.max(a.lensCenterY,a.lensRadius),a.lensCenterX=Math.min(a.lensCenterX,a.width-a.lensRadius),a.lensCenterY=Math.min(a.lensCenterY,a.height-a.lensRadius),a.draw());var f=a.frontImageBuilder.getListeners();return!o&&f&&f.drag&&(a.listenerDrag=!0,o=f.drag(e,t)),a.lastDragTime=n,o},zoom:function f(e,t){var n=(0,p["default"])(),r=a.lastZoomTime+a.newMouseTimeout<n,o=!1,i=e.activeArea,s=(e.relative.x-i[0])/i[2],l=(e.relative.y-i[1])/i[3];r&&(a.lensZoom=!1,a.listenerZoom=!1,a.lensDrag=!1,a.listenerDrag=!1),s=0>s?0:s>1?1:s,l=0>l?0:l>1?1:l;var u=Math.floor(s*a.width),c=Math.floor(l*a.height),d=Math.pow(u-a.lensCenterX,2)+Math.pow(c-a.lensCenterY,2);if((a.lensZoom||d<Math.pow(a.lensRadius,2))&&0===e.modifier&&!a.listenerZoom){o=!0,a.lensZoom=!0,e.isFirst&&(a.lensOriginalRadius=a.lensRadius);var f=a.lensOriginalRadius*e.scale;f<a.minZoom&&(f=a.minZoom),f>a.maxZoom&&(f=a.maxZoom),a.lensRadius!==f&&(a.lensRadius=f,a.draw()),e.isFinal&&(a.lensOriginalRadius=a.lensRadius)}var h=a.frontImageBuilder.getListeners();return!o&&h&&h.zoom&&(a.listenerZoom=!0,o=h.zoom(e,t)),a.lastZoomTime=n,o},click:function(e,t){return a.lensDrag=!1,a.listenerDrag=!1,a.lensZoom=!1,a.listenerZoom=!1,!1}}}return i(e,[{key:"draw",value:function(){if(this.frontEvent&&this.backEvent){var e=this.bgCanvas.get2DContext();e.clearRect(0,0,this.width,this.height),e.drawImage(this.backEvent.canvas,this.backEvent.area[0],this.backEvent.area[1],this.backEvent.area[2],this.backEvent.area[3],0,0,this.width,this.height),e.save(),e.beginPath(),e.arc(this.lensCenterX,this.lensCenterY,this.lensRadius,0,2*Math.PI),e.clip(),e.clearRect(0,0,this.width,this.height),e.drawImage(this.frontEvent.canvas,this.frontEvent.area[0],this.frontEvent.area[1],this.frontEvent.area[2],this.frontEvent.area[3],0,0,this.width,this.height),e.restore(),e.beginPath(),e.lineWidth=this.lineWidth,e.strokeStyle=this.lensColor,e.arc(this.lensCenterX,this.lensCenterY,this.lensRadius,0,2*Math.PI),e.closePath(),e.stroke();var t={canvas:this.bgCanvas.el,area:[0,0,this.width,this.height],outputSize:[this.width,this.height],builder:this,arguments:this.frontEvent.arguments};this.emit(d,t)}}},{key:"update",value:function(){this.frontImageBuilder.update(),this.backImageBuilder.update()}},{key:"render",value:function(){this.frontImageBuilder.render(),this.backImageBuilder.render()}},{key:"onImageReady",value:function(e){return this.on(d,e)}},{key:"onModelChange",value:function(e){return this.on(f,e)}},{key:"getListeners",value:function(){return this.listener}},{key:"destroy",value:function(){this.off(),this.listener=null,this.frontSubscription.unsubscribe(),this.frontSubscription=null,this.backSubscription.unsubscribe(),this.backSubscription=null,this.frontImageBuilder.destroy(),this.backImageBuilder.destroy()}},{key:"getActiveImageBuilder",value:function(){return this.frontActive?this.frontImageBuilder:this.backImageBuilder}},{key:"isFront",value:function(){return this.frontActive}},{key:"toggleLens",value:function(){this.frontActive=!this.frontActive,this.emit(f)}}]),e}();t["default"]=h,u["default"].mixInto(h)},function(e,t){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){return function(n){return e.getColor(t)}}function o(e,t,n,r){return function(o){var i=t[n][r][o];return e.getColor(i)}}var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();Object.defineProperty(t,"__esModule",{value:!0});var a="ABCDEFGHIJKLMNOPQRSTUVWXYZ",s=function(){function e(t,i,s){n(this,e),this.nbLayers=t.length,this.fieldCodes=i,this.lookupTableManager=s,this.layerFloatData={},this.layerVisible={},this.layerAlpha={},this.layerColorBy={},this.layerGetColor={},this.categories=[];for(var l=0;l<this.nbLayers;l++){this.layerFloatData[a[l]]={},this.layerVisible[a[l]]=1,this.layerAlpha[a[l]]=1,this.layerGetColor[a[l]]={};for(var u=t[l].colorBy,c=u.length;c--;){var p=u[c],d=a[l],f=p.name,h=this.lookupTableManager.getLookupTable(p.name);"const"===p.type?this.layerGetColor[d][f]=r(h,p.value):"field"===p.type&&(this.layerGetColor[d][f]=o(h,this.layerFloatData,d,f))}}}return i(e,[{key:"updateData",value:function(e){for(var t in e)if(-1!==t.indexOf("_")){var n=t.split("_"),r=a[Number(n.shift())],o=n.join("_");this.layerFloatData[r][o]=new Float32Array(e[t].data)}}},{key:"updatePipeline",value:function(e){this.categories=[];for(var t=0;t<this.nbLayers;t++){var n=a[t],r=e[2*t+1];"_"===r?this.layerVisible[n]=0:(this.layerVisible[n]=1,this.layerColorBy[n]=this.fieldCodes[r],this.categories.push([t,this.fieldCodes[r]].join("_")))}}},{key:"updateAlphas",value:function(e){for(var t=0;t<this.nbLayers;t++)this.layerAlpha[a[t]]=e[t]}},{key:"hasNoContent",value:function(e){var t=a[e],n=this.layerAlpha[t]*this.layerVisible[t];return 0===n}},{key:"getColor",value:function(e,t){var n=a[e],r=this.layerGetColor[n][this.layerColorBy[n]](t),o=this.layerAlpha[n]*this.layerVisible[n];return[255*r[0],255*r[1],255*r[2],r[3]*o]}},{key:"getCategories",value:function(){return this.categories}},{key:"getLayerColorByName",value:function(e){return this.layerColorBy[a[e]]}},{key:"getLayerVisible",value:function(e){return this.layerVisible[a[e]]}},{key:"getLayerLut",value:function(e){return this.lookupTableManager.getLookupTable(this.layerColorBy[a[e]])}},{key:"getLayerFloatData",value:function(e){var t=a[e];return this.layerFloatData[t][this.layerColorBy[t]]}},{key:"getLayerAlpha",value:function(e){return this.layerAlpha[a[e]]}}]),e}();t["default"]=s},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t,n,r){this.queryDataModel=e,this.imageBuilder=t,this.metadata=this.queryDataModel.originalData.SortedComposite,this.orderData=null,this.intensityData=null,this.colorHelper=n,this.numLayers=this.metadata.layers,this.reverseCompositePass=r,this.width=this.metadata.dimensions[0],this.height=this.metadata.dimensions[1],this.bgCanvas=new a["default"](this.width,this.height),this.imageBuffer=this.bgCanvas.get2DContext().createImageData(this.width,this.height)}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=o;var i=n(13),a=r(i),s=n(42),l=r(s);o.prototype.updateData=function(e){this.orderData=new Uint8Array(e.order.data),e.intensity?this.intensityData=new Uint8Array(e.intensity.data):this.intensityData=null},o.prototype.render=function(){var e=this;if(!this.orderData)return null;var t=this.width*this.height,n=this.imageBuffer.data,r=this.height,o=this.width,i=this.bgCanvas.get2DContext();if(n.fill)n.fill(0);else for(var a=o*r*4;a--;)n[a]=0;(0,l["default"])(!!this.reverseCompositePass,this.numLayers,function(i){for(var a=0;a<e.height;a++)for(var s=0;s<e.width;s++){var l=e.width*a+s,u=(r-a-1)*o+s,c=e.orderData[i*t+l],p=1;if(255!==c&&!e.colorHelper.hasNoContent(c)){e.intensityData&&(p=e.intensityData[i*t+l]/255);var d=n[4*u+3]/255,f=1-d,h=[n[4*u],n[4*u+1],n[4*u+2]],g=e.colorHelper.getColor(c,l),m=g[3]/255,v=[g[0]*p*m*f,g[1]*p*m*f,g[2]*p*m*f],b=d+m*(1-d);m>0?(n[4*u]=(h[0]*d+v[0])/b,n[4*u+1]=(h[1]*d+v[1])/b,n[4*u+2]=(h[2]*d+v[2])/b,n[4*u+3]=255*b):console.log("no alpha while skip should have worked",g[3])}}}),i.putImageData(this.imageBuffer,0,0);var s={canvas:this.bgCanvas.el,area:[0,0,this.width,this.height],outputSize:[this.width,this.height],builder:this.imageBuilder,arguments:this.queryDataModel.getQuery()};this.imageBuilder.imageReady(s)},o.prototype.destroy=function(){this.bgCanvas.destroy(),this.bgCanvas=null,this.queryDataModel=null,this.imageBuilder=null},o.prototype.getLightProperties=function(){return{}},o.prototype.setLightProperties=function(e){}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t,r,o){if(this.queryDataModel=e,this.imageBuilder=t,this.metadata=this.queryDataModel.originalData.SortedComposite,this.colorHelper=r,this.orderData=null,this.intensityData=null,this.numLayers=this.metadata.layers,this.reverseCompositePass=o,this.defaultIntensityData=new Uint8Array([255]),this.intensitySize=[1,1],this.hasIntensity=!1,this.hasNormal=!1,this.defaultLayerBufferView=new Float32Array([0]),this.layerBufferViewSize=[1,1],this.width=this.metadata.dimensions[0],this.height=this.metadata.dimensions[1],this.lightProperties={lightTerms:{ka:.1,kd:.6,ks:.3,alpha:20},lightPosition:{x:-1,y:1},lightColor:[.8,.8,.8]},this.glCanvas=new a["default"](this.width,this.height),this.gl=this.glCanvas.get3DContext(),!this.gl)return console.error("Unable to get WebGl context"),null;this.gl.clearColor(1,1,1,0);var i=this.gl.getParameter(this.gl.MAX_TEXTURE_IMAGE_UNITS),s=(i-2)/2;this.shaderLayers=s<this.numLayers?s:this.numLayers,this.lutData=[];for(var l=0;l<this.shaderLayers;++l)this.lutData.push(new Uint8Array(1024));this.glConfig={programs:{displayProgram:{vertexShader:n(9),fragmentShader:n(102),mapping:"default"},colorProgram:{vertexShader:n(9),fragmentShader:g["default"].TransformShader(n(247),{SIMULTANEOUS_LAYERS:this.shaderLayers},{inlineLoops:!0}),mapping:"default"},lightColorProgram:{vertexShader:n(9),fragmentShader:g["default"].TransformShader(n(248),{SIMULTANEOUS_LAYERS:this.shaderLayers},{inlineLoops:!0}),mapping:"default"},blendProgram:{vertexShader:n(9),fragmentShader:n(101),mapping:"default"}},resources:{buffers:[{id:"texCoord",data:new Float32Array([0,0,1,0,0,1,0,1,1,0,1,1])},{id:"posCoord",data:new Float32Array([-1,-1,1,-1,-1,1,-1,1,1,-1,1,1])}],textures:[{id:"orderTexture",pixelStore:b,texParameter:m},{id:"intensityTexture",pixelStore:b,texParameter:m},{id:"ping",pixelStore:v,texParameter:m},{id:"pong",pixelStore:v,texParameter:m},{id:"colorRenderTexture",pixelStore:v,texParameter:m}],framebuffers:[{id:"ping",width:this.width,height:this.height},{id:"pong",width:this.width,height:this.height},{id:"colorFbo",width:this.width,height:this.height}]},mappings:{"default":[{id:"posCoord",name:"positionLocation",attribute:"a_position",format:[2,this.gl.FLOAT,!1,0,0]},{id:"texCoord",name:"texCoordLocation",attribute:"a_texCoord",format:[2,this.gl.FLOAT,!1,0,0]}]}};for(var l=0;l<this.shaderLayers;++l)this.glConfig.resources.textures.push({id:"layerColorSampler_"+l,pixelStore:b,texParameter:m}),this.glConfig.resources.textures.push({id:"lutSampler_"+l,pixelStore:[["UNPACK_ALIGNMENT",1]],texParameter:m});this.glResources=g["default"].createGLResources(this.gl,this.glConfig),this.gl.disable(this.gl.DEPTH_TEST),this.gl.disable(this.gl.BLEND);var u=this.gl.getExtension("OES_texture_float");null===u&&console.err("Your browser does not support the WebGL Extension 'OES_texture_float', this compositor will not work!"),g["default"].bindTextureToFramebuffer(this.gl,this.glResources.framebuffers.colorFbo,this.glResources.textures.colorRenderTexture),this.pingPong=new g["default"].PingPong(this.gl,[this.glResources.framebuffers.ping,this.glResources.framebuffers.pong],[this.glResources.textures.ping,this.glResources.textures.pong])}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=o;var i=n(13),a=r(i),s=n(42),l=r(s),u=n(49),c=r(u),p=n(294),d=(r(p),n(113)),f=r(d),h=n(31),g=r(h),m=[["TEXTURE_MAG_FILTER","NEAREST"],["TEXTURE_MIN_FILTER","NEAREST"],["TEXTURE_WRAP_S","CLAMP_TO_EDGE"],["TEXTURE_WRAP_T","CLAMP_TO_EDGE"]],v=[["UNPACK_FLIP_Y_WEBGL",!0]],b=[["UNPACK_FLIP_Y_WEBGL",!0],["UNPACK_ALIGNMENT",1]],y=new Float32Array([0]);o.prototype.updateData=function(e){this.orderData=e.order.data,e.intensity?(this.intensitySize=[this.width,this.height],this.intensityData=e.intensity.data,this.hasIntensity=!0):(this.intensitySize=[1,1],this.intensityData=this.defaultIntensityData,this.hasIntensity=!1),e.normal?(this.normalData=e.normal.data,this.hasNormal=!0):(this.normalData=null,this.hasNormal=!1)},o.prototype.extractLayerData=function(e,t,n){var r=t*this.width*this.height*n,o=this.width*this.height*n;return new Uint8Array(e,r,o)},o.prototype.getAndUseCurrentColorProgram=function(){var e=this.glResources.programs.colorProgram;return this.hasNormal&&(e=this.glResources.programs.lightColorProgram),this.gl.useProgram(e),e},o.prototype.uploadLayerTextures=function(e,t){for(var n=[],r=[],o=2,i=[],a=[],s=[],l=[],u=0,c=e;t>=c;++c){var p=this.colorHelper.getLayerLut(c),d=this.colorHelper.getLayerColorByName(c),f=this.metadata.ranges[d];if(this.colorHelper.getLayerVisible(c)){var h=this.colorHelper.getLayerFloatData(c);h?(a.push(h),i.push([this.width,this.height])):(a.push(new Float32Array([this.findLayerConstantValue(c)])),i.push([1,1])),s.push(f[0]),s.push(f[1])}else a.push(y),i.push([1,1]),s.push(-1),s.push(-1);l.push(this.colorHelper.getLayerAlpha(c)),this.sampleLookupTable(p,d,f,u++),n.push(o),r.push(o+this.shaderLayers),o+=1}var g=this.getAndUseCurrentColorProgram(),m=this.gl.getUniformLocation(g,"layerColorSampler");this.gl.uniform1iv(m,n);for(var v=0;v<n.length;++v){this.gl.activeTexture(this.gl.TEXTURE0+n[v]),this.gl.bindTexture(this.gl.TEXTURE_2D,this.glResources.textures["layerColorSampler_"+v]);var b=i[v][0],_=i[v][1];this.gl.texImage2D(this.gl.TEXTURE_2D,0,this.gl.LUMINANCE,b,_,0,this.gl.LUMINANCE,this.gl.FLOAT,a[v])}var x=this.gl.getUniformLocation(g,"lutSampler");this.gl.uniform1iv(x,r);for(var v=0;v<r.length;++v)this.gl.activeTexture(this.gl.TEXTURE0+r[v]),this.gl.bindTexture(this.gl.TEXTURE_2D,this.glResources.textures["lutSampler_"+v]),this.gl.texImage2D(this.gl.TEXTURE_2D,0,this.gl.RGBA,256,1,0,this.gl.RGBA,this.gl.UNSIGNED_BYTE,this.lutData[v]);var E=this.gl.getUniformLocation(g,"layerRange");this.gl.uniform2fv(E,s);var C=this.gl.getUniformLocation(g,"layerAlpha");this.gl.uniform1fv(C,l)},o.prototype.render=function(){var e=this;if(!this.orderData)return null;this.width*this.height,this.height,this.width;if(this.shaderLayers>=this.numLayers){this.uploadLayerTextures(0,this.numLayers-1);var t=this.getAndUseCurrentColorProgram(),n=this.gl.getUniformLocation(t,"orderOffset");this.gl.uniform1i(n,0)}this.pingPong.clearFbo(),(0,l["default"])(!this.reverseCompositePass,this.numLayers,function(t){var n=e.extractLayerData(e.orderData,t,1),r=e.extractLayerData(e.intensityData,t,1);if(e.hasNormal&&(r=e.extractLayerData(e.normalData,t,3)),e.gl.bindFramebuffer(e.gl.FRAMEBUFFER,e.glResources.framebuffers.colorFbo),e.gl.clear(e.gl.COLOR_BUFFER_BIT),e.shaderLayers>=e.numLayers)e.drawColorPass(n,r);else for(var o=0;o<e.numLayers;o+=e.shaderLayers){var i=o+(e.shaderLayers-1);i>=e.numLayers&&(i=e.numLayers-1),e.uploadLayerTextures(o,i);var a=e.getAndUseCurrentColorProgram(),s=e.gl.getUniformLocation(a,"orderOffset");e.gl.uniform1i(s,o),e.drawColorPass(n,r)}e.drawBlendPass()}),this.drawDisplayPass();var r={canvas:this.glCanvas.el,area:[0,0,this.width,this.height],outputSize:[this.width,this.height],builder:this.imageBuilder,arguments:this.queryDataModel.getQuery()};this.imageBuilder.imageReady(r)},o.prototype.findLayerConstantValue=function(e){for(var t=this.colorHelper.getLayerColorByName(e),n=this.metadata.pipeline[e].colorBy,r=0;r<n.length;++r)if(n[r].name===t)return n[r].value},o.prototype.sampleLookupTable=function(e,t,n,r){function o(e,t,n,r,o){return(e-t)/(n-t)*(o-r)+r}for(var i=0;256>i;++i){var a=o(i,0,255,n[0],n[1]),s=e.getColor(a);this.lutData[r][4*i]=255*s[0],this.lutData[r][4*i+1]=255*s[1],this.lutData[r][4*i+2]=255*s[2],this.lutData[r][4*i+3]=255*s[3]}},o.prototype.drawBlendPass=function(){this.gl.bindFramebuffer(this.gl.FRAMEBUFFER,this.pingPong.getFramebuffer()),this.gl.useProgram(this.glResources.programs.blendProgram),this.gl.viewport(0,0,this.width,this.height);var e=this.gl.getUniformLocation(this.glResources.programs.blendProgram,"underLayerSampler");this.gl.uniform1i(e,0),this.gl.activeTexture(this.gl.TEXTURE0+0),this.gl.bindTexture(this.gl.TEXTURE_2D,this.pingPong.getRenderingTexture());var t=this.gl.getUniformLocation(this.glResources.programs.blendProgram,"overLayerSampler");this.gl.uniform1i(t,1),this.gl.activeTexture(this.gl.TEXTURE0+1),this.gl.bindTexture(this.gl.TEXTURE_2D,this.glResources.textures.colorRenderTexture),this.gl.drawArrays(this.gl.TRIANGLES,0,6),this.gl.finish(),this.pingPong.swap();for(var n=0;2>n;n+=1)this.gl.activeTexture(this.gl.TEXTURE0+n),this.gl.bindTexture(this.gl.TEXTURE_2D,null)},o.prototype.drawDisplayPass=function(){this.gl.bindFramebuffer(this.gl.FRAMEBUFFER,null),this.gl.useProgram(this.glResources.programs.displayProgram),this.gl.clear(this.gl.COLOR_BUFFER_BIT),this.gl.viewport(0,0,this.width,this.height);var e=this.gl.getUniformLocation(this.glResources.programs.displayProgram,"u_image");this.gl.uniform1i(e,0),this.gl.activeTexture(this.gl.TEXTURE0+0),this.gl.bindTexture(this.gl.TEXTURE_2D,this.pingPong.getRenderingTexture()),this.gl.drawArrays(this.gl.TRIANGLES,0,6),this.gl.finish(),this.gl.activeTexture(this.gl.TEXTURE0),this.gl.bindTexture(this.gl.TEXTURE_2D,null)},o.prototype.drawColorPass=function(e,t){this.gl.bindFramebuffer(this.gl.FRAMEBUFFER,this.glResources.framebuffers.colorFbo);var n=this.glResources.programs.colorProgram;this.hasNormal&&(n=this.glResources.programs.lightColorProgram),this.gl.useProgram(n),this.gl.viewport(0,0,this.width,this.height);var r=0,o=this.gl.getUniformLocation(n,"orderSampler");if(this.gl.uniform1i(o,r),this.gl.activeTexture(this.gl.TEXTURE0+r),r+=1,this.gl.bindTexture(this.gl.TEXTURE_2D,this.glResources.textures.orderTexture),this.gl.texImage2D(this.gl.TEXTURE_2D,0,this.gl.LUMINANCE,this.width,this.height,0,this.gl.LUMINANCE,this.gl.UNSIGNED_BYTE,e),this.hasNormal){var i=this.gl.getUniformLocation(n,"normalSampler");this.gl.uniform1i(i,r),this.gl.activeTexture(this.gl.TEXTURE0+r),r+=1,this.gl.bindTexture(this.gl.TEXTURE_2D,this.glResources.textures.intensityTexture),this.gl.texImage2D(this.gl.TEXTURE_2D,0,this.gl.RGB,this.width,this.height,0,this.gl.RGB,this.gl.UNSIGNED_BYTE,t);var a=this.lightProperties,s=a.lightTerms,l=a.lightPosition,u=a.lightColor,c=f["default"].fromValues(l.x,l.y,1,0),p=this.gl.getUniformLocation(n,"lightDir");this.gl.uniform4fv(p,c);var d=f["default"].fromValues(s.ka,s.kd,s.ks,s.alpha),h=this.gl.getUniformLocation(n,"lightTerms");this.gl.uniform4fv(h,d);var g=f["default"].fromValues(u[0],u[1],u[2],1),m=this.gl.getUniformLocation(n,"lightColor");this.gl.uniform4fv(m,g)}else{var i=this.gl.getUniformLocation(n,"intensitySampler");this.gl.uniform1i(i,r),this.gl.activeTexture(this.gl.TEXTURE0+r),r+=1,this.gl.bindTexture(this.gl.TEXTURE_2D,this.glResources.textures.intensityTexture),this.gl.texImage2D(this.gl.TEXTURE_2D,0,this.gl.LUMINANCE,this.intensitySize[0],this.intensitySize[1],0,this.gl.LUMINANCE,this.gl.UNSIGNED_BYTE,t)}this.gl.drawArrays(this.gl.TRIANGLES,0,6),this.gl.finish();for(var v=0;r>v;v+=1)this.gl.activeTexture(this.gl.TEXTURE0+v),this.gl.bindTexture(this.gl.TEXTURE_2D,null)},o.prototype.destroy=function(){this.queryDataModel=null,this.imageBuilder=null,this.glResources.destroy(),this.glResources=null,this.pingPong=null,this.glCanvas.destroy(),this.glCanvas=null},o.prototype.getLightProperties=function(){return this.lightProperties},o.prototype.setLightProperties=function(e){this.lightProperties=(0,c["default"])(this.lightProperties,e)}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=function x(e,t,n){null===e&&(e=Function.prototype);var r=Object.getOwnPropertyDescriptor(e,t);if(void 0===r){var o=Object.getPrototypeOf(e);return null===o?void 0:x(o,t,n)}if("value"in r)return r.value;var i=r.get;if(void 0!==i)return i.call(n)};Object.defineProperty(t,"__esModule",{value:!0});var u=n(20),c=r(u),p=n(177),d=r(p),f=n(178),h=r(f),g=n(179),m=r(g),v=n(94),b=r(v),y="data_to_fetch",_=function(e){function t(e,n,r){o(this,t);var a=i(this,Object.getPrototypeOf(t).call(this,{queryDataModel:e,lookupTableManager:n,pipelineModel:r,handleRecord:!0,dimensions:e.originalData.SortedComposite.dimensions}));return a.metadata=e.originalData.SortedComposite,a.intensityModel=new b["default"](!0),a.normalsModel=new b["default"](!1),a.computationModel=new b["default"](!0),a.intensityModel.onChange(function(e,t){a.update()}),a.normalsModel.onChange(function(e,t){a.update()}),a.computationModel.onChange(function(e,t){a.compositor=a.compositors[e?1:0],a.update()}),a.lookupTableManager.addFields(a.metadata.ranges,a.queryDataModel.originalData.LookupTables),a.colorHelper=new d["default"](a.metadata.pipeline,e.originalData.CompositePipeline.fields,n),a.lookupTableManager.updateActiveLookupTable(a.metadata.activeLookupTable||a.metadata.pipeline[0].colorBy[0].name),a.dataQuery={name:y,categories:[]},a.compositors=[new h["default"](e,a,a.colorHelper,a.metadata.reverseCompositePass),new m["default"](e,a,a.colorHelper,a.metadata.reverseCompositePass)],a.compositor=a.compositors[1],a.controlWidgets=[{name:"LookupTableManagerWidget",lookupTableManager:a.lookupTableManager},{name:"LightPropertiesWidget",light:a},{name:"CompositeControl",pipelineModel:a.pipelineModel},{name:"QueryDataModelWidget",queryDataModel:a.queryDataModel}],a.metadata.light&&a.metadata.light.indexOf("normal")>=0?a.metadata.light.indexOf("intensity")<0&&a.normalsModel.setState(!0):a.controlWidgets.splice(1,1),a.registerSubscription(a.queryDataModel.onDataChange(function(){a.update()})),a.registerSubscription(e.on(y,function(e,t){a.colorHelper.updateData(e),a.compositor.updateData(e),a.render()})),a.registerSubscription(a.pipelineModel.onChange(function(e,t){a.colorHelper.updatePipeline(e),a.update()})),a.colorHelper.updatePipeline(a.pipelineModel.getPipelineQuery()),a.registerSubscription(a.lookupTableManager.onChange(function(e,t){a.render()})),a.registerSubscription(a.pipelineModel.onOpacityChange(function(e,t){a.colorHelper.updateAlphas(e),a.render()})),a.pipelineModel.resetOpacity(100),a.registerObjectToFree(a.compositors[0]),a.registerObjectToFree(a.compositors[1]),a}return a(t,e),s(t,[{key:"update",value:function(){this.normalsModel.getState()?this.dataQuery.categories=["_","normal"].concat(this.colorHelper.getCategories()):this.intensityModel.getState()?this.dataQuery.categories=["_","intensity"].concat(this.colorHelper.getCategories()):this.dataQuery.categories=["_"].concat(this.colorHelper.getCategories()),this.queryDataModel.fetchData(this.dataQuery)}},{key:"render",value:function(){this.compositor.render()}},{key:"destroy",value:function(){l(Object.getPrototypeOf(t.prototype),"destroy",this).call(this),this.compositors=null,this.compositor=null}},{key:"getLightingEnabled",value:function(){return this.normalsModel.getState()}},{key:"setLightingEnabled",value:function(e){this.normalsModel.setState(e)}},{key:"getLightProperties",value:function(){return this.compositor.getLightProperties()}},{key:"setLightProperties",value:function(e){this.compositor.setLightProperties(e),this.render()}},{key:"getControlModels",value:function(){return{lookupTableManager:this.lookupTableManager,intensity:this.intensityModel,computation:this.computationModel,normal:this.normalsModel,queryDataModel:this.queryDataModel,light:this,dimensions:this.metadata.dimensions}}}]),t}(c["default"]);t["default"]=_},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=function h(e,t,n){null===e&&(e=Function.prototype);var r=Object.getOwnPropertyDescriptor(e,t);if(void 0===r){var o=Object.getPrototypeOf(e);return null===o?void 0:h(o,t,n)}if("value"in r)return r.value;var i=r.get;if(void 0!==i)return i.call(n)};Object.defineProperty(t,"__esModule",{value:!0});var u=n(20),c=r(u),p=n(13),d=r(p),f=function(e){function t(){var e=arguments.length<=0||void 0===arguments[0]?"a-b":arguments[0],n=arguments.length<=1||void 0===arguments[1]?["a","b"]:arguments[1];o(this,t);var r=i(this,Object.getPrototypeOf(t).call(this,{}));return r.data={},r.listeners={},r.dataSize=[200,200],r.operation=e,r.dependency=n,r.bgCanvas=new d["default"](r.dataSize[0],r.dataSize[1]),r.registerObjectToFree(r.bgCanvas),r}return a(t,e),s(t,[{key:"setOperation",value:function(e){this.operation=e,this.processData()}},{key:"setDependencies",value:function(e){this.dependency=e}},{key:"getOperation",value:function(){return this.operation}},{key:"updateOperationFunction",value:function(){var e=this,t=[],n=!0;for(var r in this.data)t.push("var X = data.X[i];".replace(/X/g,r));return this.dependency.forEach(function(t){n=e.data[t]&&n}),t.push("return X;".replace(/X/g,this.operation)),this.fnOperation=new Function("data","i",t.join("")),n}},{key:"updateData",value:function(e,t){var n=this,r=t.area,o=t.canvas,i=r[0],a=r[1],s=r[2],l=r[3],u=this.bgCanvas.get2DContext(),c=new Uint8ClampedArray(s*l*4),p=null;this.bgCanvas.size(s,l),u.drawImage(o,i,a,s,l,0,0,s,l),p=u.getImageData(0,0,s,l),c.set(p.data),this.data[e]=c,this.dataSize=[s,l];var d=!0;this.dependency.forEach(function(e){n.data[e]||(d=!1)}),d&&this.processData()}},{key:"updateDataFromImage",value:function(e,t){var n=this,r=function o(){t.removeEventListener("load",o);var r=t.width,i=t.height,a=n.bgCanvas.get2DContext(),s=new Uint8ClampedArray(r*i*4),l=null;n.bgCanvas.size(r,i),a.drawImage(t,0,0),l=a.getImageData(0,0,r,i),s.set(l.data),n.data[e]=s,n.dataSize=[r,i];var u=!0;n.dependency.forEach(function(e){n.data[e]||(u=!1)}),u&&n.processData()};t.complete?r():t.addEventListener("load",r)}},{key:"updateDataFromClampedArray",value:function(e,t,n){var r=this;this.data[e]=t,this.dataSize=n||this.dataSize;var o=!0;
this.dependency.forEach(function(e){r.data[e]||(o=!1)}),o&&this.processData()}},{key:"processData",value:function(){if(this.updateOperationFunction()){var e=-1,t=!0;for(var n in this.data){var r=this.data[n];-1===e?e=r.length:t=t&&e===r.length}if(!t||-1===e)return void console.log("The array size are invalid!!!",e);if(this.dataSize[0]*this.dataSize[1]*4!==e)return void console.log("The array size are invalid!!!",e,this.dataSize);for(var o=0,i=new Uint8ClampedArray(e);e>o;)i[o]=this.fnOperation(this.data,o),i[o+1]=this.fnOperation(this.data,o+1),i[o+2]=this.fnOperation(this.data,o+2),i[o+3]=255,o+=4;this.bgCanvas.size(this.dataSize[0],this.dataSize[1]);var a=this.bgCanvas.get2DContext(),s=a.getImageData(0,0,this.dataSize[0],this.dataSize[1]);s.data.set(i),a.putImageData(s,0,0);var l={canvas:this.bgCanvas.el,area:[0,0].concat(this.dataSize),outputSize:this.dataSize,builder:this};this.imageReady(l)}}},{key:"getListeners",value:function(){return this.listeners}},{key:"setListeners",value:function(e){this.listeners=e}},{key:"destroy",value:function(){l(Object.getPrototypeOf(t.prototype),"destroy",this).call(this),this.bgCanvas=null,this.data=null,this.dataSize=null,this.dependency=null,this.listeners=null,this.operation=null}},{key:"getControlWidgets",value:function(){return[{name:"PixelOperatorControl",model:this}]}},{key:"getControlModels",value:function(){this.dataSize}}]),t}(c["default"]);t["default"]=f},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=function x(e,t,n){null===e&&(e=Function.prototype);var r=Object.getOwnPropertyDescriptor(e,t);if(void 0===r){var o=Object.getPrototypeOf(e);return null===o?void 0:x(o,t,n)}if("value"in r)return r.value;var i=r.get;if(void 0!==i)return i.call(n)};Object.defineProperty(t,"__esModule",{value:!0});var u=n(20),c=r(u),p=n(183),d=r(p),f=n(185),h=r(f),g=n(184),m=r(g),v=n(94),b=r(v),y="VolumeScalar",_=function(e){function t(e,n){o(this,t);var r=i(this,Object.getPrototypeOf(t).call(this,{queryDataModel:e,lookupTableManager:n,dimensions:e.originalData.SortedComposite.dimensions}));return r.dataQuery={name:"data_fetch",categories:[]},r.metadata=e.originalData.SortedComposite,r.originalRange=[r.metadata.scalars[0],r.metadata.scalars[r.metadata.scalars.length-1]],r.lutTextureData=new Uint8Array(4*r.metadata.layers),n.addFields({VolumeScalar:[0,1]},r.queryDataModel.originalData.LookupTables),r.lookupTable=n.getLookupTable(y),r.registerSubscription(r.lookupTable.onChange(function(e,t){for(var n=0;n<r.metadata.layers;n++){var o=r.lookupTable.getColor(r.metadata.scalars[n]);r.lutTextureData[4*n]=255*o[0],r.lutTextureData[4*n+1]=255*o[1],r.lutTextureData[4*n+2]=255*o[2]}r.render()})),r.compositors=[new d["default"](e,r,r.lutTextureData,r.metadata.reverseCompositePass),new m["default"](e,r,r.lutTextureData,r.metadata.reverseCompositePass)],r.compositor=r.compositors[1],r.intensityModel=new b["default"](!0),r.computationModel=new b["default"](!0),r.equalizerModel=new h["default"]({size:r.metadata.layers,scalars:r.metadata.scalars,lookupTable:r.lookupTable}),r.intensityModel.onChange(function(e,t){r.update()}),r.computationModel.onChange(function(e,t){r.compositor=r.compositors[e?1:0],r.update()}),r.equalizerModel.onChange(function(e,t){for(var n=e.getOpacities(),o=0;o<r.metadata.layers;o++)r.lutTextureData[4*o+3]=255*n[o];r.render()}),r.lookupTable.setScalarRange(r.originalRange[0],r.originalRange[1]),r.registerSubscription(r.queryDataModel.onDataChange(function(){r.update()})),r.registerSubscription(e.on("data_fetch",function(e,t){r.compositor.updateData(e),r.render()})),r.registerObjectToFree(r.compositors[0]),r.registerObjectToFree(r.compositors[1]),r.registerObjectToFree(r.intensityModel),r.registerObjectToFree(r.computationModel),r.registerObjectToFree(r.equalizerModel),r}return a(t,e),s(t,[{key:"update",value:function(){this.intensityModel.getState()?this.dataQuery.categories=["_","intensity"]:this.dataQuery.categories=["_"],this.queryDataModel.fetchData(this.dataQuery)}},{key:"render",value:function(){this.compositor.render()}},{key:"destroy",value:function(){l(Object.getPrototypeOf(t.prototype),"destroy",this).call(this),this.compositor=null,this.compositors=null,this.computationModel=null,this.dataQuery=null,this.equalizerModel=null,this.intensityModel=null,this.lookupTable=null,this.lutTextureData=null,this.metadata=null,this.originalRange=null}},{key:"getControlWidgets",value:function(){var e=this.getControlModels(),t=e.lookupTable,n=e.equalizer,r=e.intensity,o=e.computation,i=e.queryDataModel;return[{name:"VolumeControlWidget",lookupTable:t,equalizer:n,intensity:r,computation:o},{name:"QueryDataModelWidget",queryDataModel:i}]}},{key:"getControlModels",value:function(){return{lookupTable:{lookupTable:this.lookupTable,lookupTableManager:this.lookupTableManager,originalRange:this.originalRange},equalizer:this.equalizerModel,intensity:this.intensityModel,computation:this.computationModel,queryDataModel:this.queryDataModel,dimensions:this.metadata.dimensions}}}]),t}(c["default"]);t["default"]=_},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t,n,r){this.queryDataModel=e,this.imageBuilder=t,this.metadata=this.queryDataModel.originalData.SortedComposite,this.orderData=null,this.alphaData=null,this.intensityData=null,this.numLayers=this.metadata.layers,this.colorTable=n,this.reverseCompositePass=r,this.width=this.metadata.dimensions[0],this.height=this.metadata.dimensions[1],this.bgCanvas=new a["default"](this.width,this.height),this.imageBuffer=this.bgCanvas.get2DContext().createImageData(this.width,this.height)}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=o;var i=n(13),a=r(i),s=n(42),l=r(s);o.prototype.updateData=function(e){this.orderData=new Uint8Array(e.order.data),this.alphaData=new Uint8Array(e.alpha.data),e.intensity?this.intensityData=new Uint8Array(e.intensity.data):this.intensityData=null},o.prototype.setLayerColors=function(e){this.colorTable=e},o.prototype.render=function(){var e=this;if(!this.alphaData||!this.orderData||!this.colorTable)return null;var t=this.width*this.height,n=this.imageBuffer.data,r=this.height,o=this.width,i=this.bgCanvas.get2DContext();if(n.fill)n.fill(0);else for(var a=o*r*4;a--;)n[a]=0;(0,l["default"])(!!this.reverseCompositePass,this.numLayers,function(i){for(var a=0;a<e.height;a++)for(var s=0;s<e.width;s++){var l=e.width*a+s,u=(r-a-1)*o+s,c=e.orderData[i*t+l],p=e.colorTable[4*c+3]/255,d=e.alphaData[i*t+l]/255,f=1;e.intensityData&&(f=e.intensityData[i*t+l]/255);var h=n[4*u+3]/255,g=1-h,m=[n[4*u],n[4*u+1],n[4*u+2]],v=[e.colorTable[4*c]*f*d*p*g,e.colorTable[4*c+1]*f*d*p*g,e.colorTable[4*c+2]*f*d*p*g],b=h+d*p*(1-h);n[4*u]=(m[0]*h+v[0])/b,n[4*u+1]=(m[1]*h+v[1])/b,n[4*u+2]=(m[2]*h+v[2])/b,n[4*u+3]=255*b}}),i.putImageData(this.imageBuffer,0,0);var s={canvas:this.bgCanvas.el,area:[0,0,this.width,this.height],outputSize:[this.width,this.height],builder:this.imageBuilder};this.imageBuilder.imageReady(s)},o.prototype.destroy=function(){this.bgCanvas.destroy(),this.bgCanvas=null,this.queryDataModel=null,this.imageBuilder=null}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t,r,o){return this.queryDataModel=e,this.imageBuilder=t,this.infoJson=this.queryDataModel.originalData,this.orderData=null,this.alphaData=null,this.intensityData=null,this.intensitySize=1,this.defaultIntensityData=new Uint8Array([255]),this.numLayers=this.infoJson.SortedComposite.layers,this.reverseCompositePass=o,this.lutView=r,this.width=this.infoJson.SortedComposite.dimensions[0],this.height=this.infoJson.SortedComposite.dimensions[1],this.glCanvas=new a["default"](this.width,this.height),this.gl=this.glCanvas.get3DContext(),this.gl?(this.gl.clearColor(1,1,1,0),this.glConfig={programs:{displayProgram:{vertexShader:n(9),fragmentShader:n(102),mapping:"default"},colorProgram:{vertexShader:n(9),fragmentShader:n(249),mapping:"default"},blendProgram:{vertexShader:n(9),fragmentShader:n(101),mapping:"default"}},resources:{buffers:[{id:"texCoord",data:new Float32Array([0,0,1,0,0,1,0,1,1,0,1,1])},{id:"posCoord",data:new Float32Array([-1,-1,1,-1,-1,1,-1,1,1,-1,1,1])}],textures:[{id:"orderTexture",pixelStore:f,texParameter:p},{id:"alphaTexture",pixelStore:f,texParameter:p},{id:"intensityTexture",pixelStore:f,texParameter:p},{id:"lutTexture",pixelStore:d,texParameter:p},{id:"ping",pixelStore:d,texParameter:p},{id:"pong",pixelStore:d,texParameter:p},{id:"colorRenderTexture",pixelStore:d,texParameter:p}],framebuffers:[{id:"ping",width:this.width,height:this.height},{id:"pong",width:this.width,height:this.height},{id:"colorFbo",width:this.width,height:this.height}]},mappings:{"default":[{id:"posCoord",name:"positionLocation",attribute:"a_position",format:[2,this.gl.FLOAT,!1,0,0]},{id:"texCoord",name:"texCoordLocation",attribute:"a_texCoord",format:[2,this.gl.FLOAT,!1,0,0]}]}},this.glResources=l["default"].createGLResources(this.gl,this.glConfig),l["default"].bindTextureToFramebuffer(this.gl,this.glResources.framebuffers.colorFbo,this.glResources.textures.colorRenderTexture),void(this.pingPong=new l["default"].PingPong(this.gl,[this.glResources.framebuffers.ping,this.glResources.framebuffers.pong],[this.glResources.textures.ping,this.glResources.textures.pong]))):(console.error("Unable to get WebGl context"),null)}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=o;var i=n(13),a=r(i),s=n(31),l=r(s),u=n(42),c=r(u),p=[["TEXTURE_MAG_FILTER","NEAREST"],["TEXTURE_MIN_FILTER","NEAREST"],["TEXTURE_WRAP_S","CLAMP_TO_EDGE"],["TEXTURE_WRAP_T","CLAMP_TO_EDGE"]],d=[["UNPACK_FLIP_Y_WEBGL",!0]],f=[["UNPACK_FLIP_Y_WEBGL",!0],["UNPACK_ALIGNMENT",1]];o.prototype.updateData=function(e){this.orderData=e.order.data,this.alphaData=e.alpha.data,e.intensity?(this.intensityData=e.intensity.data,this.intensitySize=[this.width,this.height]):(this.intensityData=this.defaultIntensityData,this.intensitySize=[1,1])},o.prototype.extractLayerData=function(e,t){var n=t*this.width*this.height,r=this.width*this.height;return new Uint8Array(e,n,r)},o.prototype.render=function(){var e=this;if(!this.alphaData||!this.orderData||!this.lutView)return null;this.pingPong.clearFbo(),(0,c["default"])(!this.reverseCompositePass,this.numLayers,function(t){e.drawColorPass(e.extractLayerData(e.orderData,t),e.extractLayerData(e.alphaData,t),e.extractLayerData(e.intensityData,t)),e.drawBlendPass()}),this.drawDisplayPass();var t={canvas:this.glCanvas.el,area:[0,0,this.width,this.height],outputSize:[this.width,this.height],builder:this.imageBuilder};this.imageBuilder.imageReady(t)},o.prototype.destroy=function(){this.glResources.destroy(),this.glResources=null,this.pingPong=null},o.prototype.drawDisplayPass=function(){this.gl.bindFramebuffer(this.gl.FRAMEBUFFER,null),this.gl.useProgram(this.glResources.programs.displayProgram),this.gl.clear(this.gl.COLOR_BUFFER_BIT),this.gl.viewport(0,0,this.width,this.height);var e=this.gl.getUniformLocation(this.glResources.programs.displayProgram,"u_image");this.gl.uniform1i(e,0),this.gl.activeTexture(this.gl.TEXTURE0+0),this.gl.bindTexture(this.gl.TEXTURE_2D,this.pingPong.getRenderingTexture()),this.gl.drawArrays(this.gl.TRIANGLES,0,6),this.gl.finish(),this.gl.activeTexture(this.gl.TEXTURE0),this.gl.bindTexture(this.gl.TEXTURE_2D,null)},o.prototype.drawBlendPass=function(){this.gl.bindFramebuffer(this.gl.FRAMEBUFFER,this.pingPong.getFramebuffer()),this.gl.useProgram(this.glResources.programs.blendProgram),this.gl.viewport(0,0,this.width,this.height);var e=this.gl.getUniformLocation(this.glResources.programs.blendProgram,"underLayerSampler");this.gl.uniform1i(e,0),this.gl.activeTexture(this.gl.TEXTURE0+0),this.gl.bindTexture(this.gl.TEXTURE_2D,this.pingPong.getRenderingTexture());var t=this.gl.getUniformLocation(this.glResources.programs.blendProgram,"overLayerSampler");this.gl.uniform1i(t,1),this.gl.activeTexture(this.gl.TEXTURE0+1),this.gl.bindTexture(this.gl.TEXTURE_2D,this.glResources.textures.colorRenderTexture),this.gl.drawArrays(this.gl.TRIANGLES,0,6),this.gl.finish(),this.pingPong.swap();for(var n=0;2>n;n+=1)this.gl.activeTexture(this.gl.TEXTURE0+n),this.gl.bindTexture(this.gl.TEXTURE_2D,null)},o.prototype.drawColorPass=function(e,t,n){this.gl.bindFramebuffer(this.gl.FRAMEBUFFER,this.glResources.framebuffers.colorFbo),this.gl.useProgram(this.glResources.programs.colorProgram),this.gl.viewport(0,0,this.width,this.height);var r=this.gl.getUniformLocation(this.glResources.programs.colorProgram,"numberOfLayers");this.gl.uniform1f(r,this.numLayers);var o=0,i=this.gl.getUniformLocation(this.glResources.programs.colorProgram,"orderSampler");this.gl.uniform1i(i,o),this.gl.activeTexture(this.gl.TEXTURE0+o),o+=1,this.gl.bindTexture(this.gl.TEXTURE_2D,this.glResources.textures.orderTexture),this.gl.texImage2D(this.gl.TEXTURE_2D,0,this.gl.LUMINANCE,this.width,this.height,0,this.gl.LUMINANCE,this.gl.UNSIGNED_BYTE,e);var a=this.gl.getUniformLocation(this.glResources.programs.colorProgram,"alphaSampler");this.gl.uniform1i(a,o),this.gl.activeTexture(this.gl.TEXTURE0+o),o+=1,this.gl.bindTexture(this.gl.TEXTURE_2D,this.glResources.textures.alphaTexture),this.gl.texImage2D(this.gl.TEXTURE_2D,0,this.gl.LUMINANCE,this.width,this.height,0,this.gl.LUMINANCE,this.gl.UNSIGNED_BYTE,t);var s=this.gl.getUniformLocation(this.glResources.programs.colorProgram,"intensitySampler");this.gl.uniform1i(s,o),this.gl.activeTexture(this.gl.TEXTURE0+o),o+=1,this.gl.bindTexture(this.gl.TEXTURE_2D,this.glResources.textures.intensityTexture),this.gl.texImage2D(this.gl.TEXTURE_2D,0,this.gl.LUMINANCE,this.intensitySize[0],this.intensitySize[1],0,this.gl.LUMINANCE,this.gl.UNSIGNED_BYTE,n);var l=this.gl.getUniformLocation(this.glResources.programs.colorProgram,"lutSampler");this.gl.uniform1i(l,o),this.gl.activeTexture(this.gl.TEXTURE0+o),o+=1,this.gl.bindTexture(this.gl.TEXTURE_2D,this.glResources.textures.lutTexture),this.gl.texImage2D(this.gl.TEXTURE_2D,0,this.gl.RGBA,this.numLayers,1,0,this.gl.RGBA,this.gl.UNSIGNED_BYTE,this.lutView),this.gl.drawArrays(this.gl.TRIANGLES,0,6),this.gl.finish();for(var u=0;o>u;u+=1)this.gl.activeTexture(this.gl.TEXTURE0+u),this.gl.bindTexture(this.gl.TEXTURE_2D,null)}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();Object.defineProperty(t,"__esModule",{value:!0});var a=n(11),s=r(a),l="model.change",u=function(){function e(t){var n=this,r=t.size,i=void 0===r?1:r,a=t.colors,s=void 0===a?["#cccccc"]:a,u=t.lookupTable,c=void 0===u?null:u,p=t.scalars,d=void 0===p?[]:p;for(o(this,e),this.size=i,this.scalars=d,this.lookupTable=c,this.colors=s,c&&!function(){var e=function(e){var t=Math.floor(255*e[0]),n=Math.floor(255*e[1]),r=Math.floor(255*e[2]);return"rgb("+t+","+n+","+r+")"},t=function(t,r){for(var o=0;o<n.size;o++){var i=n.lookupTable.getColor(n.scalars[o]);n.colors[o]=e(i)}r&&n.emit(l,n)};n.lutChangeSubscription=n.lookupTable.onChange(t),t()}(),this.opacities=[];this.opacities.length<this.size;)this.opacities.push(-1);this.updateOpacities=function(e){for(var t=!1,r=0;r<n.size;r++)t=t||n.opacities[r]!==e[r],n.opacities[r]=e[r];t&&n.emit(l,n)},this.resetOpacities=function(){for(var e=1/n.size,t=0,r=!1,o=0;o<n.size;o++)t+=e,r=r||n.opacities[o]!==t,n.opacities[o]=t;r&&n.emit(l,n)},this.resetOpacities()}return i(e,[{key:"getOpacities",value:function(){return this.opacities}},{key:"getColors",value:function(){return this.colors}},{key:"onChange",value:function(e){return this.on(l,e)}},{key:"destroy",value:function(){this.off(),this.lutChangeSubscription.unsubscribe(),this.lutChangeSubscription=null}}]),e}();t["default"]=u,s["default"].mixInto(u)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t,n){return(t-e)*n+e}function i(e,t,n){var r=(n-e[0])/(t[0]-e[0]);return[o(e[1],t[1],r),o(e[2],t[2],r),o(e[3],t[3],r),255]}function a(e,t){return[e[t].x,e[t].r,e[t].g,e[t].b]}function s(e,t){return e.x-t.x}function l(e){var t=arguments.length<=1||void 0===arguments[1]?!1:arguments[1];this.name=e,this.scalarRange=[0,1],this.delta=1,this.controlPoints=null,this.colorTableSize=256,this.colorTable=null,this.colorNaN=[0,0,0,0],this.setPreset("spectralflip"),this.discrete=t,this.scale=1,this.build()}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=l;var u=n(188),c=r(u),p=n(11),d=r(p),f="lookuptable.change",h=[];for(var g in c["default"].lookuptables)h.push(g);d["default"].mixInto(l),l.prototype.getName=function(){return this.name},l.prototype.getPresets=function(){return h},l.prototype.setPreset=function(e){this.colorTable=null,this.controlPoints=[];for(var t=c["default"].lookuptables[e].controlpoints,n=t.length,r=0;n>r;r++)this.controlPoints.push({x:t[r].x,r:t[r].r,g:t[r].g,b:t[r].b});this.build(),this.emit(f,{change:"preset",lut:this})},l.prototype.updateControlPoints=function(e){this.colorTable=null,this.controlPoints=[];for(var t=e.length,n=0;t>n;n++)this.controlPoints.push({x:e[n].x,r:e[n].r,g:e[n].g,b:e[n].b});this.build(),this.emit(f,{change:"controlPoints",lut:this})},l.prototype.setColorForNaN=function(){var e=arguments.length<=0||void 0===arguments[0]?0:arguments[0],t=arguments.length<=1||void 0===arguments[1]?0:arguments[1],n=arguments.length<=2||void 0===arguments[2]?0:arguments[2],r=arguments.length<=3||void 0===arguments[3]?0:arguments[3];this.colorNaN=[e,t,n,r]},l.prototype.getColorForNaN=function(){return this.colorNaN},l.prototype.getScalarRange=function(){return[Number(this.scalarRange[0]),Number(this.scalarRange[1])]},l.prototype.setScalarRange=function(e,t){this.scalarRange=[e,t],this.delta=t-e,this.emit(f,{change:"scalarRange",lut:this})},l.prototype.build=function(e){if(!this.colorTable){this.colorTable=[];var t=0;if(this.discrete){this.colorTableSize=this.controlPoints.length,this.scale=50;for(var n=0;n<this.colorTableSize;n++){var r=this.controlPoints[n];this.colorTable.push([r.r,r.g,r.b,255])}}else{this.scale=1;for(var n=0;n<this.colorTableSize;n++){var o=n/(this.colorTableSize-1),s=a(this.controlPoints,t),l=a(this.controlPoints,t+1);o>l[0]&&(t+=1,s=a(this.controlPoints,t),l=a(this.controlPoints,t+1)),this.colorTable.push(i(s,l,o))}}e&&this.emit(f,{change:"controlPoints",lut:this})}},l.prototype.setNumberOfColors=function(e){this.colorTableSize=e,this.colorTable=null,this.build(),this.emit(f,{change:"numberOfColors",lut:this})},l.prototype.getNumberOfControlPoints=function(){return this.controlPoints?this.controlPoints.length:0},l.prototype.removeControlPoint=function(e){return e>0&&e<this.controlPoints.length-1?(this.controlPoints.splice(e,1),this.colorTable=null,this.build(!0),!0):!1},l.prototype.getControlPoint=function(e){return this.controlPoints[e]},l.prototype.updateControlPoint=function(e,t){this.controlPoints[e]=t;var n=t.x;this.controlPoints.sort(s),this.colorTable=null,this.build(!0);for(var r=0;r<this.controlPoints.length;r++)if(this.controlPoints[r].x===n)return r;return 0},l.prototype.addControlPoint=function(e){this.controlPoints.push(e);var t=e.x;this.controlPoints.sort(s),this.colorTable=null,this.build(!0);for(var n=0;n<this.controlPoints.length;n++)if(this.controlPoints[n].x===t)return n;return-1},l.prototype.drawToCanvas=function(e){for(var t=this.colorTable,n=this.scale*t.length,r=e.getContext("2d"),o=r.getImageData(0,0,n,1),i=0;n>i;i++){var a=Math.floor(i/this.scale);o.data[4*i+0]=Math.floor(255*t[a][0]),o.data[4*i+1]=Math.floor(255*t[a][1]),o.data[4*i+2]=Math.floor(255*t[a][2]),o.data[4*i+3]=255}r.putImageData(o,0,0)},l.prototype.getColor=function(e){if(isNaN(e))return this.colorNaN;var t=Math.floor(this.colorTableSize*(e-this.scalarRange[0])/this.delta);return 0>t?this.colorTable[0]:t>=this.colorTableSize?this.colorTable[this.colorTable.length-1]:this.colorTable[t]},l.prototype.destroy=function(){this.off(f)},l.prototype.onChange=function(e){return this.on(f,e)}},function(e,t,n){(function(e){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(){var e=this;this.luts={},this.lutSubscriptions={},this.onChangeCallback=function(t,n){e.emit(c,t)}}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=o;var i=n(186),a=r(i),s=n(47),l=(r(s),n(11)),u=r(l),c="LookupTable.change",p="LookupTable.active.change",d="LookupTable.list.change";u["default"].mixInto(o),o.prototype.addLookupTable=function(e,t,n){this.activeField||(this.activeField=e);var r=this.luts[e];return void 0===r&&(r=new a["default"](e),this.luts[e]=r,this.lutSubscriptions[e]=r.onChange(this.onChangeCallback)),r.setPreset(n||"spectralflip"),r.setScalarRange(t[0],t[1]),this.emit(d,this),r},o.prototype.removeLookupTable=function(e){this.luts.hasOwn(e)&&(this.lutSubscriptions[e].unsubscribe(),this.luts[e].destroy(),delete this.luts[e],delete this.lutSubscriptions[e],this.emit(d,this))},o.prototype.updateActiveLookupTable=function(t){var n=this;e(function(){n.emit(p,t)}),this.activeField=t},o.prototype.getLookupTable=function(e){return this.luts[e]},o.prototype.addFields=function(e,t){for(var n in e){var r=this.addLookupTable(n,e[n]);t&&t[n]&&(void 0!==t[n].discrete&&(r.discrete=t[n].discrete),t[n].preset?r.setPreset(t[n].preset):t[n].controlpoints&&r.updateControlPoints(t[n].controlpoints),t[n].range&&r.setScalarRange(t[n].range[0],t[n].range[1]))}},o.prototype.getActiveField=function(){return this.activeField},o.prototype.onChange=function(e){return this.on(c,e)},o.prototype.onFieldsChange=function(e){return this.on(d,e)},o.prototype.onActiveLookupTableChange=function(e){return this.on(p,e)}}).call(t,n(23).setImmediate)},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t["default"]={lookuptables:{spectralflip:{controlpoints:[{x:0,r:.3686274509803922,g:.3098039215686275,b:.6352941176470588},{x:.1,r:.196078431372549,g:.5333333333333333,b:.7411764705882353},{x:.2,r:.4,g:.7607843137254902,b:.6470588235294118},{x:.3,r:.6705882352941176,g:.8666666666666667,b:.6431372549019608},{x:.4,r:.9019607843137255,g:.9607843137254902,b:.596078431372549},{x:.5,r:1,g:1,b:.7490196078431373},{x:.6,r:.996078431372549,g:.8784313725490196,b:.5450980392156862},{x:.7,r:.9921568627450981,g:.6823529411764706,b:.3803921568627451},{x:.8,r:.9568627450980393,g:.4274509803921568,b:.2627450980392157},{x:.9,r:.8352941176470589,g:.2431372549019608,b:.3098039215686275},{x:1,r:.6196078431372549,g:.00392156862745098,b:.2588235294117647}],range:[0,1]},cold2warm:{controlpoints:[{x:0,r:.23137254902,g:.298039215686,b:.752941176471},{x:.5,r:.865,g:.865,b:.865},{x:1,r:.705882352941,g:.0156862745098,b:.149019607843}],range:[0,1]},rainbow:{controlpoints:[{x:0,r:0,g:0,b:1},{x:.25,r:0,g:1,b:1},{x:.5,r:0,g:1,b:0},{x:.75,r:1,g:1,b:0},{x:1,r:1,g:0,b:0}],range:[0,1]},"gray scale":{controlpoints:[{x:0,r:0,g:0,b:0},{x:1,r:1,g:1,b:1}],range:[0,1]},"gray scale flip":{controlpoints:[{x:0,r:1,g:1,b:1},{x:1,r:0,g:0,b:0}],range:[0,1]},spectral:{controlpoints:[{x:0,r:.6196078431372549,g:.00392156862745098,b:.2588235294117647},{x:.1,r:.8352941176470589,g:.2431372549019608,b:.3098039215686275},{x:.2,r:.9568627450980393,g:.4274509803921568,b:.2627450980392157},{x:.3,r:.9921568627450981,g:.6823529411764706,b:.3803921568627451},{x:.4,r:.996078431372549,g:.8784313725490196,b:.5450980392156862},{x:.5,r:1,g:1,b:.7490196078431373},{x:.6,r:.9019607843137255,g:.9607843137254902,b:.596078431372549},{x:.7,r:.6705882352941176,g:.8666666666666667,b:.6431372549019608},{x:.8,r:.4,g:.7607843137254902,b:.6470588235294118},{x:.9,r:.196078431372549,g:.5333333333333333,b:.7411764705882353},{x:1,r:.3686274509803922,g:.3098039215686275,b:.6352941176470588}],range:[0,1]},warm:{controlpoints:[{x:0,r:.4745098039215686,g:.09019607843137255,b:.09019607843137255},{x:.2,r:.7098039215686275,g:.00392156862745098,b:.00392156862745098},{x:.4,r:.9372549019607843,g:.2784313725490196,b:.09803921568627451},{x:.6,r:.9764705882352941,g:.5137254901960784,b:.1411764705882353},{x:.8,r:1,g:.7058823529411765,b:0},{x:1,r:1,g:.8980392156862745,b:.02352941176470588}],range:[0,1]},cool:{controlpoints:[{x:0,r:.4588235294117647,g:.6941176470588235,b:.00392156862745098},{x:.1666666666666667,r:.3450980392156863,g:.5019607843137255,b:.1607843137254902},{x:.3333333333333333,r:.3137254901960784,g:.8431372549019608,b:.7490196078431373},{x:.5,r:.1098039215686274,g:.5843137254901961,b:.803921568627451},{x:.6666666666666666,r:.2313725490196079,g:.407843137254902,b:.6705882352941176},{x:.8333333333333334,r:.6039215686274509,g:.407843137254902,b:1},{x:1,r:.3725490196078431,g:.2,b:.5019607843137255}],range:[0,1]},blues:{controlpoints:[{x:0,r:.2313725490196079,g:.407843137254902,b:.6705882352941176},{x:.1666666666666667,r:.1098039215686274,g:.5843137254901961,b:.803921568627451},{x:.3333333333333333,r:.3058823529411765,g:.8509803921568627,b:.9176470588235294},{x:.5,r:.4509803921568628,g:.6039215686274509,b:.8352941176470589},{x:.6666666666666666,r:.2588235294117647,g:.2392156862745098,b:.6627450980392157},{x:.8333333333333334,r:.3137254901960784,g:.3294117647058823,b:.5294117647058824},{x:1,r:.06274509803921569,g:.1647058823529412,b:.3215686274509804}],range:[0,1]},wildflower:{controlpoints:[{x:0,r:.1098039215686274,g:.5843137254901961,b:.803921568627451},{x:.1666666666666667,r:.2313725490196079,g:.407843137254902,b:.6705882352941176},{x:.3333333333333333,r:.4,g:.2431372549019608,b:.7176470588235294},{x:.5,r:.6352941176470588,g:.3294117647058823,b:.8117647058823529},{x:.6666666666666666,r:.8705882352941177,g:.3803921568627451,b:.807843137254902},{x:.8333333333333334,r:.8627450980392157,g:.3803921568627451,b:.5843137254901961},{x:1,r:.2392156862745098,g:.06274509803921569,b:.3215686274509804}],range:[0,1]},citrus:{controlpoints:[{x:0,r:.396078431372549,g:.4862745098039216,b:.2156862745098039},{x:.2,r:.4588235294117647,g:.6941176470588235,b:.00392156862745098},{x:.4,r:.6980392156862745,g:.7294117647058823,b:.1882352941176471},{x:.6,r:1,g:.8980392156862745,b:.02352941176470588},{x:.8,r:1,g:.7058823529411765,b:0},{x:1,r:.9764705882352941,g:.5137254901960784,b:.1411764705882353}],range:[0,1]},organge2purple:{controlpoints:[{x:0,r:.4980392156862745,g:.2313725490196079,b:.03137254901960784},{x:.1,r:.7019607843137254,g:.3450980392156863,b:.02352941176470588},{x:.2,r:.8784313725490196,g:.5098039215686274,b:.0784313725490196},{x:.3,r:.9921568627450981,g:.7215686274509804,b:.3882352941176471},{x:.4,r:.996078431372549,g:.8784313725490196,b:.7137254901960784},{x:.5,r:.9686274509803922,g:.9686274509803922,b:.9686274509803922},{x:.6,r:.8470588235294118,g:.8549019607843137,b:.9215686274509803},{x:.7,r:.6980392156862745,g:.6705882352941176,b:.8235294117647058},{x:.8,r:.5019607843137255,g:.4509803921568628,b:.6745098039215687},{x:.9,r:.3294117647058823,g:.1529411764705882,b:.5333333333333333},{x:1,r:.1764705882352941,g:0,b:.2941176470588235}],range:[0,1]},brown2green:{controlpoints:[{x:0,r:.3294117647058823,g:.1882352941176471,b:.0196078431372549},{x:.1,r:.5490196078431373,g:.3176470588235294,b:.0392156862745098},{x:.2,r:.7490196078431373,g:.5058823529411764,b:.1764705882352941},{x:.3,r:.8745098039215686,g:.7607843137254902,b:.4901960784313725},{x:.4,r:.9647058823529412,g:.9098039215686274,b:.7647058823529411},{x:.5,r:.9607843137254902,g:.9607843137254902,b:.9607843137254902},{x:.6,r:.7803921568627451,g:.9176470588235294,b:.8980392156862745},{x:.7,r:.5019607843137255,g:.803921568627451,b:.7568627450980392},{x:.8,r:.207843137254902,g:.592156862745098,b:.5607843137254902},{x:.9,r:.00392156862745098,g:.4,b:.3686274509803922},{x:1,r:0,g:.2352941176470588,b:.1882352941176471}],range:[0,1]},blue2green:{controlpoints:[{x:0,r:.9686274509803922,g:.9882352941176471,b:.9921568627450981},{x:.125,r:.8980392156862745,g:.9607843137254902,b:.9764705882352941},{x:.25,r:.8,g:.9254901960784314,b:.9019607843137255},{x:.375,r:.6,g:.8470588235294118,b:.788235294117647},{x:.5,r:.4,g:.7607843137254902,b:.6431372549019608},{x:.625,r:.2549019607843137,g:.6823529411764706,b:.4627450980392157},{x:.75,r:.1372549019607843,g:.5450980392156862,b:.2705882352941176},{x:.875,r:0,g:.4274509803921568,b:.1725490196078431},{x:1,r:0,g:.2666666666666667,b:.1058823529411765}],range:[0,1]},yellow2brown:{controlpoints:[{x:0,r:1,g:1,b:.8980392156862745},{x:.125,r:1,g:.9686274509803922,b:.7372549019607844},{x:.25,r:.996078431372549,g:.8901960784313725,b:.5686274509803921},{x:.375,r:.996078431372549,g:.7686274509803922,b:.3098039215686275},{x:.5,r:.996078431372549,g:.6,b:.1607843137254902},{x:.625,r:.9254901960784314,g:.4392156862745098,b:.0784313725490196},{x:.75,r:.8,g:.2980392156862745,b:.00784313725490196},{x:.875,r:.6,g:.203921568627451,b:.01568627450980392},{x:1,r:.4,g:.1450980392156863,b:.02352941176470588}],range:[0,1]},blue2purple:{controlpoints:[{x:0,r:.9686274509803922,g:.9882352941176471,b:.9921568627450981},{x:.125,r:.8784313725490196,g:.9254901960784314,b:.9568627450980393},{x:.25,r:.7490196078431373,g:.8274509803921568,b:.9019607843137255},{x:.375,r:.6196078431372549,g:.7372549019607844,b:.8549019607843137},{x:.5,r:.5490196078431373,g:.5882352941176471,b:.7764705882352941},{x:.625,r:.5490196078431373,g:.4196078431372549,b:.6941176470588235},{x:.75,r:.5333333333333333,g:.2549019607843137,b:.615686274509804},{x:.875,r:.5058823529411764,g:.05882352941176471,b:.4862745098039216},{x:1,r:.3019607843137255,g:0,b:.2941176470588235}],range:[0,1]},ocean:{controlpoints:[{x:0,r:.039215,g:.090195,b:.25098},{x:.125,r:.133333,g:.364706,b:.521569},{x:.25,r:.321569,g:.760784,b:.8},{x:.375,r:.690196,g:.960784,b:.894118},{x:.5,r:.552941,g:.921569,b:.552941},{x:.625,r:.329412,g:.6,b:.239216},{x:.75,r:.211765,g:.34902,b:.078435},{x:.875,r:.011765,g:.207843,b:.023525},{x:1,r:.286275,g:.294118,b:.301961}],range:[0,1]},earth:{controlpoints:[{x:0,r:.392157,g:.392157,b:.392157},{x:.586175,r:.392157,g:.392157,b:.392157},{x:.589041,r:.141176,g:.345098,b:.478431},{x:.589042,r:.501961,g:.694118,b:.172549},{x:.617699,r:.74902,g:.560784,b:.188235},{x:.789648,r:.752941,g:.741176,b:.729412},{x:.993079,r:.796078,g:.780392,b:.772549},{x:1,r:.796078,g:.780392,b:.772549}],range:[0,1]}},swatches:{colors:[{r:255,g:255,b:255},{r:204,g:255,b:255},{r:204,g:204,b:255},{r:204,g:204,b:255},{r:204,g:204,b:255},{r:204,g:204,b:255},{r:204,g:204,b:255},{r:204,g:204,b:255},{r:204,g:204,b:255},{r:204,g:204,b:255},{r:204,g:204,b:255},{r:255,g:204,b:255},{r:255,g:204,b:204},{r:255,g:204,b:204},{r:255,g:204,b:204},{r:255,g:204,b:204},{r:255,g:204,b:204},{r:255,g:204,b:204},{r:255,g:204,b:204},{r:255,g:204,b:204},{r:255,g:204,b:204},{r:255,g:255,b:204},{r:204,g:255,b:204},{r:204,g:255,b:204},{r:204,g:255,b:204},{r:204,g:255,b:204},{r:204,g:255,b:204},{r:204,g:255,b:204},{r:204,g:255,b:204},{r:204,g:255,b:204},{r:204,g:255,b:204},{r:204,g:204,b:204},{r:153,g:255,b:255},{r:153,g:204,b:255},{r:153,g:153,b:255},{r:153,g:153,b:255},{r:153,g:153,b:255},{r:153,g:153,b:255},{r:153,g:153,b:255},{r:153,g:153,b:255},{r:153,g:153,b:255},{r:204,g:153,b:255},{r:255,g:153,b:255},{r:255,g:153,b:204},{r:255,g:153,
b:153},{r:255,g:153,b:153},{r:255,g:153,b:153},{r:255,g:153,b:153},{r:255,g:153,b:153},{r:255,g:153,b:153},{r:255,g:153,b:153},{r:255,g:204,b:153},{r:255,g:255,b:153},{r:204,g:255,b:153},{r:153,g:255,b:153},{r:153,g:255,b:153},{r:153,g:255,b:153},{r:153,g:255,b:153},{r:153,g:255,b:153},{r:153,g:255,b:153},{r:153,g:255,b:153},{r:153,g:255,b:204},{r:204,g:204,b:204},{r:102,g:255,b:255},{r:102,g:204,b:255},{r:102,g:153,b:255},{r:102,g:102,b:255},{r:102,g:102,b:255},{r:102,g:102,b:255},{r:102,g:102,b:255},{r:102,g:102,b:255},{r:153,g:102,b:255},{r:204,g:102,b:255},{r:255,g:102,b:255},{r:255,g:102,b:204},{r:255,g:102,b:153},{r:255,g:102,b:102},{r:255,g:102,b:102},{r:255,g:102,b:102},{r:255,g:102,b:102},{r:255,g:102,b:102},{r:255,g:153,b:102},{r:255,g:204,b:102},{r:255,g:255,b:102},{r:204,g:255,b:102},{r:153,g:255,b:102},{r:102,g:255,b:102},{r:102,g:255,b:102},{r:102,g:255,b:102},{r:102,g:255,b:102},{r:102,g:255,b:102},{r:102,g:255,b:153},{r:102,g:255,b:204},{r:153,g:153,b:153},{r:51,g:255,b:255},{r:51,g:204,b:255},{r:51,g:153,b:255},{r:51,g:102,b:255},{r:51,g:51,b:255},{r:51,g:51,b:255},{r:51,g:51,b:255},{r:102,g:51,b:255},{r:153,g:51,b:255},{r:204,g:51,b:255},{r:255,g:51,b:255},{r:255,g:51,b:204},{r:255,g:51,b:153},{r:255,g:51,b:102},{r:255,g:51,b:51},{r:255,g:51,b:51},{r:255,g:51,b:51},{r:255,g:102,b:51},{r:255,g:153,b:51},{r:255,g:204,b:51},{r:255,g:255,b:51},{r:204,g:255,b:51},{r:153,g:255,b:51},{r:102,g:255,b:51},{r:51,g:255,b:51},{r:51,g:255,b:51},{r:51,g:255,b:51},{r:51,g:255,b:102},{r:51,g:255,b:153},{r:51,g:255,b:204},{r:153,g:153,b:153},{r:0,g:255,b:255},{r:0,g:204,b:255},{r:0,g:153,b:255},{r:0,g:102,b:255},{r:0,g:51,b:255},{r:0,g:0,b:255},{r:51,g:0,b:255},{r:102,g:0,b:255},{r:153,g:0,b:255},{r:204,g:0,b:255},{r:255,g:0,b:255},{r:255,g:0,b:204},{r:255,g:0,b:153},{r:255,g:0,b:102},{r:255,g:0,b:51},{r:255,g:0,b:0},{r:255,g:51,b:0},{r:255,g:102,b:0},{r:255,g:153,b:0},{r:255,g:204,b:0},{r:255,g:255,b:0},{r:204,g:255,b:0},{r:153,g:255,b:0},{r:102,g:255,b:0},{r:51,g:255,b:0},{r:0,g:255,b:0},{r:0,g:255,b:51},{r:0,g:255,b:102},{r:0,g:255,b:153},{r:0,g:255,b:204},{r:102,g:102,b:102},{r:0,g:204,b:204},{r:0,g:204,b:204},{r:0,g:153,b:204},{r:0,g:102,b:204},{r:0,g:51,b:204},{r:0,g:0,b:204},{r:51,g:0,b:204},{r:102,g:0,b:204},{r:153,g:0,b:204},{r:204,g:0,b:204},{r:204,g:0,b:204},{r:204,g:0,b:204},{r:204,g:0,b:153},{r:204,g:0,b:102},{r:204,g:0,b:51},{r:204,g:0,b:0},{r:204,g:51,b:0},{r:204,g:102,b:0},{r:204,g:153,b:0},{r:204,g:204,b:0},{r:204,g:204,b:0},{r:204,g:204,b:0},{r:153,g:204,b:0},{r:102,g:204,b:0},{r:51,g:204,b:0},{r:0,g:204,b:0},{r:0,g:204,b:51},{r:0,g:204,b:102},{r:0,g:204,b:153},{r:0,g:204,b:204},{r:102,g:102,b:102},{r:0,g:153,b:153},{r:0,g:153,b:153},{r:0,g:153,b:153},{r:0,g:102,b:153},{r:0,g:51,b:153},{r:0,g:0,b:153},{r:51,g:0,b:153},{r:102,g:0,b:153},{r:153,g:0,b:153},{r:153,g:0,b:153},{r:153,g:0,b:153},{r:153,g:0,b:153},{r:153,g:0,b:153},{r:153,g:0,b:102},{r:153,g:0,b:51},{r:153,g:0,b:0},{r:153,g:51,b:0},{r:153,g:102,b:0},{r:153,g:153,b:0},{r:153,g:153,b:0},{r:153,g:153,b:0},{r:153,g:153,b:0},{r:153,g:153,b:0},{r:102,g:153,b:0},{r:51,g:153,b:0},{r:0,g:153,b:0},{r:0,g:153,b:51},{r:0,g:153,b:102},{r:0,g:153,b:153},{r:0,g:153,b:153},{r:51,g:51,b:51},{r:0,g:102,b:102},{r:0,g:102,b:102},{r:0,g:102,b:102},{r:0,g:102,b:102},{r:0,g:51,b:102},{r:0,g:0,b:102},{r:51,g:0,b:102},{r:102,g:0,b:102},{r:102,g:0,b:102},{r:102,g:0,b:102},{r:102,g:0,b:102},{r:102,g:0,b:102},{r:102,g:0,b:102},{r:102,g:0,b:102},{r:102,g:0,b:51},{r:102,g:0,b:0},{r:102,g:51,b:0},{r:102,g:102,b:0},{r:102,g:102,b:0},{r:102,g:102,b:0},{r:102,g:102,b:0},{r:102,g:102,b:0},{r:102,g:102,b:0},{r:102,g:102,b:0},{r:51,g:102,b:0},{r:0,g:102,b:0},{r:0,g:102,b:51},{r:0,g:102,b:102},{r:0,g:102,b:102},{r:0,g:102,b:102},{r:0,g:0,b:0},{r:0,g:51,b:51},{r:0,g:51,b:51},{r:0,g:51,b:51},{r:0,g:51,b:51},{r:0,g:51,b:51},{r:0,g:0,b:51},{r:51,g:0,b:51},{r:51,g:0,b:51},{r:51,g:0,b:51},{r:51,g:0,b:51},{r:51,g:0,b:51},{r:51,g:0,b:51},{r:51,g:0,b:51},{r:51,g:0,b:51},{r:51,g:0,b:51},{r:51,g:0,b:0},{r:51,g:51,b:0},{r:51,g:51,b:0},{r:51,g:51,b:0},{r:51,g:51,b:0},{r:51,g:51,b:0},{r:51,g:51,b:0},{r:51,g:51,b:0},{r:51,g:51,b:0},{r:0,g:51,b:0},{r:0,g:51,b:51},{r:0,g:51,b:51},{r:0,g:51,b:51},{r:0,g:51,b:51},{r:51,g:51,b:51}],columns:31,rows:9}}},function(e,t){"use strict";function n(){this.keyPatternMap={}}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=n,n.prototype.registerPattern=function(e,t){this.keyPatternMap[e]=t},n.prototype.unregisterPattern=function(e){delete this.keyPatternMap[e]},n.prototype.getValue=function(e,t){var n=this.keyPatternMap[e],r=["{","}"];for(var o in t)n=n.replace(r.join(o),t[o]);return n}},function(e,t){"use strict";function n(e,t){var n=new XMLHttpRequest;n.open("GET",e,!0),n.responseType=t.type,n.onload=function(e){return 200===this.status?t.fn(null,n):void t.fn(e,n)},n.onerror=function(e){t.fn(e,n)},n.send()}function r(e){return{type:"arraybuffer",fn:function(t,n){return t?e(t):void e(null,n.response)}}}function o(e){return{type:"text",fn:function(t,n){return t?e(t):void e(null,n.response)}}}function i(e){return{type:"text",fn:function(t,n){return t?e(t):void e(null,JSON.parse(n.response))}}}function a(e,t){return{type:"blob",fn:function(n,r){if(n)return t(n);var o=new Blob([r.response],{type:e});t(null,o)}}}function s(e,t){n(e,i(t))}function l(e,t){n(e,o(t))}function u(e,t,r){n(e,a(t,r))}function c(e,t){n(e,r(t))}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]={fetchJSON:s,fetchTxt:l,fetchBlob:u,fetchArray:c}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();Object.defineProperty(t,"__esModule",{value:!0});var a=n(95),s=r(a),l=n(11),u=r(l),c=new s["default"],p="object-ready",d=0,f=function(){function e(t){var n=this;o(this,e),d++,this.basepath=t,this.id=["GeometryDataModel",d].join("_"),this.coloByMapping={},this.currentScene=null,this.sceneData={},this.dataMapping={},c.on(this.id,function(e,t){var r=e.requestedURL,o=n.dataMapping[r];if(o){n.sceneData[o.name][o.field]=new window[o.type](e.data);var i=!0,a=n.sceneData[o.name];for(var s in a)null===a[s]&&(i=!1);i&&n.geometryReady(a)}})}return i(e,[{key:"onGeometryReady",value:function(e){return this.on(p,e)}},{key:"geometryReady",value:function(e){this.emit(p,e)}},{key:"colorGeometryBy",value:function(e,t){var n=!1;t?(n=this.coloByMapping[e]!==t,this.coloByMapping[e]=t):delete this.coloByMapping[e],n&&this.loadScene(this.currentScene)}},{key:"loadScene",value:function(e){var t=this;this.currentScene=e,e&&!function(){t.dataMapping={},t.sceneData={};var n=t.sceneData;e.forEach(function(e){var r=e.name,o=[],i=null;n[r]={name:r,points:null,index:null},i=t.basepath+e.points,t.dataMapping[i]={name:r,field:"points",type:e.points.split(".").slice(-1)[0]},o.push(i),i=t.basepath+e.index,t.dataMapping[i]={name:r,field:"index",type:e.index.split(".").slice(-1)[0]},o.push(i),t.coloByMapping[r]&&(n[r].field=null,n[r].fieldName=t.coloByMapping[r],i=t.basepath+e.fields[t.coloByMapping[r]],t.dataMapping[i]={name:r,field:"field",type:e.fields[t.coloByMapping[r]].split(".").slice(-1)[0]},o.push(i)),o.forEach(function(e){c.fetchURL(e,"array",null,t.id)})})}()}}]),e}();t["default"]=f,u["default"].mixInto(f)},function(e,t,n){(function(e){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){var n=e.idx+e.direction*t;return n>=e.values.length&&(e.direction*=-1,n=e.values.length-2),0>n&&(e.direction*=-1,n=1),n>=0&&n<e.values.length&&(e.idx=n),!0}function i(e,t){return e.idx=(e.values.length+e.idx+t)%e.values.length,!0}function a(e,t){var n=e.idx+t;return n>=e.values.length&&(n=e.values.length-1),0>n&&(n=0),e.idx!==n?(e.idx=n,!0):!1}function s(t,n){var r=this;this.originalData=t,this.basepath=n,this.id="QueryDataModel_"+ ++M+":",this.args={},this.externalArgs={},this.dataCount={},this.categories={},this.requests=[],this.keepAnimating=!1,this.animationTimerId=0,this.mouseListener=null,this.dataMetadata={},this.lazyFetchRequest=null,this.playNext=function(){if(r.keepAnimating){var e=!1;r.lastPlay=+new Date;for(var t in r.args)r.args[t].anime&&(e=r.next(t)||e);e?r.lazyFetchData():(r.keepAnimating=!1,r.emit("state.change.play",{instance:r}))}else r.emit("state.change.play",{instance:r})};var s=function(t){var n={},o=t.urls.length,i=!1,a=!1;for(0!==r.animationTimerId&&(clearTimeout(r.animationTimerId),r.animationTimerId=0);o--;){var s=t.urls[o];n[s.key]=D.get(s.url),n[s.key]?i=i||n[s.key].pending:a=!0}if(i?e(function(){r.requests.push(t)}):a||(r.emit(t.category,n),0===r.requests.length&&r.lazyFetchRequest&&(r.fetchData(r.lazyFetchRequest),r.lazyFetchRequest=null)),r.keepAnimating){var l=+new Date;r.animationTimerId=setTimeout(r.playNext,l-r.lastPlay>r.deltaT?0:r.deltaT)}},l=function(t,n){if(r.dataCount[n.topic]++,t.url&&"blob"===t.type&&-1!==t.data.type.indexOf("image")&&void 0===t.image&&(t.image=new Image,t.image.src=t.url),t.error)return r.emit("error",n);var o=(0,h["default"])(r.dataCount),i=(0,m["default"])(r.dataCount),a=(0,b["default"])(r.dataCount);o!==i||(1===a?0!==o:0)||e(function(){for(;r.requests.length;)s(r.requests.pop())})};for(var u in t.arguments){var c=t.arguments[u];this.args[u]={label:c.label?c.label:u,idx:c["default"]?c["default"]:0,direction:1,anime:!1,values:c.values,ui:c.ui?c.ui:"list",delta:c.loop?"reverse"===c.loop?o:"modulo"===c.loop?i:a:a}}t.data.forEach(function(e){var t=r.id+e.name;r.dataMetadata[e.name]=e.metadata||{},(e.categories||[T]).forEach(function(e){(0,_["default"])(r.categories,e)?r.categories[e].push(t):r.categories[e]=[t]}),D.registerURL(t,(e.absolute?"":n)+e.pattern,e.type,e.mimeType),D.on(t,l),r.dataCount[t]=0}),this.exploreState={order:t.arguments_order.map(function(e){return e}).reverse(),idxs:t.arguments_order.map(function(e){return 0}),sizes:t.arguments_order.map(function(e){return r.getSize(e)}).reverse(),onDataReady:!0,animate:!1},this.explorationSubscription=this.onDataChange(function(){r.exploreState.animate&&r.exploreState.onDataReady&&e(function(e){return r.nextExploration()})})}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=s;var l=n(95),u=r(l),c=n(301),p=(r(c),n(311)),d=r(p),f=n(310),h=r(f),g=n(36),m=r(g),v=n(312),b=r(v),y=n(47),_=r(y),x=n(122),E=r(x),C=n(11),w=r(C),D=new u["default"],T="_",M=0;w["default"].mixInto(s),s.prototype.getDataMetaData=function(e){return this.dataMetadata[e]},s.prototype.getQuery=function(){var e={};for(var t in this.args){var n=this.args[t];e[t]=n.values[n.idx]}for(var r in this.externalArgs)e[r]=this.externalArgs[r];return e},s.prototype.fetchData=function(){var e=this,t=arguments.length<=0||void 0===arguments[0]?T:arguments[0],n=[],r=this.getQuery(),o={urls:[]};t.name?(o.category=t.name,t.categories.forEach(function(t){e.categories[t]&&(n=n.concat(e.categories[t]))})):this.categories[t]&&(o.category=t,n=n.concat(this.categories[t])),n.length&&this.requests.push(o),n.forEach(function(t){e.dataCount[t]--,o.urls.push({key:t.slice(e.id.length),url:D.fetch(t,r)})})},s.prototype.lazyFetchData=function(){var e=arguments.length<=0||void 0===arguments[0]?T:arguments[0];this.lazyFetchRequest||this.requests.length>0?this.lazyFetchRequest=e:this.fetchData(e)},s.prototype.first=function(e){var t=this.args[e];return t&&0!==t.idx?(t.idx=0,this.emit("state.change.first",{value:t.values[t.idx],idx:t.idx,name:e,instance:this}),!0):!1},s.prototype.last=function(e){var t=this.args[e],n=t.values.length-1;return t&&t.idx!==n?(t.idx=n,this.emit("state.change.last",{value:t.values[t.idx],idx:t.idx,name:e,instance:this}),!0):!1},s.prototype.next=function(e){var t=this.args[e];return t&&t.delta(t,1)?(this.emit("state.change.next",{delta:1,value:t.values[t.idx],idx:t.idx,name:e,instance:this}),!0):!1},s.prototype.previous=function(e){var t=this.args[e];return t&&t.delta(t,-1)?(this.emit("state.change.previous",{delta:-1,value:t.values[t.idx],idx:t.idx,name:e,instance:this}),!0):!1},s.prototype.setValue=function(e,t){var n=this.args[e],r=n?n.values.indexOf(t):0;return n&&-1!==r&&r!==n.idx?(n.idx=r,this.emit("state.change.value",{value:n.values[n.idx],idx:n.idx,name:e,instance:this}),!0):void 0===n&&this.externalArgs[e]!==t?(this.externalArgs[e]=t,this.emit("state.change.value",{value:t,name:e,external:!0,instance:this}),!0):!1},s.prototype.setIndex=function(e,t){var n=this.args[e];return n&&t>-1&&t<n.values.length&&n.idx!==t?(n.idx=t,this.emit("state.change.idx",{value:n.values[n.idx],idx:n.idx,name:e,instance:this}),!0):!1},s.prototype.getValue=function(e){var t=this.args[e];return t?t.values[t.idx]:this.externalArgs[e]},s.prototype.getValues=function(e){var t=this.args[e];return t?t.values:null},s.prototype.getIndex=function(e){var t=this.args[e];return t?t.idx:null},s.prototype.getUiType=function(e){var t=this.args[e];return t?t.ui:null},s.prototype.getSize=function(e){var t=this.args[e];return t?t.values.length:null},s.prototype.label=function(e){var t=this.args[e];return t?t.label:null},s.prototype.getAnimationFlag=function(e){var t=this.args[e];return t?t.anime:!1},s.prototype.setAnimationFlag=function(e,t){var n=this.args[e];return n&&n.anime!==t?(n.anime=t,this.emit("state.change.animation",{animation:n.anim,name:n.name,instance:this}),!0):!1},s.prototype.toggleAnimationFlag=function(e){var t=this.args[e];return t?(t.anime=!t.anime,this.emit("state.change.animation",{animation:t.anim,name:t.name,instance:this}),t.anime):null},s.prototype.hasAnimationFlag=function(){for(var e in this.args)if(this.args[e].anime)return!0;return!1},s.prototype.isAnimating=function(){return this.keepAnimating},s.prototype.animate=function(e){var t=arguments.length<=1||void 0===arguments[1]?500:arguments[1];this.deltaT=t,e!=this.keepAnimating&&(this.keepAnimating=e,this.playNext())},s.prototype.getTonicMouseListener=function(){function e(e,r){for(var o=n[e.topic],i=(0,E["default"])(),a=t.lastTime[e.topic]+t.newMouseTimeout<i,s=o.length,l=!1,u=!1;s--;){var c=o[s],p=0===c.coordinate?"deltaX":"deltaY";if(a&&(c.lastCoord=0),c.modifier&e.modifier||c.modifier===e.modifier){u=!0;var d=e[p]-c.lastCoord;t.lastTime[e.topic]=i,Math.abs(d)>c.step&&(c.lastCoord=Number(e[p]),l=c.orientation*d>0?t.next(c.name)||l:t.previous(c.name)||l)}}return l&&t.lazyFetchData(),u}if(this.mouseListener)return this.mouseListener;this.lastTime={},this.newMouseTimeout=250;var t=this,n={};for(var r in this.originalData.arguments){var o=this.originalData.arguments[r];if(o.bind&&o.bind.mouse)for(var i in o.bind.mouse){var a=(0,d["default"])(o.bind.mouse[i]);a.name=r,a.lastCoord=0,void 0===a.orientation&&(a.orientation=1),n[i]?n[i].push(a):n[i]=[a]}}this.mouseListener={};for(var s in n)this.mouseListener[s]=e,this.lastTime[s]=(0,E["default"])();return this.mouseListener},s.prototype.onStateChange=function(e){return this.on("state.change.*",e)},s.prototype.onDataChange=function(e){return this.on(T,e)},s.prototype.clone=function(){return new s(this.originalData,this.basepath)},s.prototype.destroy=function(){this.off(),this.explorationSubscription.unsubscribe(),this.explorationSubscription=null},s.prototype.exploreQuery=function(){var e=arguments.length<=0||void 0===arguments[0]?!0:arguments[0],t=this,n=arguments.length<=1||void 0===arguments[1]?!0:arguments[1],r=arguments.length<=2||void 0===arguments[2]?!0:arguments[2];n?this.exploreState.idxs=this.exploreState.order.map(function(e){return 0}):this.exploreState.idxs=this.exploreState.order.map(function(e){return t.getIndex(e)}),this.exploreState.onDataReady=r,this.exploreState.animate=e,this.exploreState.animate&&this.nextExploration(),this.emit("state.change.exploration",{exploration:this.exploreState,instance:this})},s.prototype.nextExploration=function(){var e=this;if(this.exploreState.animate){this.exploreState.order.forEach(function(t,n){e.setIndex(t,e.exploreState.idxs[n])});var t=this.exploreState.idxs,n=this.exploreState.sizes,r=t.length;for(t[r-1]++;r--;)if(!(t[r]<n[r])){if(!(r>0))return this.exploreState.animate=!1,void this.emit("state.change.exploration",{exploration:this.exploreState,instance:this});t[r]=0,t[r-1]++}this.lazyFetchData()}return this.exploreState.animate},s.prototype.setCacheSize=function(e){D.cacheSize=e},s.prototype.getCacheSize=function(){return D.cacheSize},s.prototype.getMemoryUsage=function(){return D.cacheData.size},s.prototype.link=function(e){var t=this,n=arguments.length<=1||void 0===arguments[1]?null:arguments[1],r=arguments.length<=2||void 0===arguments[2]?!1:arguments[2];return e.onStateChange(function(e,o){void 0!==e.name&&void 0!==e.value&&(null===n||-1!==n.indexOf(e.name))&&t.setValue(e.name,e.value)&&r&&t.lazyFetchData()})}}).call(t,n(23).setImmediate)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(34),i=(r(o),n(2)),a=r(i),s=n(12),l=r(s),u=n(33),c=r(u);t["default"]=a["default"].createClass({displayName:"Geometry",getInitialState:function(){return{width:200,height:200}},getDefaultProps:function(){return{}},componentWillMount:function(){this.sizeSubscription=c["default"].onSizeChange(this.updateDimensions),c["default"].startListening()},componentWillUnmount:function(){this.sizeSubscription&&(this.sizeSubscription.unsubscribe(),this.sizeSubscription=null)},updateDimensions:function(){var e=l["default"].findDOMNode(this).parentNode,t=c["default"].getSize(e);return!e||this.state.width===t.clientWidth&&this.state.height===t.clientHeight?!1:(this.setState({width:t.clientWidth,height:t.clientHeight}),this.props.geometryBuilder&&this.props.geometryBuilder.updateSize(innerWidth,innerHeight),!0)},componentDidMount:function(){this.props.geometryBuilder&&(this.props.geometryBuilder.configureRenderer(l["default"].findDOMNode(this.refs.canvasRenderer)),this.props.geometryBuilder.render()),this.updateDimensions()},componentDidUpdate:function(e,t){this.updateDimensions()},resetCamera:function(){this.props.geometryBuilder&&this.props.geometryBuilder.resetCamera()},render:function(){return a["default"].createElement("canvas",{className:"CanvasImageRenderer",ref:"canvasRenderer",width:this.state.width,height:this.state.height})}})},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(){var e=this;e.drawToCanvas&&(e.firstRender?(e.firstRender=!1,e.component.resetCamera()):e.drawToCanvas())}function i(){var e=this,t=this.component,n=m["default"].findDOMNode(t.refs.canvasRenderer),r=n.getContext("2d"),o=t.state.width,i=t.state.height,a=e?e.width:500,s=e?e.height:500,l=t.zoom,u=t.center;r.clearRect(0,0,o,i);var c=Math.floor(a*l),p=Math.floor(s*l),d=o*u[0]-c/2,f=i*u[1]-p/2;e.activeArea=[d,f,c,p];try{r.drawImage(e,0,0,a,s,d,f,c,p)}catch(h){}}function a(){var e=this,t=this.data,n=this.component,r=m["default"].findDOMNode(n.refs.canvasRenderer),o=r.getContext("2d"),i=n.state.width,a=n.state.height,s=t.outputSize[0],l=t.outputSize[1],u=n.zoom,c=n.center;o.clearRect(0,0,i,a);var p=Math.floor(s*u),d=Math.floor(l*u),f=i*c[0]-p/2,h=a*c[1]-d/2;try{o.drawImage(t.canvas,t.area[0],t.area[1],t.area[2],t.area[3],f,h,p,d),e.activeArea=[f,h,p,d];var g=[p/t.area[2],d/t.area[3]],v=[f,h];t.crosshair&&(o.beginPath(),o.moveTo(v[0]+g[0]*t.crosshair[0],0),o.lineTo(v[0]+g[0]*t.crosshair[0],a),o.moveTo(0,v[1]+g[1]*t.crosshair[1]),o.lineTo(i,v[1]+g[1]*t.crosshair[1]),o.strokeStyle=n.props.crosshairColor,o.lineWidth=1,o.stroke())}catch(b){}}Object.defineProperty(t,"__esModule",{value:!0});var s=n(205),l=r(s),u=n(218),c=r(u),p=n(43),d=r(p),f=n(2),h=r(f),g=n(12),m=r(g),v=n(33),b=r(v);n(254),t["default"]=h["default"].createClass({displayName:"Image",propTypes:{imageBuilder:h["default"].PropTypes.object,minZoom:h["default"].PropTypes.number,maxZoom:h["default"].PropTypes.number,crosshairColor:h["default"].PropTypes.string,modifiers:h["default"].PropTypes.array,pressRadius:h["default"].PropTypes.number,listener:h["default"].PropTypes.object},getInitialState:function(){var e=this.props.imageBuilder?this.props.imageBuilder.queryDataModel.originalData.metadata||{}:{},t=e.title||"No title",n=e.description||"No description";return{width:200,height:200,dialog:!1,title:t,description:n}},getDefaultProps:function(){return{minZoom:.1,maxZoom:10,crosshairColor:"#000",modifiers:[0,2],pressRadius:50}},componentWillMount:function(){var e=this;this.imageToDraw=new Image,this.props.imageBuilder&&(this.imageBuilderSubscription=this.props.imageBuilder.onImageReady(function(t,n){t.url?e.renderImage(t):e.renderCanvas(t)})),this.zoom=1,this.baseZoom=1,this.center=[.5,.5],this.baseCenter=[.5,.5],this.imageToDraw.component=this,this.imageToDraw.onload=o,this.imageToDraw.firstRender=!0,this.sizeSubscription=b["default"].onSizeChange(this.updateDimensions),b["default"].startListening(),document.addEventListener("keydown",this.handleKeyDown),this.sendToServer=!1,this.imageExporter=new c["default"]},componentWillUnmount:function(){document.removeEventListener("keydown",this.handleKeyDown),this.imageBuilderSubscription&&(this.imageBuilderSubscription.unsubscribe(),this.imageBuilderSubscription=null),this.imageToDraw.onload=null,this.imageToDraw.drawToCanvas=null,this.imageToDraw.component=null,this.imageToDraw.data=null,this.imageToDraw=null,this.mouseHandler.destroy(),this.mouseHandler=null,this.sizeSubscription&&(this.sizeSubscription.unsubscribe(),this.sizeSubscription=null)},updateDimensions:function(){var e=m["default"].findDOMNode(this).parentNode,t=b["default"].getSize(e);return!e||this.state.width===t.clientWidth&&this.state.height===t.clientHeight?!1:(this.setState({width:t.clientWidth,height:t.clientHeight}),!0)},componentDidMount:function(){var e=this;this.updateDimensions(),this.imageToDraw.drawToCanvas&&this.imageToDraw.drawToCanvas(),this.mouseHandler=new d["default"](m["default"].findDOMNode(this.refs.canvasRenderer)),this.props.modifiers&&this.mouseHandler.toggleModifierOnPress(!0,this.props.modifiers),this.mouseHandler.attach({drag:this.dragCallback,zoom:this.zoomCallback,click:this.clickCallback}),this.mouseHandler.on("modifier.change",function(t,n){var r=e.imageToDraw,o=m["default"].findDOMNode(e.refs.canvasRenderer).getContext("2d");e.state.width,e.state.height;o.beginPath(),o.fillStyle="#ffffff",o.lineWidth=5,o.strokeStyle="#000000",o.arc(t.event.relative.x,t.event.relative.y,e.props.pressRadius,0,2*Math.PI,!1),o.fill(),o.stroke(),setTimeout(function(){r.drawToCanvas()},300)})},componentDidUpdate:function(e,t){this.updateDimensions(),this.imageToDraw.drawToCanvas&&this.imageToDraw.drawToCanvas()},zoomCallback:function(e,t){e.activeArea=this.imageToDraw.activeArea;var n=!1;if(this.props.listener&&this.props.listener.zoom&&(n=this.props.listener.zoom(e,t)),!n){e.isFirst&&(this.baseZoom=this.zoom);var r=this.baseZoom*e.scale;if(r<this.props.minZoom&&(r=this.props.minZoom),r>this.props.maxZoom&&(r=this.props.maxZoom),this.zoom!==r){var o=this.center[0],i=this.center[1],a=r/this.zoom,s=e.relative.x/this.state.width,l=e.relative.y/this.state.height;this.zoom=r,this.center[0]=s+a*(o-s),this.center[1]=l+a*(i-l),this.imageToDraw.drawToCanvas&&this.imageToDraw.drawToCanvas()}e.isFinal&&(this.baseZoom=this.zoom)}this.baseCenter=[this.center[0],this.center[1]]},dragCallback:function(e,t){e.activeArea=this.imageToDraw.activeArea,this.baseZoom=this.zoom;var n=!1;if(this.props.listener&&this.props.listener.drag&&(n=this.props.listener.drag(e,t)),!n){e.isFirst&&(this.baseCenter=[this.center[0],this.center[1]]);var r=e.deltaX/this.state.width,o=e.deltaY/this.state.height;this.center[0]=this.baseCenter[0]+r,this.center[1]=this.baseCenter[1]+o,e.isFinal&&(this.baseCenter=[this.center[0],this.center[1]]),this.imageToDraw.drawToCanvas&&this.imageToDraw.drawToCanvas()}},clickCallback:function(e,t){e.activeArea=this.imageToDraw.activeArea,this.props.listener&&this.props.listener.click&&this.props.listener.click(e,t)},renderImage:function(e){this.imageToDraw.drawToCanvas=i,this.imageToDraw.src=e.url},renderCanvas:function(e){this.imageToDraw.drawToCanvas=a,this.imageToDraw.data=e,this.imageToDraw.width=e.outputSize[0],this.imageToDraw.height=e.outputSize[1],this.sendToServer&&this.imageExporter.exportImage(e),this.imageToDraw.firstRender?(this.imageToDraw.firstRender=!1,this.resetCamera()):this.imageToDraw.drawToCanvas()},resetCamera:function(){var e=this.state.width,t=this.state.height,n=this.imageToDraw,r=n?n.width:500,o=n?n.height:500;this.zoom=Math.min(e/r,t/o),this.baseZoom=Math.min(e/r,t/o),this.baseCenter=[.5,.5],this.center=[.5,.5],n.drawToCanvas()},recordImages:function(e){this.sendToServer=e},handleKeyDown:function(e){if(82===e.keyCode)this.resetCamera();else if(85===e.keyCode&&!this.state.dialog){var t=m["default"].findDOMNode(this.refs.thumbnail);"CANVAS"===this.imageToDraw.data.canvas.nodeName?this.imageToDraw.data.canvas.width===this.imageToDraw.data.area[2]&&this.imageToDraw.data.canvas.height===this.imageToDraw.data.area[3]?t.src=this.imageToDraw.data.canvas.toDataURL("image/png"):t.src=this.imageExporter.extractCanvasRegion(this.imageToDraw.data.canvas,this.imageToDraw.data.area,this.imageToDraw.data.outputSize):t.src=this.imageToDraw.data.canvas.src,this.setState({dialog:!this.state.dialog})}},updateTitle:function(e){var t=e.target.value;this.setState({title:t})},updateDescription:function(e){var t=e.target.value;this.setState({description:t})},toggleDialog:function(){this.setState({dialog:!this.state.dialog})},updateMetadata:function(){this.setState({dialog:!this.state.dialog}),this.imageExporter.updateMetadata({title:this.state.title,description:this.state.description,image:m["default"].findDOMNode(this.refs.thumbnail).src,path:this.props.imageBuilder.queryDataModel.basepath})},render:function(){return h["default"].createElement("div",null,h["default"].createElement("canvas",{className:"CanvasImageRenderer",ref:"canvasRenderer",width:this.state.width,height:this.state.height}),h["default"].createElement("div",{className:this.state.dialog?"UpdateDialog is-visible":"UpdateDialog"},h["default"].createElement("div",{className:"UpdateDialog__inside"},h["default"].createElement("img",{ref:"thumbnail",className:"UpdateDialog__thumbnail",height:Math.floor(this.state.height/2)}),h["default"].createElement("div",{className:"UpdateDialog__metadata",style:{height:Math.floor(this.state.height/2)+"px"}},h["default"].createElement("strong",{className:"UpdateDialog__metadata_title"},h["default"].createElement(l["default"],{html:this.state.title,onChange:this.updateTitle})),h["default"].createElement("div",{className:"UpdateDialog__metadata_description"},h["default"].createElement(l["default"],{html:this.state.description,onChange:this.updateDescription}))),h["default"].createElement("div",{className:"UpdateDialog__buttons"},h["default"].createElement("button",{onClick:this.toggleDialog},"Cancel"),h["default"].createElement("button",{onClick:this.updateMetadata},"Save")))))}})},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t["default"]={"2x2":function(e,t,n,r){return[[t,t,e[0]-1.5*t,e[1]-1.5*t],[e[0]+.5*t,t,n-e[0]-1.5*t,e[1]-1.5*t],[t,e[1]+.5*t,e[0]-1.5*t,r-e[1]-1.5*t],[e[0]+.5*t,e[1]+.5*t,n-e[0]-1.5*t,r-e[1]-1.5*t]]},"1x1":function(e,t,n,r){return[[t,t,n-2*t,r-2*t]]},"1x2":function(e,t,n,r){return[[t,t,n-2*t,e[1]-1.5*t],[t,e[1]+.5*t,n-2*t,r-e[1]-1.5*t]]},"2x1":function(e,t,n,r){return[[t,t,e[0]-1.5*t,r-2*t],[e[0]+.5*t,t,n-e[0]-1.5*t,r-2*t]]},"3xT":function(e,t,n,r){return[[t,t,n-2*t,e[1]-1.5*t],[t,e[1]+.5*t,e[0]-1.5*t,r-e[1]-1.5*t],[e[0]+.5*t,e[1]+.5*t,n-e[0]-1.5*t,r-e[1]-1.5*t]]},"3xL":function(e,t,n,r){return[[t,t,e[0]-1.5*t,r-2*t],[e[0]+.5*t,t,n-e[0]-1.5*t,e[1]-1.5*t],[e[0]+.5*t,e[1]+.5*t,n-e[0]-1.5*t,r-e[1]-1.5*t]]},"3xR":function(e,t,n,r){return[[t,t,e[0]-1.5*t,e[1]-1.5*t],[e[0]+.5*t,t,n-e[0]-1.5*t,r-2*t],[t,e[1]+.5*t,e[0]-1.5*t,r-e[1]-1.5*t]]},"3xB":function(e,t,n,r){return[[t,t,e[0]-1.5*t,e[1]-1.5*t],[e[0]+.5*t,t,n-e[0]-1.5*t,e[1]-1.5*t],[t,e[1]+.5*t,n-2*t,r-e[1]-1.5*t]]}}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(34),i=(r(o),n(195)),a=r(i),s=n(11),l=r(s),u=n(43),c=r(u),p=n(2),d=r(p),f=n(12),h=r(f),g=n(33),m=r(g),v=Object.keys(a["default"]),b="multiview-viewport-active-change",y="multiview-layout-change",_=d["default"].createClass({displayName:"MultiViewRenderer",propTypes:{spacing:d["default"].PropTypes.number,borderColor:d["default"].PropTypes.string,activeColor:d["default"].PropTypes.string,crosshairColor:d["default"].PropTypes.string,renderers:d["default"].PropTypes.object},getInitialState:function(){return{width:200,height:200}},getDefaultProps:function(){return{spacing:10,borderColor:"#000000",activeColor:"#0000FF",crosshairColor:"#000000",renderers:{}}},setLayout:function(e){this.layout=e,this.drawLayout(),this.emit(y,e)},getLayouts:function(){return v},getActiveLayout:function(){return this.layout},setRenderMethod:function(e){var t=this;this.viewports.forEach(function(n){n.active&&(n.name=e,t.emit(b,n))}),this.drawViewportByName(null)},getRenderMethods:function(){return Object.keys(this.props.renderers)},getActiveRenderMethod:function(){return this.viewports.forEach(function(e){return e.active?e.name:void 0}),"No render method"},componentWillMount:function(){function e(e,n){this.dataToDraw=e,t(this.name)}var t=this.drawViewportByName;this.dragCenter=!1,this.dragInViewport=null,this.center=[.5,.5],this.layout=this.props.layout||"3xT",this.viewports=[];for(var n in this.props.renderers){var r=this.props.renderers[n],o=r.builder,i=r.painter;o&&o.onImageReady(e).context(r),i&&i.onPainterReady(e).context(r),this.viewports.push({name:n,active:!1})}this.sizeSubscription=m["default"].onSizeChange(this.updateDimensions),m["default"].startListening()},componentWillUnmount:function(){this.off(),this.mouseHandler&&(this.mouseHandler.destroy(),this.mouseHandler=null),this.sizeSubscription&&(this.sizeSubscription.unsubscribe(),this.sizeSubscription=null)},updateDimensions:function(){var e=h["default"].findDOMNode(this).parentNode,t=m["default"].getSize(e);return!e||this.state.width===t.clientWidth&&this.state.height===t.clientHeight?!1:(this.setState({width:t.clientWidth,height:t.clientHeight}),!0)},componentDidMount:function(){this.updateDimensions(),this.mouseHandler=new c["default"](h["default"].findDOMNode(this.refs.canvasRenderer)),this.mouseHandler.attach({drag:this.dragCallback,click:this.clickCallback,zoom:this.zoomCallback})},componentDidUpdate:function(e,t){this.drawLayout()},dragCallback:function(e,t){var n=this.getViewPort(e);if(!n&&!this.dragInViewport||this.dragCenter)this.dragCenter=!0,this.center[0]=e.relative.x/this.state.width,this.center[1]=e.relative.y/this.state.height,this.drawLayout();else{this.dragInViewport=this.dragInViewport||n;var r=this.props.renderers[this.dragInViewport.name],o=r.builder,i=o?o.getListeners():null;i&&i.drag&&(e.activeArea=this.dragInViewport.activeArea,i.drag(e,t))}e.isFinal&&(this.dragCenter=!1,this.dragInViewport=null)},clickCallback:function(e,t){this.dragCenter=!1,this.dragInViewport=null;var n=this.getViewPort(e);if(n){this.viewports.forEach(function(e){e.active=!1}),n.active=!0;var r=this.props.renderers[n.name],o=r.builder,i=o?o.getListeners():null;i&&i.click&&(e.activeArea=n.activeArea,i.click(e,t)),this.emit(b,n)}this.drawLayout()},zoomCallback:function(e,t){var n=this.getViewPort(e);if(n){var r=this.props.renderers[n.name],o=r.builder,i=o?o.getListeners():null;i&&i.zoom&&(e.activeArea=n.activeArea,i.zoom(e,t))}},getViewPort:function(e){for(var t=this.viewports.length,n=e.relative.x,r=e.relative.y;t--;){var o=this.viewports[t].activeArea||this.viewports[t].region;if(n>=o[0]&&r>=o[1]&&n<=o[0]+o[2]&&r<=o[1]+o[3])return this.viewports[t]}return null},drawViewport:function(e){var t=this.props.renderers[e.name],n=e.region,r=h["default"].findDOMNode(this.refs.canvasRenderer).getContext("2d");
if(!(!t||t.builder&&!t.dataToDraw||t.painter&&!t.painter.isReady()))if(t.painter){var o={x:n[0]+2,y:n[1]+2,width:n[2]-4,height:n[3]-4};e.activeArea=[].concat(e.region),t.painter.paint(r,o)}else{var i=this.props.renderers[e.name].dataToDraw,a=n[2]-2,s=n[3]-2,l=i.outputSize[0],u=i.outputSize[1],c=Math.min(a/l,s/u);r.clearRect(n[0]+1,n[1]+1,n[2]-2,n[3]-2);var p=Math.floor(l*c)-2,d=Math.floor(u*c)-2,f=1+n[0]+.5*a-p/2,g=1+n[1]+.5*s-d/2;try{if(r.drawImage(i.canvas,i.area[0],i.area[1],i.area[2],i.area[3],f,g,p,d),i.crosshair){var m=[p/i.area[2],d/i.area[3]],v=[f,g];r.beginPath(),r.moveTo(v[0]+m[0]*i.crosshair[0],g),r.lineTo(v[0]+m[0]*i.crosshair[0],g+d),r.moveTo(f,v[1]+m[1]*i.crosshair[1]),r.lineTo(f+p,v[1]+m[1]*i.crosshair[1]),r.strokeStyle=this.props.crosshairColor,r.lineWidth=1,r.stroke()}e.activeArea=[f,g,p,d]}catch(b){}}},drawViewportByName:function(e){var t=this,n=e?this.props.renderers[e]:null;return n&&n.builder&&!n.dataToDraw?void n.builder.update():void this.viewports.forEach(function(n){(n.name===e||null===e)&&t.drawViewport(n)})},drawLayout:function(){var e=h["default"].findDOMNode(this.refs.canvasRenderer).getContext("2d"),t=e.canvas.width=this.state.width,n=e.canvas.height=this.state.height,r=[this.center[0]*t,this.center[1]*n],o=this.props.spacing,i=a["default"][this.layout](r,o,t,n),s=this.viewports,l=i.length;e.clearRect(0,0,t,n);for(var u=0;l>u;++u){var c=i.shift();u<s.length?s[u].region=c:s.push({name:this.getRenderMethods()[0],region:c,active:!1}),e.beginPath(),e.strokeStyle=s[u].active?this.props.activeColor:this.props.borderColor,e.rect.apply(e,c),e.stroke()}for(;s.length>l;)s.pop();this.drawViewportByName(null)},onActiveViewportChange:function(e){return this.on(b,e)},onLayoutChange:function(e){return this.on(y,e)},render:function(){return d["default"].createElement("canvas",{className:"CanvasMultiImageRenderer",ref:"canvasRenderer",width:this.state.width,height:this.state.height})}});l["default"].mixInto(_),t["default"]=_},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(32),i=r(o),a=n(2),s=r(a),l=n(60);r(l);t["default"]=s["default"].createClass({displayName:"Geometry",propTypes:{queryDataModel:s["default"].PropTypes.object.isRequired,geometryBuilder:s["default"].PropTypes.object.isRequired,config:s["default"].PropTypes.object},getDefaultProps:function(){return{config:{}}},render:function(){var e=this.props.queryDataModel,t=this.props.geometryBuilder,n=[];return this.props.menuAddOn&&(n=this.props.menuAddOn.concat(n)),s["default"].createElement(i["default"],{queryDataModel:e,geometryBuilder:t,renderer:"GeometryRenderer",config:this.props.config||{}},n)}})},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(32),i=r(o),a=n(2),s=r(a),l=n(60),u=r(l);t["default"]=s["default"].createClass({displayName:"ImageBuilder",propTypes:{imageBuilder:s["default"].PropTypes.object.isRequired,queryDataModel:s["default"].PropTypes.object.isRequired,config:s["default"].PropTypes.object,menuAddOn:s["default"].PropTypes.array},getDefaultProps:function(){return{config:{}}},attachListener:function(e){var t=this;this.detachListener(),e&&e.onModelChange&&(this.changeSubscription=e.onModelChange(function(e,n){t.forceUpdate()}))},detachListener:function(){this.changeSubscription&&(this.changeSubscription.unsubscribe(),this.changeSubscription=null)},componentWillReceiveProps:function(e){var t=this.props.imageBuilder,n=e.imageBuilder;t!==n&&(this.detachListener(),this.props.config.MagicLens&&this.attachListener(n))},componentWillMount:function(){this.attachListener(this.props.imageBuilder)},componentWillUnmount:function(){this.detachListener()},render:function(){var e=this.props.queryDataModel,t=this.props.config.MagicLens?this.props.imageBuilder:null,n=this.props.config.MagicLens?this.props.imageBuilder.getActiveImageBuilder():this.props.imageBuilder,r=u["default"].getWidgets(n);return this.props.menuAddOn&&(r=this.props.menuAddOn.concat(r)),s["default"].createElement(i["default"],{queryDataModel:e,magicLensController:t,imageBuilder:n,config:this.props.config||{}},r)}})},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(32),i=r(o),a=n(212),s=r(a),l=n(2),u=r(l),c=n(60),p=r(c);n(104),n(103),t["default"]=u["default"].createClass({displayName:"MultiLayout",propTypes:{queryDataModel:u["default"].PropTypes.object.isRequired,renderers:u["default"].PropTypes.object.isRequired,menuAddOn:u["default"].PropTypes.array},getInitialState:function(){return{activeRenderer:null,renderer:null}},attachListener:function(e){var t=this;this.detachListener(),e&&(this.queryDataModelChangeSubscription=e.onStateChange(function(e,n){t.forceUpdate()}))},detachListener:function(){this.queryDataModelChangeSubscription&&(this.queryDataModelChangeSubscription.unsubscribe(),this.queryDataModelChangeSubscription=null)},componentWillUpdate:function(e,t){var n=this.state.activeRenderer&&this.state.activeRenderer.builder&&this.state.activeRenderer.builder.queryDataModel?this.state.activeRenderer.builder.queryDataModel:this.props.queryDataModel,r=t.activeRenderer&&t.activeRenderer.builder&&t.activeRenderer.builder.queryDataModel?t.activeRenderer.builder.queryDataModel:e.queryDataModel;n!==r&&(this.detachListener(),this.attachListener(r))},componentWillUnmount:function(){this.detachListener(),this.activeViewportSubscription&&(this.activeViewportSubscription.unsubscribe(),this.activeViewportSubscription=null)},componentDidMount:function(){var e=this,t=this.refs.catalystWidget.getRenderer();this.setState({renderer:t}),this.activeViewportSubscription=t.onActiveViewportChange(function(t,n){e.setState({activeRenderer:e.props.renderers[t.name]})})},render:function(){var e=this.state.activeRenderer&&this.state.activeRenderer.builder&&this.state.activeRenderer.builder.queryDataModel?this.state.activeRenderer.builder.queryDataModel:this.props.queryDataModel,t=[];return this.state.activeRenderer&&(t=p["default"].getWidgets(this.state.activeRenderer.builder||this.state.activeRenderer.painter)),this.props.menuAddOn&&(t=this.props.menuAddOn.concat(t)),u["default"].createElement(i["default"],{ref:"catalystWidget",queryDataModel:e,renderers:this.props.renderers,renderer:"MultiViewRenderer",layout:this.props.layout},u["default"].createElement(s["default"],{renderer:this.state.renderer}),t)}})},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(32),i=r(o),a=n(96),s=r(a),l=n(15),u=r(l),c=n(61),p=r(c),d=n(99),f=r(d),h=n(65),g=r(h),m=n(2),v=r(m),b=n(12),y=r(b);n(104),n(103);var _={XY:[0,1,2],ZY:[2,1,0],XZ:[0,2,1]},x=["x","y","z"];t["default"]=v["default"].createClass({displayName:"Probe3D",propTypes:{queryDataModel:v["default"].PropTypes.object.isRequired,imageBuilder:v["default"].PropTypes.object.isRequired,probe:v["default"].PropTypes.bool},componentWillMount:function(){var e=this,t=this.props.queryDataModel,n=this.props.imageBuilder;this.dragChartFlag=!1,this.queryDataModelDataSubscription=t.onDataChange(function(t,r){e.setState({chartData:n.getProbeLine(e.liveChartAxis)})}),n.setRenderMethodMutable(),this.renderMethodChangeSubscription=n.onRenderMethodChange(function(t,n){e.state.chartVisible&&e.validateChartAxis()}),n.setProbeLineNotification(!0),this.chartListenerSubscription=n.onProbeLineReady(function(t,n){var r=t[x[e.liveChartAxis]];e.setState({chartData:r})}),this.probeListenerSubscription=n.onProbeChange(function(t,n){e.setState({probe:t})})},componentDidUpdate:function(){this.state.chartVisible&&this.refs.chartViewer.updateDimensions()},componentWillUnmount:function(){this.queryDataModelDataSubscription&&(this.queryDataModelDataSubscription.unsubscribe(),this.queryDataModelDataSubscription=null),this.renderMethodChangeSubscription&&(this.renderMethodChangeSubscription.unsubscribe(),this.renderMethodChangeSubscription=null),this.chartListenerSubscription&&(this.chartListenerSubscription.unsubscribe(),this.chartListenerSubscription=null),this.probeListenerSubscription&&(this.probeListenerSubscription.unsubscribe(),this.probeListenerSubscription=null)},getInitialState:function(){return{probe:[this.props.imageBuilder.getProbe()[0],this.props.imageBuilder.getProbe()[1],this.props.imageBuilder.getProbe()[2]],chartVisible:!1,chartSize:{width:300,height:300},chartData:{xRange:[0,1],fields:[]},chartAxis:0}},getDefaultProps:function(){return{probe:!0}},validateChartAxis:function(){var e=this.props.imageBuilder.getRenderMethod(),t="XYZ"[this.liveChartAxis];if(-1===e.indexOf(t)){var n=this.props.imageBuilder.getProbeLine(t);t="XYZ".indexOf(e[0]),this.liveChartAxis=t,this.setState({chartAxis:t,chartData:n})}},onChartVisibilityChange:function(e){e&&this.validateChartAxis(),this.setState({chartVisible:e})},updateChart:function(e){var t=Number(e.target.getAttribute("data-index")),n=this.props.imageBuilder,r=n.getProbeLine(t);this.liveChartAxis=t,this.setState({chartData:r,chartAxis:t})},dragOn:function(e){var t=y["default"].findDOMNode(this.refs.chartContainer),n=Number(t.style.top.replace("px","")),r=Number(t.style.left.replace("px",""));this.dragChartFlag=!0,this.dragPosition=[e.clientX-r,e.clientY-n]},dragOff:function(){this.dragChartFlag=!1},dragChart:function(e){if(this.dragChartFlag){var t=y["default"].findDOMNode(this.refs.chartContainer);t.style.left=e.clientX-this.dragPosition[0]+"px",t.style.top=e.clientY-this.dragPosition[1]+"px"}},render:function(){var e=this,t=this.props.queryDataModel,n=this.props.imageBuilder,r=n.metadata.dimensions,o=_[this.props.imageBuilder.getRenderMethod()],a=[];return[0,1,2].forEach(function(t){var n=[];o[2]===t?n.push("is-hidden"):e.state.chartAxis===t&&n.push("is-selected"),a.push(n.join(" "))}),v["default"].createElement("div",{className:"ProbeViewer"},v["default"].createElement(i["default"],{queryDataModel:t,imageBuilder:n,mouseListener:n.getListeners()},v["default"].createElement(p["default"],{key:"LookupTableManagerWidget",ref:"LookupTableManagerWidget",lookupTableManager:n.lookupTableManager,field:n.getField()}),v["default"].createElement(f["default"],{ref:"ProbeControl",imageBuilder:n}),v["default"].createElement(u["default"],{ref:"chartCollapsable",title:"Chart",visible:this.props.probe&&n.isCrossHairEnabled(),onChange:this.onChartVisibilityChange,open:this.state.chartVisible},v["default"].createElement("div",{ref:"chartButtons",className:"CatalystWidget__item-row l-m-t2"},v["default"].createElement("button",{className:a[0],type:"button","data-index":"0",onClick:this.updateChart},"X"),v["default"].createElement("button",{className:a[1],type:"button","data-index":"1",onClick:this.updateChart},"Y"),v["default"].createElement("button",{className:a[2],type:"button","data-index":"2",onClick:this.updateChart},"Z"))),v["default"].createElement(u["default"],{ref:"queryDataModelParameters",title:"Parameters",visible:t.originalData.arguments_order.length>0},v["default"].createElement(g["default"],{model:t}))),v["default"].createElement("div",{ref:"chartContainer",className:this.state.chartVisible&&n.isCrossHairEnabled()?"ChartContainer":"ChartContainer is-hidden",onMouseMove:this.dragChart,onMouseUp:this.dragOff,onMouseDown:this.dragOn},v["default"].createElement(s["default"],{ref:"chartViewer",cursor:this.state.probe[this.state.chartAxis]/r[this.state.chartAxis],data:this.state.chartData,width:this.state.chartSize.width,height:this.state.chartSize.height})))}})},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(2),i=r(o);n(257),t["default"]=i["default"].createClass({displayName:"ButtonSelector",propTypes:{list:i["default"].PropTypes.array.isRequired,onChange:i["default"].PropTypes.func},processItem:function(e){var t=e.target.name,n=this.props.list,r=n.length;if(this.props.onChange)for(;r--;)n[r].name===t&&this.props.onChange(r,n)},render:function(){var e=this,t=[];return this.props.list.forEach(function(n){t.push(i["default"].createElement("button",{key:n.name,name:n.name,onClick:e.processItem},n.name))}),i["default"].createElement("section",{className:"ButtonSelector"},t)}})},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(2),i=r(o),a=n(12),s=r(a),l=n(278),u=r(l);n(259),t["default"]=i["default"].createClass({displayName:"ColorPicker",propTypes:{color:i["default"].PropTypes.array,swatch:i["default"].PropTypes.string},getInitialState:function(){return this.image=new Image,this.image.src=this.props.swatch,{swatch:this.props.swatch,color:this.props.color,preview:!1,originalColor:[this.props.color[0],this.props.color[1],this.props.color[2]]}},getDefaultProps:function(){return{color:[0,0,0],swatch:u["default"]}},showColor:function(e){e.preventDefault();var t=this.state.originalColor,n=s["default"].findDOMNode(this.refs.canvas).getContext("2d");if("mouseleave"===e.type)return n.fillStyle="rgb("+t.join(",")+")",n.fillRect(0,0,1,1),void this.setState({color:[t[0],t[1],t[2]],preview:!1});var r=s["default"].findDOMNode(this.refs.swatch),o=r.getBoundingClientRect();console.log(o,o.width,o.top);var i=this.image.width/o.width,a=i*(e.pageX-o.left),l=i*(e.pageY-o.top);n.drawImage(r,a,l,1,1,0,0,1,1),t=n.getImageData(0,0,1,1).data,"click"===e.type?(this.setState({color:[t[0],t[1],t[2]],preview:!1}),this.props.onChange&&this.props.onChange(t)):this.setState({color:[t[0],t[1],t[2]],preview:!0})},rgbColorChange:function(e){var t=this.state.color,n=e.target.value,r=Number(e.target.dataset.colorIdx);t[r]=n;var o=s["default"].findDOMNode(this.refs.canvas).getContext("2d");o.fillStyle="rgb("+t.join(",")+")",o.fillRect(0,0,1,1),this.setState({color:[t[0],t[1],t[2]],preview:!1}),this.props.onChange&&this.props.onChange(t)},componentDidMount:function(){var e=s["default"].findDOMNode(this.refs.canvas).getContext("2d");e.fillStyle="rgb("+this.state.originalColor.join(",")+")",e.fillRect(0,0,1,1)},componentDidUpdate:function(e,t){if((e.color[0]!==this.props.color[0]||e.color[1]!==this.props.color[1]||e.color[2]!==this.props.color[2])&&this.setState({originalColor:this.props.color}),!this.state.preview){var n=s["default"].findDOMNode(this.refs.canvas).getContext("2d");n.fillStyle="rgb("+this.state.originalColor.join(",")+")",n.fillRect(0,0,1,1)}},updateColor:function(e){this.setState({originalColor:e})},updateSwatch:function(e){this.image.src=e,this.setState({swatch:e})},render:function(){return i["default"].createElement("div",{className:"ColorPicker"},i["default"].createElement("div",{className:"ColorPicker__color"},i["default"].createElement("canvas",{ref:"canvas",width:"1",height:"1"}),i["default"].createElement("input",{type:"number",min:"0",max:"255",value:this.state.color[0],"data-color-idx":"0",onChange:this.rgbColorChange}),i["default"].createElement("input",{type:"number",min:"0",max:"255",value:this.state.color[1],"data-color-idx":"1",onChange:this.rgbColorChange}),i["default"].createElement("input",{type:"number",min:"0",max:"255",value:this.state.color[2],"data-color-idx":"2",onChange:this.rgbColorChange})),i["default"].createElement("div",{className:"ColorPicker__swatch"},i["default"].createElement("img",{ref:"swatch",width:"100%",src:this.state.swatch,onClick:this.showColor,onMouseMove:this.showColor,onMouseLeave:this.showColor})))}})},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(2),i=r(o);t["default"]=i["default"].createClass({displayName:"ChildItem",toggleActiveLayer:function(e){this.props.model.toggleLayerActive(this.props.layer)},updateOpacity:function(e){this.props.model.setOpacity(this.props.layer,e.target.value),this.forceUpdate()},render:function(){var e=this.props.model.isLayerInEditMode(this.props.layer),t=this.props.model.isLayerActive(this.props.layer),n=!t&&!e,r=this.props.model.hasOpacity();return i["default"].createElement("div",{className:"CompositePipeline_item "+(n?"is-hidden":"")},i["default"].createElement("i",{className:e?t?"fa fa-fw fa-check is-action":"fa fa-fw fa-times":"fa fa-fw fa-times is-fade",onClick:this.toggleActiveLayer}),i["default"].createElement("div",{className:"CompositePipeline_item-label"},this.props.item.name),i["default"].createElement("input",{className:r?"CompositePipeline_item-opacity":"CompositePipeline_item-opacity-hidden",type:"range",min:"0",max:"100",value:this.props.model.getOpacity(this.props.layer),onChange:this.updateOpacity}))}})},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(203),i=r(o),a=n(2),s=r(a);t["default"]=s["default"].createClass({displayName:"RootItem",getInitialState:function(){return{dropDown:!1}},toggleVisibility:function(){this.props.model.toggleLayerVisible(this.props.layer)},toggleDropDown:function(){this.props.model.getColor(this.props.layer).length>1&&this.setState({dropDown:!this.state.dropDown})},updateColorBy:function(e){this.props.model.setActiveColor(this.props.layer,e.target.dataset.color),this.toggleDropDown()},toggleEditMode:function(){this.props.model.toggleEditMode(this.props.layer)},updateOpacity:function(e){this.props.model.setOpacity(this.props.layer,e.target.value),this.forceUpdate()},render:function(){var e=this.props.model,t=this.props.layer,n=e.isLayerVisible(this.props.layer),r=this.props.item.children||[],o=this.props.model.isLayerInEditMode(this.props.layer),a=r.length>0,l=e.hasOpacity(),u=this.props.model.getColor(this.props.layer).length>1,c=a?s["default"].createElement("i",{className:"fa fa-fw fa-pencil "+(o?"":"is-fade"),onClick:this.toggleEditMode}):"";return s["default"].createElement("div",{className:"CompositePipeline_section"},s["default"].createElement("div",{className:"CompositePipeline_item"},s["default"].createElement("div",{className:"CompositePipeline_item-label"},this.props.item.name),s["default"].createElement("div",{className:"CompositePipeline_item-actions"},c,s["default"].createElement("i",{className:"fa fa-fw fa-eye"+(n?"":"-slash"),onClick:this.toggleVisibility}),s["default"].createElement("i",{className:"fa fa-fw fa-tint "+(u?"":"is-fade"),onClick:this.toggleDropDown}),s["default"].createElement("div",{onClick:this.updateColorBy,className:"CompositePipeline_item-colorBy_menu "+(this.state.dropDown?"":"is-hidden")},e.getColor(t).map(function(n){return s["default"].createElement("div",{key:n,"data-color":n,className:"CompositePipeline_item-colorBy_item "+(e.isActiveColor(t,n)?" is-selected":"")},e.getColorToLabel(n))})))),s["default"].createElement("div",{className:l&&!a?"CompositePipeline_item":"is-hidden"},s["default"].createElement("input",{className:"CompositePipeline_item-opacity",type:"range",min:"0",max:"100",value:e.getOpacity(t),onChange:this.updateOpacity})),s["default"].createElement("div",{className:"CompositePipeline_children"},r.map(function(t,n){return s["default"].createElement(i["default"],{key:n,item:t,layer:t.ids.join(""),model:e})})))}})},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(2),i=r(o),a=n(12),s=r(a);t["default"]=i["default"].createClass({displayName:"ContentEditable",propTypes:{html:i["default"].PropTypes.string,onChange:i["default"].PropTypes.func},shouldComponentUpdate:function(e){return e.html!==s["default"].findDOMNode(this).innerHTML},componentDidUpdate:function(){this.props.html!==s["default"].findDOMNode(this).innerHTML&&(s["default"].findDOMNode(this).innerHTML=this.props.html)},emitChange:function(e){var t=s["default"].findDOMNode(this).innerHTML;this.props.onChange&&t!==this.lastHtml&&(e.target={value:t},this.props.onChange(e)),this.lastHtml=t},render:function(){return i["default"].createElement("div",{className:"ContentEditable",onInput:this.emitChange,onBlur:this.emitChange,contentEditable:!0,dangerouslySetInnerHTML:{__html:this.props.html}})}})},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(73),i=r(o),a=n(43),s=r(a),l=n(2),u=r(l),c=n(12),p=r(c);n(261),t["default"]=u["default"].createClass({displayName:"CoordinateControl",propTypes:{width:u["default"].PropTypes.number,height:u["default"].PropTypes.number,x:u["default"].PropTypes.number,y:u["default"].PropTypes.number,hideXY:u["default"].PropTypes.bool,onChange:u["default"].PropTypes.func},getInitialState:function(){return{x:this.props.x,y:this.props.y}},getDefaultProps:function(){return{width:50,height:50,x:0,y:0}},coordinates:function(){return{x:this.state.x,y:this.state.y}},updateCoordinates:function(e){var t=this,n={},r=!1;["x","y"].forEach(function(o){e.hasOwnProperty(o)&&(n[o]=t.limitValue(parseFloat(e[o])),r=!0)}),r&&this.setState(n)},componentDidMount:function(){this.drawControl(),this.mouseHandler=new s["default"](p["default"].findDOMNode(this.refs.canvas)),this.mouseHandler.attach({click:this.pointerAction,mousedown:this.pointerAction,mouseup:this.pointerAction,drag:this.pointerAction})},componentDidUpdate:function(e,t){this.drawControl()},componentWillUnmount:function(){this.mouseHandler.destroy()},limitValue:function(e){return Math.max(-1,Math.min(e,1))},updateX:function(e){var t=parseFloat(e.target.value);this.setState({x:t})},updateY:function(e){var t=parseFloat(e.target.value);this.setState({y:t})},pointerAction:function(e){var t=p["default"].findDOMNode(this.refs.canvas).getBoundingClientRect(),n=e.pointers[0].clientX-t.left-this.props.width/2,r=-(e.pointers[0].clientY-t.top-this.props.height/2);this.setState({x:this.limitValue(n/(this.props.width/2)),y:this.limitValue(r/(this.props.height/2))})},drawControl:function(){var e=p["default"].findDOMNode(this.refs.canvas).getContext("2d"),t=e.canvas.height,n=e.canvas.width;if(e.clearRect(0,0,n,t),this.drawPlus("lightgrey"),this.drawPlus("black",{x:this.state.x*(this.props.width/2),y:-this.state.y*(this.props.height/2)}),this.props.onChange){var r={x:this.state.x,y:this.state.y};(0,i["default"])(r,this.lastSharedState)||(this.lastSharedState=r,this.props.onChange(this.lastSharedState))}},drawPlus:function(e,t){var n=p["default"].findDOMNode(this.refs.canvas).getContext("2d"),r=n.canvas.height,o=n.canvas.width,i=5;void 0===t?t={x:o/2,y:r/2}:(t.x+=this.props.width/2,t.y+=this.props.height/2),n.beginPath(),n.lineWidth=2,n.strokeStyle=e,n.moveTo(t.x,t.y-i),n.lineTo(t.x,t.y+i),n.stroke(),n.moveTo(t.x-i,t.y),n.lineTo(t.x+i,t.y),n.stroke()},render:function(){return u["default"].createElement("section",{className:"CoordinateControl"},u["default"].createElement("canvas",{ref:"canvas",className:"canvas",width:this.props.width,height:this.props.height}),u["default"].createElement("section",{className:"inputs "+(this.props.hideXY?"is-hidden":"")},u["default"].createElement("label",null," x: "),u["default"].createElement("input",{type:"number",onChange:this.updateX,min:"-1.0",max:"1.0",step:"0.01",value:this.state.x}),u["default"].createElement("br",null),u["default"].createElement("label",null," y: "),u["default"].createElement("input",{type:"number",onChange:this.updateY,min:"-1.0",max:"1.0",step:"0.01",value:this.state.y})))}})},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(2),i=r(o);t["default"]=i["default"].createClass({displayName:"LayerItem",propTypes:{item:i["default"].PropTypes.object.isRequired,model:i["default"].PropTypes.object.isRequired},getInitialState:function(){return{change:!1,dropDown:!1}},toggleMesh:function(){this.props.item.hasMesh&&(this.props.model.updateMaskLayerVisibility(this.props.item.name,!this.props.item.meshActive),this.setState({change:!this.state.change}))},toggleVisibility:function(){this.props.model.updateLayerVisibility(this.props.item.name,!this.props.item.active),this.setState({change:!this.state.change})},toggleDropDown:function(){this.props.item.arrays.length>1&&this.setState({dropDown:!this.state.dropDown})},updateColorBy:function(e){this.props.model.updateLayerColorBy(this.props.item.name,e.target.dataset.color),this.toggleDropDown()},render:function(){var e=(this.props.model,this.props.item),t=e.active,n=e.meshActive,r=e.hasMesh,o=e.arrays.length>1;return i["default"].createElement("div",{className:"FloatImageControl_item"},i["default"].createElement("div",{className:"FloatImageControl_item-label"},e.name),i["default"].createElement("div",{className:"FloatImageControl_item-actions"},i["default"].createElement("i",{className:(r?"":"is-hidden ")+(n?"":"fa-fw is-fade"),onClick:this.toggleMesh},"#"),i["default"].createElement("i",{className:"fa fa-fw fa-eye"+(t?"":"-slash"),onClick:this.toggleVisibility}),i["default"].createElement("i",{className:"fa fa-fw fa-tint "+(o?"":"is-fade"),onClick:this.toggleDropDown}),i["default"].createElement("div",{onClick:this.updateColorBy,className:"FloatImageControl_item-colorBy_menu "+(this.state.dropDown?"":"is-hidden")},e.arrays.map(function(t){return i["default"].createElement("div",{key:t,"data-color":t,className:"FloatImageControl_item-colorBy_item "+(t===e.array?" is-selected":"")},t)}))))}})},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(15),i=r(o),a=n(207),s=r(a),l=n(64),u=r(l),c=n(2),p=r(c);n(263),t["default"]=p["default"].createClass({displayName:"FloatImageControl",propTypes:{model:p["default"].PropTypes.object.isRequired},getInitialState:function(){return this.attachListener(this.props.model),{change:!1,x:this.props.model.dimensions[0]/2,y:this.props.model.dimensions[1]/2}},attachListener:function(e){var t=this;this.changeSubscription=e.onProbeChange(function(e,n){t.forceUpdate()})},detachListener:function(){this.changeSubscription&&(this.changeSubscription.unsubscribe(),this.changeSubscription=null)},componentWillReceiveProps:function(e){var t=this.props.model,n=e.model;t!==n&&(this.detachListener(),this.attachListener(n),this.setState({change:!this.state.change}))},updateLight:function(e){this.props.model.setLight(255-e.target.value),this.setState({change:!this.state.change})},onProbeChange:function(e){var t=e.target.name,n=Number(e.target.value),r={x:this.state.x,y:this.state.y};r[t]=n,this.setState(r),this.props.model.getTimeChart(r.x,r.y)},toggleProbe:function(e){this.props.model.getTimeProbe().enabled=!!e,this.props.model.getTimeProbe().enabled&&this.props.model.getTimeChart(),this.setState({change:!this.state.change}),this.props.model.getTimeProbe().triggerChange(),this.props.model.render()},render:function(){var e=this.props.model,t=e.getTimeProbe(),n=e.dimensions[0],r=e.dimensions[1];return p["default"].createElement("div",{className:"FloatImageControl"},p["default"].createElement(i["default"],{title:"Scene"},e.getLayers().map(function(t,n){return p["default"].createElement(s["default"],{key:n,item:t,model:e})}),p["default"].createElement("div",{className:"FloatImageControl_item"},p["default"].createElement("div",{className:"FloatImageControl_item-label"},"Light"),p["default"].createElement("div",{className:"FloatImageControl_item-actions"},p["default"].createElement("input",{type:"range",min:"0",max:"128",value:255-e.getLight(),onChange:this.updateLight})))),p["default"].createElement(i["default"],{title:"Time probe",open:t.enabled,subtitle:t.enabled?t.value:"",visible:e.isMultiView(),onChange:this.toggleProbe},p["default"].createElement("div",{className:"FloatImageControl_item"},p["default"].createElement("div",{className:"FloatImageControl_item-label"},"X"),p["default"].createElement("div",{className:"FloatImageControl_item-actions"},p["default"].createElement(u["default"],{step:1,min:0,max:n,key:"x",value:this.state.x,name:"x",onChange:this.onProbeChange}))),p["default"].createElement("div",{className:"FloatImageControl_item"},p["default"].createElement("div",{className:"FloatImageControl_item-label"},"Y"),p["default"].createElement("div",{className:"FloatImageControl_item-actions"},p["default"].createElement(u["default"],{step:1,min:0,max:r,key:"y",value:this.state.y,name:"y",onChange:this.onProbeChange})))))}})},function(e,t,n){(function(e){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(15),i=r(o),a=n(206),s=r(a),l=n(66),u=r(l),c=n(63),p=r(c),d=n(2),f=r(d);n(264),t["default"]=f["default"].createClass({displayName:"LightProperties",propTypes:{light:f["default"].PropTypes.object.isRequired},getInitialState:function(){return this.props.light.getLightProperties().lightTerms},onLightTermsChange:function(t,n){var r=this,o={};o[n]=t,this.setState(o),e(function(){r.props.light.setLightProperties({lightTerms:o})})},onLightPositionChange:function(e){this.props.light.setLightProperties({lightPosition:e})},toggleLight:function(e){this.props.light.setLightingEnabled(e)},render:function(){var e=f["default"].createElement(u["default"],{key:"enable-light-button",onChange:this.toggleLight,value:this.props.light.getLightingEnabled()});return f["default"].createElement(i["default"],{title:"Light Properties",subtitle:e},f["default"].createElement("section",{className:"LightProperties__container"},f["default"].createElement(s["default"],{onChange:this.onLightPositionChange,width:114,height:114,hideXY:!0}),f["default"].createElement("section",{className:"LightProperties__controls"},f["default"].createElement("div",{className:"LightProperties__inputRow"},f["default"].createElement("label",null,"Ambient"),f["default"].createElement(p["default"],{classes:["LightProperty"],step:.05,min:0,max:1,key:"ka",value:this.state.ka,name:"ka",onChange:this.onLightTermsChange})),f["default"].createElement("div",{className:"LightProperties__inputRow"},f["default"].createElement("label",null,"Diffuse"),f["default"].createElement(p["default"],{classes:["LightProperty"],step:.05,min:0,max:1,key:"kd",value:this.state.kd,name:"kd",onChange:this.onLightTermsChange})),f["default"].createElement("div",{className:"LightProperties__inputRow"},f["default"].createElement("label",null,"Specular"),f["default"].createElement(p["default"],{classes:["LightProperty"],step:.05,min:0,max:1,key:"ks",value:this.state.ks,name:"ks",onChange:this.onLightTermsChange})),f["default"].createElement("div",{className:"LightProperties__inputRow"},f["default"].createElement("label",null,"Alpha"),f["default"].createElement(p["default"],{classes:["LightProperty"],step:1,min:0,max:100,key:"alpha",value:this.state.alpha,name:"alpha",onChange:this.onLightTermsChange})))))}})}).call(t,n(23).setImmediate)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(2),i=r(o);t["default"]=i["default"].createClass({displayName:"Dropdown",getInitialState:function(){return{open:!1,field:this.props.field||this.props.fields[0]}},toggleDropdown:function(){this.setState({open:!this.state.open})},setField:function(e){this.setState({field:e.target.innerHTML}),this.props.onChange(e.target.innerHTML)},getField:function(e){return this.state.field},render:function(){var e=this;return i["default"].createElement("div",{className:"Dropdown",onClick:this.toggleDropdown},this.state.field,i["default"].createElement("ul",{className:this.state.open?"":"is-hidden"},this.props.fields.map(function(t){return"__internal"===t?void 0:t===e.state.field?i["default"].createElement("li",{key:t,onClick:e.setField},i["default"].createElement("strong",null,t)):i["default"].createElement("li",{key:t,onClick:e.setField},t)})))}})},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(2),i=r(o);t["default"]=i["default"].createClass({displayName:"Layouts",onLayoutChange:function(e){var t=e.currentTarget.getAttribute("name");
this.props.onChange&&this.props.onChange(t)},render:function(){return i["default"].createElement("section",null,i["default"].createElement("table",{name:"2x2",onClick:this.onLayoutChange},i["default"].createElement("tbody",null,i["default"].createElement("tr",null,i["default"].createElement("td",null),i["default"].createElement("td",null)),i["default"].createElement("tr",null,i["default"].createElement("td",null),i["default"].createElement("td",null)))),i["default"].createElement("table",{name:"1x2",onClick:this.onLayoutChange},i["default"].createElement("tbody",null,i["default"].createElement("tr",null,i["default"].createElement("td",null)),i["default"].createElement("tr",null,i["default"].createElement("td",null)))),i["default"].createElement("table",{name:"2x1",onClick:this.onLayoutChange},i["default"].createElement("tbody",null,i["default"].createElement("tr",null,i["default"].createElement("td",null),i["default"].createElement("td",null)))),i["default"].createElement("table",{name:"1x1",onClick:this.onLayoutChange},i["default"].createElement("tbody",null,i["default"].createElement("tr",null,i["default"].createElement("td",null)))),i["default"].createElement("table",{name:"3xL",onClick:this.onLayoutChange},i["default"].createElement("tbody",null,i["default"].createElement("tr",null,i["default"].createElement("td",{rowSpan:"2"}),i["default"].createElement("td",null)),i["default"].createElement("tr",null,i["default"].createElement("td",null)))),i["default"].createElement("table",{name:"3xT",onClick:this.onLayoutChange},i["default"].createElement("tbody",null,i["default"].createElement("tr",null,i["default"].createElement("td",{colSpan:"2"})),i["default"].createElement("tr",null,i["default"].createElement("td",null),i["default"].createElement("td",null)))),i["default"].createElement("table",{name:"3xR",onClick:this.onLayoutChange},i["default"].createElement("tbody",null,i["default"].createElement("tr",null,i["default"].createElement("td",null),i["default"].createElement("td",{rowSpan:"2"})),i["default"].createElement("tr",null,i["default"].createElement("td",null)))),i["default"].createElement("table",{name:"3xB",onClick:this.onLayoutChange},i["default"].createElement("tbody",null,i["default"].createElement("tr",null,i["default"].createElement("td",null),i["default"].createElement("td",null)),i["default"].createElement("tr",null,i["default"].createElement("td",{colSpan:"2"})))))}})},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(15),i=r(o),a=n(211),s=r(a),l=n(2),u=r(l);n(266),t["default"]=u["default"].createClass({displayName:"MultiViewControl",propTypes:{renderer:u["default"].PropTypes.object},getInitialState:function(){return{renderMethod:"",layout:""}},onLayoutChange:function(e){this.props.renderer.setLayout(e)},onRenderMethodChange:function(e){var t=e.target.value;this.props.renderer.setRenderMethod(t)},onLayoutChangeCallback:function(e,t){this.setState({layout:e})},onActiveViewportCallback:function(e,t){this.setState({renderMethod:e.name})},componentWillReceiveProps:function(e){if(!this.props.renderer&&e.renderer){var t=e.renderer;this.layoutSubscription=t.onLayoutChange(this.onLayoutChangeCallback),this.renderMethodSubscription=t.onActiveViewportChange(this.onActiveViewportCallback),this.setState({renderMethod:t.getActiveRenderMethod(),layout:t.getActiveLayout()})}},componentWillUnmount:function(){this.layoutSubscription&&(this.layoutSubscription.unsubscribe(),this.layoutSubscription=null),this.renderMethodSubscription&&(this.renderMethodSubscription.unsubscribe(),this.renderMethodSubscription=null)},render:function(){var e=this.props.renderer,t=[];return e&&e.getRenderMethods().map(function(e){t.push(u["default"].createElement("option",{key:e,value:e},e))}),u["default"].createElement("div",{className:"MultiViewRendererControl"},u["default"].createElement(i["default"],{title:"Layout"},u["default"].createElement(s["default"],{onChange:this.onLayoutChange})),u["default"].createElement(i["default"],{title:"Viewport"},u["default"].createElement("select",{style:{width:"100%"},ref:"select",value:this.state.renderMethod,onChange:this.onRenderMethodChange},t)))}})},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(44),i=r(o),a=n(45),s=r(a),l=n(2),u=r(l),c=n(12),p=r(c);t["default"]=u["default"].createClass({displayName:"Number",mixins:[i["default"],s["default"]],propTypes:{model:u["default"].PropTypes.object.isRequired},getInitialState:function(){return{slider:!1,advanced:!1,button:!1}},previous:function(){this.props.model.previous(this.props.arg)&&(this.props.model.lazyFetchData(),p["default"].findDOMNode(this.refs.slider).focus())},next:function(){this.props.model.next(this.props.arg)&&(this.props.model.lazyFetchData(),p["default"].findDOMNode(this.refs.slider).focus())},first:function(){this.props.model.first(this.props.arg)&&(this.props.model.lazyFetchData(),p["default"].findDOMNode(this.refs.slider).focus())},last:function(){this.props.model.last(this.props.arg)&&(this.props.model.lazyFetchData(),p["default"].findDOMNode(this.refs.slider).focus())},onIndexChange:function(e){this.props.model.setIndex(this.props.arg,Number(e.target.value))&&this.props.model.lazyFetchData()},updateMode:function(e){this.state.advanced!==e.altKey&&this.setState({advanced:e.altKey})},resetState:function(e){this.setState({advanced:!1})},enableButtons:function(e){this.setState({button:!0}),p["default"].findDOMNode(this.refs.slider).focus()},disableButtons:function(){this.setState({button:!1,advanced:!1})},grabFocus:function(){p["default"].findDOMNode(this.refs.slider).focus()},toggleAnimation:function(){this.props.model.toggleAnimationFlag(this.props.arg),this.setState({})},render:function(){return u["default"].createElement("div",{className:(this.props.model.getAnimationFlag(this.props.arg)?"is-active ":"")+"QueryDataModelWidget__item",onKeyDown:this.updateMode,onKeyUp:this.resetState,onMouseLeave:this.disableButtons},u["default"].createElement("div",{className:"QueryDataModelWidget__item-row"},u["default"].createElement("div",{className:"QueryDataModelWidget__item-label",onClick:this.toggleAnimation},this.props.model.label(this.props.arg)),u["default"].createElement("div",{className:"mobile-only"},this.props.model.getValue(this.props.arg)),u["default"].createElement("div",{className:"QueryDataModelWidget__item-control non-mobile",onMouseEnter:this.enableButtons,onMouseLeave:this.disableButtons},u["default"].createElement("div",{className:this.state.button?"is-hidden ":""},this.props.model.getValue(this.props.arg)),u["default"].createElement("i",{className:(this.state.advanced?"fa-step-backward":"fa-minus")+(this.state.button?"":" is-hidden ")+" fa",onClick:this.state.advanced?this.first:this.previous}),u["default"].createElement("i",{className:(this.state.advanced?"fa-step-forward":"fa-plus")+(this.state.button?"":" is-hidden ")+" fa",onClick:this.state.advanced?this.last:this.next}))),u["default"].createElement("div",{className:"QueryDataModelWidget__item-row mobile-only"},u["default"].createElement("div",{className:"QueryDataModelWidget__item-control"},u["default"].createElement("br",null),u["default"].createElement("i",{className:"fa fa-step-backward",onClick:this.first}),u["default"].createElement("i",{className:"fa fa-step-forward",onClick:this.last}),u["default"].createElement("i",{className:"fa fa-minus",onClick:this.previous}),u["default"].createElement("i",{className:"fa fa-plus",onClick:this.next}))),u["default"].createElement("div",{className:"QueryDataModelWidget__item-row"},u["default"].createElement("div",{className:"QueryDataModelWidget__item-slider",onMouseEnter:this.grabFocus},u["default"].createElement("input",{ref:"slider",type:"range",min:"0",max:this.props.model.getSize(this.props.arg)-1,value:this.props.model.getIndex(this.props.arg),onChange:this.onIndexChange}))))}})},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(44),i=r(o),a=n(45),s=r(a),l=n(2),u=r(l),c=n(12),p=r(c);t["default"]=u["default"].createClass({displayName:"String",mixins:[i["default"],s["default"]],handleChange:function(e){this.props.model.setValue(this.props.arg,e.target.value)&&this.props.model.lazyFetchData()},grabFocus:function(){p["default"].findDOMNode(this.refs.select).focus()},toggleAnimation:function(){this.props.model.toggleAnimationFlag(this.props.arg),this.setState({})},render:function(){return u["default"].createElement("div",{className:(this.props.model.getAnimationFlag(this.props.arg)?"is-active ":"")+"QueryDataModelWidget__item"},u["default"].createElement("div",{className:"QueryDataModelWidget__item-row QueryDataModelWidget__item-label",onClick:this.toggleAnimation},this.props.model.label(this.props.arg)),u["default"].createElement("div",{className:"QueryDataModelWidget__item-row",onMouseEnter:this.grabFocus},u["default"].createElement("select",{ref:"select",value:this.props.model.getValue(this.props.arg),onChange:this.handleChange},this.props.model.getValues(this.props.arg).map(function(e){return u["default"].createElement("option",{key:e,value:e},e)}))))}})},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(15),i=r(o),a=n(2),s=r(a),l=n(216),u=r(l);t["default"]=s["default"].createClass({displayName:"PixelOperatorControl",propTypes:{operator:s["default"].PropTypes.object.isRequired},getInitialState:function(){return{operation:this.props.operator.getOperation()}},updateOperation:function(e){this.setState({operation:e}),this.props.operator.setOperation(e)},componentWillReceiveProps:function(e){this.state.operation!==e.operator.getOperation()&&this.setState({operation:e.operator.getOperation()})},render:function(){return s["default"].createElement(i["default"],{title:"Pixel Operation"},s["default"].createElement(u["default"],{value:this.state.operation,onChange:this.updateOperation}))}})},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(2),i=r(o);n(269),t["default"]=i["default"].createClass({displayName:"TextInput",propTypes:{value:i["default"].PropTypes.string,classes:i["default"].PropTypes.array},getInitialState:function(){return{editing:!1,valueRep:this.props.value}},getDefaultProps:function(){return{value:"",classes:[]}},valueChange:function(e){var t=e.target.value;this.setState({editing:!0,valueRep:t})},endEditing:function(){this.setState({editing:!1}),this.props.name?this.props.onChange(this.state.valueRep,this.props.name):this.props.onChange(this.state.valueRep)},render:function(){return i["default"].createElement("div",{className:"TextInput "+this.props.classes.join(" ")},i["default"].createElement("input",{className:"TextInput_entry",type:"text",value:this.state.editing?this.state.valueRep:this.props.value,onChange:this.valueChange,onBlur:this.endEditing}),i["default"].createElement("i",{className:"TextInput_button fa fa-check",style:{color:this.state.editing?"#000":"#ccc"}}))}})},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(15),i=r(o),a=n(97),s=r(a),l=n(66),u=r(l),c=n(62),p=r(c),d=n(63),f=(r(d),n(2)),h=r(f);t["default"]=h["default"].createClass({displayName:"VolumeControl",propTypes:{equalizer:h["default"].PropTypes.object.isRequired,lookupTable:h["default"].PropTypes.object.isRequired,computation:h["default"].PropTypes.object.isRequired},componentWillMount:function(){var e=this;this.equalizerSubscription=this.props.equalizer.onChange(function(){e.forceUpdate()}),this.intensitySubscription=this.props.intensity.onChange(function(){e.forceUpdate()}),this.computationSubscription=this.props.intensity.onChange(function(){e.forceUpdate()})},componentWillUnmount:function(){this.equalizerSubscription&&(this.equalizerSubscription.unsubscribe(),this.equalizerSubscription=null),this.intensitySubscription&&(this.intensitySubscription.unsubscribe(),this.intensitySubscription=null),this.computationSubscription&&(this.computationSubscription.unsubscribe(),this.computationSubscription=null)},render:function(){var e=this.props.equalizer,t=this.props.lookupTable,n=h["default"].createElement(u["default"],{key:"toggle-intensity",onChange:this.props.intensity.toggleState,value:this.props.intensity.getState()}),r=h["default"].createElement(u["default"],{key:"reset",icon:"fa-undo",toggle:!1,onChange:this.props.equalizer.resetOpacities,value:!0}),o=h["default"].createElement(u["default"],{key:"toggle-gpu",icon:"fa-mobile",onChange:this.props.computation.toggleState,value:!this.props.computation.getState()});return h["default"].createElement("div",null,h["default"].createElement(i["default"],{title:"LookupTable",key:"LookupTableWidget_parent",subtitle:n},h["default"].createElement(p["default"],{key:"LookupTableWidget",ref:"LookupTableWidget",originalRange:t.originalRange,lut:t.lookupTable,lutManager:t.lookupTableManager})),h["default"].createElement(i["default"],{title:"Opacity Control",subtitle:[o,r]},h["default"].createElement(s["default"],{ref:"EqualizerWidget",key:"Equalizer",layers:e.getOpacities(),onChange:e.updateOpacities,colors:e.getColors(),spacing:5})))}})},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();Object.defineProperty(t,"__esModule",{value:!0});var a=n(220),s=r(a),l=function(){function e(){var t=arguments.length<=0||void 0===arguments[0]?"image/jpeg":arguments[0],n=arguments.length<=1||void 0===arguments[1]?3:arguments[1];o(this,e),this.format=t,this.padding=n,this.counter=0,this.bgCanvas=null,this.imageToDecode=null}return i(e,[{key:"exportImage",value:function(e){var t=new XMLHttpRequest,n={};if(e.canvas&&e.arguments){for(var r=Number(this.counter++).toString();r.length<this.padding;)r="0"+r;n.arguments=e.arguments,n.image=e.canvas.toDataURL(this.format),n.arguments.__=r,t.open("POST","/export",!0),t.responseType="text",t.setRequestHeader("Content-Type","application/json"),t.onload=function(e){t.response;200===t.status},t.onerror=function(t){console.log("error export",e.arguments)},t.send(JSON.stringify(n))}}},{key:"updateMetadata",value:function(e){-1!==e.image.indexOf("blob:")&&(this.bgCanvas||(this.bgCanvas=new s["default"](100,100)),this.imageToDecode||(this.imageToDecode=new Image),this.imageToDecode.src=e.image,this.bgCanvas.size(this.imageToDecode.width,this.imageToDecode.height),this.bgCanvas.get2DContext().drawImage(this.imageToDecode,0,0),e.image=this.bgCanvas.toDataURL("image/png"));var t=new XMLHttpRequest;t.open("POST","/update",!0),t.responseType="text",t.setRequestHeader("Content-Type","application/json"),t.onload=function(e){t.response;200===t.status},t.onerror=function(e){console.log("error export",data.arguments)},t.send(JSON.stringify(e))}},{key:"extractCanvasRegion",value:function(e,t,n){var r=arguments.length<=3||void 0===arguments[3]?"image/png":arguments[3];return this.bgCanvas||(this.bgCanvas=new s["default"](100,100)),this.bgCanvas.size(n[0],n[1]),this.bgCanvas.get2DContext().drawImage(e,t[0],t[1],t[2],t[3],0,0,n[0],n[1]),this.bgCanvas.toDataURL(r)}}]),e}();t["default"]=l},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();Object.defineProperty(t,"__esModule",{value:!0});var a=n(11),s=r(a),l=function(){function e(){o(this,e)}return i(e,[{key:"destroy",value:function(){this.off()}}]),e}();t["default"]=l,s["default"].mixInto(l)},function(e,t){"use strict";function n(e,t){this.id="CanvasOffscreenBuffer_"+ ++r,this.el=document.createElement("canvas"),this.width=e,this.height=t,this.el.style.display="none",this.el.setAttribute("width",this.width),this.el.setAttribute("height",this.height),document.body.appendChild(this.el)}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=n;var r=0;n.prototype.size=function(e,t){return e&&this.el.setAttribute("width",this.width=e),t&&this.el.setAttribute("height",this.height=t),[Number(this.width),Number(this.height)]},n.prototype.get2DContext=function(){return this.el.getContext("2d")},n.prototype.get3DContext=function(){var e=arguments.length<=0||void 0===arguments[0]?{preserveDrawingBuffer:!0,premultipliedAlpha:!1}:arguments[0];return this.el.getContext("webgl",e)||this.el.getContext("experimental-webgl",e)},n.prototype.destroy=function(){this.el.parentNode.removeChild(this.el),this.el=null,this.width=null,this.height=null},n.prototype.toDataURL=function(e,t){return this.el.toDataURL(e,t)}},function(e,t,n){t=e.exports=n(6)(),t.push([e.id,".ArcticViewer__bar{position:relative;width:100%;background-color:#003b4e;color:#78cdf3;padding-bottom:5px;border-bottom:1px solid #003b4e}.ArcticViewer__bar>img{height:30px;position:relative;top:5px;margin-left:10px}.ArcticViewer__bar>strong{font-size:25px}.ArcticViewer__content{position:relative;width:100vw;height:calc(100vh - 30px)}.DataSetView{padding:20px;display:block;clear:both}.DataSetView__thumbnail{float:left;position:relative;width:250px;height:250px;border:2px solid #888;border-radius:5px;background-position:50% 50%;background-size:250px;background-repeat:no-repeat;margin-right:25px;box-shadow:5px 5px 5px #888;cursor:pointer;text-align:center}.DataSetView__thumbnail>i{font-size:250px}.DataSetView__titleBar{font-size:18px}.DataSetView__titleBar>strong{font-size:25px}.DataSetView__description{padding:25px 25px 0 0;height:200px;overflow:auto}.DataSetView__size,.DataSetView__type{float:right}",""])},function(e,t,n){t=e.exports=n(6)(),t.push([e.id,"/*!\n *  Font Awesome 4.5.0 by @davegandy - http://fontawesome.io - @fontawesome\n *  License - http://fontawesome.io/license (Font: SIL OFL 1.1, CSS: MIT License)\n */@font-face{font-family:FontAwesome;src:url("+n(272)+");src:url("+n(271)+"?#iefix&v=4.5.0) format('embedded-opentype'),url("+n(275)+") format('woff2'),url("+n(276)+") format('woff'),url("+n(274)+") format('truetype'),url("+n(273)+'#fontawesomeregular) format(\'svg\');font-weight:400;font-style:normal}.fa{display:inline-block;font:normal normal normal 14px/1 FontAwesome;font-size:inherit;text-rendering:auto;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}.fa-lg{font-size:1.33333333em;line-height:.75em;vertical-align:-15%}.fa-2x{font-size:2em}.fa-3x{font-size:3em}.fa-4x{font-size:4em}.fa-5x{font-size:5em}.fa-fw{width:1.28571429em;text-align:center}.fa-ul{padding-left:0;margin-left:2.14285714em;list-style-type:none}.fa-ul>li{position:relative}.fa-li{position:absolute;left:-2.14285714em;width:2.14285714em;top:.14285714em;text-align:center}.fa-li.fa-lg{left:-1.85714286em}.fa-border{padding:.2em .25em .15em;border:.08em solid #eee;border-radius:.1em}.fa-pull-left{float:left}.fa-pull-right{float:right}.fa.fa-pull-left{margin-right:.3em}.fa.fa-pull-right{margin-left:.3em}.pull-right{float:right}.pull-left{float:left}.fa.pull-left{margin-right:.3em}.fa.pull-right{margin-left:.3em}.fa-spin{-webkit-animation:fa-spin 2s infinite linear;animation:fa-spin 2s infinite linear}.fa-pulse{-webkit-animation:fa-spin 1s infinite steps(8);animation:fa-spin 1s infinite steps(8)}@-webkit-keyframes fa-spin{0%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}to{-webkit-transform:rotate(359deg);transform:rotate(359deg)}}@keyframes fa-spin{0%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}to{-webkit-transform:rotate(359deg);transform:rotate(359deg)}}.fa-rotate-90{filter:progid:DXImageTransform.Microsoft.BasicImage(rotation=1);-webkit-transform:rotate(90deg);transform:rotate(90deg)}.fa-rotate-180{filter:progid:DXImageTransform.Microsoft.BasicImage(rotation=2);-webkit-transform:rotate(180deg);transform:rotate(180deg)}.fa-rotate-270{filter:progid:DXImageTransform.Microsoft.BasicImage(rotation=3);-webkit-transform:rotate(270deg);transform:rotate(270deg)}.fa-flip-horizontal{filter:progid:DXImageTransform.Microsoft.BasicImage(rotation=0,mirror=1);-webkit-transform:scaleX(-1);transform:scaleX(-1)}.fa-flip-vertical{filter:progid:DXImageTransform.Microsoft.BasicImage(rotation=2,mirror=1);-webkit-transform:scaleY(-1);transform:scaleY(-1)}:root .fa-flip-horizontal,:root .fa-flip-vertical,:root .fa-rotate-90,:root .fa-rotate-180,:root .fa-rotate-270{-webkit-filter:none;filter:none}.fa-stack{position:relative;display:inline-block;width:2em;height:2em;line-height:2em;vertical-align:middle}.fa-stack-1x,.fa-stack-2x{position:absolute;left:0;width:100%;text-align:center}.fa-stack-1x{line-height:inherit}.fa-stack-2x{font-size:2em}.fa-inverse{color:#fff}.fa-glass:before{content:"\\F000"}.fa-music:before{content:"\\F001"}.fa-search:before{content:"\\F002"}.fa-envelope-o:before{content:"\\F003"}.fa-heart:before{content:"\\F004"}.fa-star:before{content:"\\F005"}.fa-star-o:before{content:"\\F006"}.fa-user:before{content:"\\F007"}.fa-film:before{content:"\\F008"}.fa-th-large:before{content:"\\F009"}.fa-th:before{content:"\\F00A"}.fa-th-list:before{content:"\\F00B"}.fa-check:before{content:"\\F00C"}.fa-close:before,.fa-remove:before,.fa-times:before{content:"\\F00D"}.fa-search-plus:before{content:"\\F00E"}.fa-search-minus:before{content:"\\F010"}.fa-power-off:before{content:"\\F011"}.fa-signal:before{content:"\\F012"}.fa-cog:before,.fa-gear:before{content:"\\F013"}.fa-trash-o:before{content:"\\F014"}.fa-home:before{content:"\\F015"}.fa-file-o:before{content:"\\F016"}.fa-clock-o:before{content:"\\F017"}.fa-road:before{content:"\\F018"}.fa-download:before{content:"\\F019"}.fa-arrow-circle-o-down:before{content:"\\F01A"}.fa-arrow-circle-o-up:before{content:"\\F01B"}.fa-inbox:before{content:"\\F01C"}.fa-play-circle-o:before{content:"\\F01D"}.fa-repeat:before,.fa-rotate-right:before{content:"\\F01E"}.fa-refresh:before{content:"\\F021"}.fa-list-alt:before{content:"\\F022"}.fa-lock:before{content:"\\F023"}.fa-flag:before{content:"\\F024"}.fa-headphones:before{content:"\\F025"}.fa-volume-off:before{content:"\\F026"}.fa-volume-down:before{content:"\\F027"}.fa-volume-up:before{content:"\\F028"}.fa-qrcode:before{content:"\\F029"}.fa-barcode:before{content:"\\F02A"}.fa-tag:before{content:"\\F02B"}.fa-tags:before{content:"\\F02C"}.fa-book:before{content:"\\F02D"}.fa-bookmark:before{content:"\\F02E"}.fa-print:before{content:"\\F02F"}.fa-camera:before{content:"\\F030"}.fa-font:before{content:"\\F031"}.fa-bold:before{content:"\\F032"}.fa-italic:before{content:"\\F033"}.fa-text-height:before{content:"\\F034"}.fa-text-width:before{content:"\\F035"}.fa-align-left:before{content:"\\F036"}.fa-align-center:before{content:"\\F037"}.fa-align-right:before{content:"\\F038"}.fa-align-justify:before{content:"\\F039"}.fa-list:before{content:"\\F03A"}.fa-dedent:before,.fa-outdent:before{content:"\\F03B"}.fa-indent:before{content:"\\F03C"}.fa-video-camera:before{content:"\\F03D"}.fa-image:before,.fa-photo:before,.fa-picture-o:before{content:"\\F03E"}.fa-pencil:before{content:"\\F040"}.fa-map-marker:before{content:"\\F041"}.fa-adjust:before{content:"\\F042"}.fa-tint:before{content:"\\F043"}.fa-edit:before,.fa-pencil-square-o:before{content:"\\F044"}.fa-share-square-o:before{content:"\\F045"}.fa-check-square-o:before{content:"\\F046"}.fa-arrows:before{content:"\\F047"}.fa-step-backward:before{content:"\\F048"}.fa-fast-backward:before{content:"\\F049"}.fa-backward:before{content:"\\F04A"}.fa-play:before{content:"\\F04B"}.fa-pause:before{content:"\\F04C"}.fa-stop:before{content:"\\F04D"}.fa-forward:before{content:"\\F04E"}.fa-fast-forward:before{content:"\\F050"}.fa-step-forward:before{content:"\\F051"}.fa-eject:before{content:"\\F052"}.fa-chevron-left:before{content:"\\F053"}.fa-chevron-right:before{content:"\\F054"}.fa-plus-circle:before{content:"\\F055"}.fa-minus-circle:before{content:"\\F056"}.fa-times-circle:before{content:"\\F057"}.fa-check-circle:before{content:"\\F058"}.fa-question-circle:before{content:"\\F059"}.fa-info-circle:before{content:"\\F05A"}.fa-crosshairs:before{content:"\\F05B"}.fa-times-circle-o:before{content:"\\F05C"}.fa-check-circle-o:before{content:"\\F05D"}.fa-ban:before{content:"\\F05E"}.fa-arrow-left:before{content:"\\F060"}.fa-arrow-right:before{content:"\\F061"}.fa-arrow-up:before{content:"\\F062"}.fa-arrow-down:before{content:"\\F063"}.fa-mail-forward:before,.fa-share:before{content:"\\F064"}.fa-expand:before{content:"\\F065"}.fa-compress:before{content:"\\F066"}.fa-plus:before{content:"\\F067"}.fa-minus:before{content:"\\F068"}.fa-asterisk:before{content:"\\F069"}.fa-exclamation-circle:before{content:"\\F06A"}.fa-gift:before{content:"\\F06B"}.fa-leaf:before{content:"\\F06C"}.fa-fire:before{content:"\\F06D"}.fa-eye:before{content:"\\F06E"}.fa-eye-slash:before{content:"\\F070"}.fa-exclamation-triangle:before,.fa-warning:before{content:"\\F071"}.fa-plane:before{content:"\\F072"}.fa-calendar:before{content:"\\F073"}.fa-random:before{content:"\\F074"}.fa-comment:before{content:"\\F075"}.fa-magnet:before{content:"\\F076"}.fa-chevron-up:before{content:"\\F077"}.fa-chevron-down:before{content:"\\F078"}.fa-retweet:before{content:"\\F079"}.fa-shopping-cart:before{content:"\\F07A"}.fa-folder:before{content:"\\F07B"}.fa-folder-open:before{content:"\\F07C"}.fa-arrows-v:before{content:"\\F07D"}.fa-arrows-h:before{content:"\\F07E"}.fa-bar-chart-o:before,.fa-bar-chart:before{content:"\\F080"}.fa-twitter-square:before{content:"\\F081"}.fa-facebook-square:before{content:"\\F082"}.fa-camera-retro:before{content:"\\F083"}.fa-key:before{content:"\\F084"}.fa-cogs:before,.fa-gears:before{content:"\\F085"}.fa-comments:before{content:"\\F086"}.fa-thumbs-o-up:before{content:"\\F087"}.fa-thumbs-o-down:before{content:"\\F088"}.fa-star-half:before{content:"\\F089"}.fa-heart-o:before{content:"\\F08A"}.fa-sign-out:before{content:"\\F08B"}.fa-linkedin-square:before{content:"\\F08C"}.fa-thumb-tack:before{content:"\\F08D"}.fa-external-link:before{content:"\\F08E"}.fa-sign-in:before{content:"\\F090"}.fa-trophy:before{content:"\\F091"}.fa-github-square:before{content:"\\F092"}.fa-upload:before{content:"\\F093"}.fa-lemon-o:before{content:"\\F094"}.fa-phone:before{content:"\\F095"}.fa-square-o:before{content:"\\F096"}.fa-bookmark-o:before{content:"\\F097"}.fa-phone-square:before{content:"\\F098"}.fa-twitter:before{content:"\\F099"}.fa-facebook-f:before,.fa-facebook:before{content:"\\F09A"}.fa-github:before{content:"\\F09B"}.fa-unlock:before{content:"\\F09C"}.fa-credit-card:before{content:"\\F09D"}.fa-feed:before,.fa-rss:before{content:"\\F09E"}.fa-hdd-o:before{content:"\\F0A0"}.fa-bullhorn:before{content:"\\F0A1"}.fa-bell:before{content:"\\F0F3"}.fa-certificate:before{content:"\\F0A3"}.fa-hand-o-right:before{content:"\\F0A4"}.fa-hand-o-left:before{content:"\\F0A5"}.fa-hand-o-up:before{content:"\\F0A6"}.fa-hand-o-down:before{content:"\\F0A7"}.fa-arrow-circle-left:before{content:"\\F0A8"}.fa-arrow-circle-right:before{content:"\\F0A9"}.fa-arrow-circle-up:before{content:"\\F0AA"}.fa-arrow-circle-down:before{content:"\\F0AB"}.fa-globe:before{content:"\\F0AC"}.fa-wrench:before{content:"\\F0AD"}.fa-tasks:before{content:"\\F0AE"}.fa-filter:before{content:"\\F0B0"}.fa-briefcase:before{content:"\\F0B1"}.fa-arrows-alt:before{content:"\\F0B2"}.fa-group:before,.fa-users:before{content:"\\F0C0"}.fa-chain:before,.fa-link:before{content:"\\F0C1"}.fa-cloud:before{content:"\\F0C2"}.fa-flask:before{content:"\\F0C3"}.fa-cut:before,.fa-scissors:before{content:"\\F0C4"}.fa-copy:before,.fa-files-o:before{content:"\\F0C5"}.fa-paperclip:before{content:"\\F0C6"}.fa-floppy-o:before,.fa-save:before{content:"\\F0C7"}.fa-square:before{content:"\\F0C8"}.fa-bars:before,.fa-navicon:before,.fa-reorder:before{content:"\\F0C9"}.fa-list-ul:before{content:"\\F0CA"}.fa-list-ol:before{content:"\\F0CB"}.fa-strikethrough:before{content:"\\F0CC"}.fa-underline:before{content:"\\F0CD"}.fa-table:before{content:"\\F0CE"}.fa-magic:before{content:"\\F0D0"}.fa-truck:before{content:"\\F0D1"}.fa-pinterest:before{content:"\\F0D2"}.fa-pinterest-square:before{content:"\\F0D3"}.fa-google-plus-square:before{content:"\\F0D4"}.fa-google-plus:before{content:"\\F0D5"}.fa-money:before{content:"\\F0D6"}.fa-caret-down:before{content:"\\F0D7"}.fa-caret-up:before{content:"\\F0D8"}.fa-caret-left:before{content:"\\F0D9"}.fa-caret-right:before{content:"\\F0DA"}.fa-columns:before{content:"\\F0DB"}.fa-sort:before,.fa-unsorted:before{content:"\\F0DC"}.fa-sort-desc:before,.fa-sort-down:before{content:"\\F0DD"}.fa-sort-asc:before,.fa-sort-up:before{content:"\\F0DE"}.fa-envelope:before{content:"\\F0E0"}.fa-linkedin:before{content:"\\F0E1"}.fa-rotate-left:before,.fa-undo:before{content:"\\F0E2"}.fa-gavel:before,.fa-legal:before{content:"\\F0E3"}.fa-dashboard:before,.fa-tachometer:before{content:"\\F0E4"}.fa-comment-o:before{content:"\\F0E5"}.fa-comments-o:before{content:"\\F0E6"}.fa-bolt:before,.fa-flash:before{content:"\\F0E7"}.fa-sitemap:before{content:"\\F0E8"}.fa-umbrella:before{content:"\\F0E9"}.fa-clipboard:before,.fa-paste:before{content:"\\F0EA"}.fa-lightbulb-o:before{content:"\\F0EB"}.fa-exchange:before{content:"\\F0EC"}.fa-cloud-download:before{content:"\\F0ED"}.fa-cloud-upload:before{content:"\\F0EE"}.fa-user-md:before{content:"\\F0F0"}.fa-stethoscope:before{content:"\\F0F1"}.fa-suitcase:before{content:"\\F0F2"}.fa-bell-o:before{content:"\\F0A2"}.fa-coffee:before{content:"\\F0F4"}.fa-cutlery:before{content:"\\F0F5"}.fa-file-text-o:before{content:"\\F0F6"}.fa-building-o:before{content:"\\F0F7"}.fa-hospital-o:before{content:"\\F0F8"}.fa-ambulance:before{content:"\\F0F9"}.fa-medkit:before{content:"\\F0FA"}.fa-fighter-jet:before{content:"\\F0FB"}.fa-beer:before{content:"\\F0FC"}.fa-h-square:before{content:"\\F0FD"}.fa-plus-square:before{content:"\\F0FE"}.fa-angle-double-left:before{content:"\\F100"}.fa-angle-double-right:before{content:"\\F101"}.fa-angle-double-up:before{content:"\\F102"}.fa-angle-double-down:before{content:"\\F103"}.fa-angle-left:before{content:"\\F104"}.fa-angle-right:before{content:"\\F105"}.fa-angle-up:before{content:"\\F106"}.fa-angle-down:before{content:"\\F107"}.fa-desktop:before{content:"\\F108"}.fa-laptop:before{content:"\\F109"}.fa-tablet:before{content:"\\F10A"}.fa-mobile-phone:before,.fa-mobile:before{content:"\\F10B"}.fa-circle-o:before{content:"\\F10C"}.fa-quote-left:before{content:"\\F10D"}.fa-quote-right:before{content:"\\F10E"}.fa-spinner:before{content:"\\F110"}.fa-circle:before{content:"\\F111"}.fa-mail-reply:before,.fa-reply:before{content:"\\F112"}.fa-github-alt:before{content:"\\F113"}.fa-folder-o:before{content:"\\F114"}.fa-folder-open-o:before{content:"\\F115"}.fa-smile-o:before{content:"\\F118"}.fa-frown-o:before{content:"\\F119"}.fa-meh-o:before{content:"\\F11A"}.fa-gamepad:before{content:"\\F11B"}.fa-keyboard-o:before{content:"\\F11C"}.fa-flag-o:before{content:"\\F11D"}.fa-flag-checkered:before{content:"\\F11E"}.fa-terminal:before{content:"\\F120"}.fa-code:before{content:"\\F121"}.fa-mail-reply-all:before,.fa-reply-all:before{content:"\\F122"}.fa-star-half-empty:before,.fa-star-half-full:before,.fa-star-half-o:before{content:"\\F123"}.fa-location-arrow:before{content:"\\F124"}.fa-crop:before{content:"\\F125"}.fa-code-fork:before{content:"\\F126"}.fa-chain-broken:before,.fa-unlink:before{content:"\\F127"}.fa-question:before{content:"\\F128"}.fa-info:before{content:"\\F129"}.fa-exclamation:before{content:"\\F12A"}.fa-superscript:before{content:"\\F12B"}.fa-subscript:before{content:"\\F12C"}.fa-eraser:before{content:"\\F12D"}.fa-puzzle-piece:before{content:"\\F12E"}.fa-microphone:before{content:"\\F130"}.fa-microphone-slash:before{content:"\\F131"}.fa-shield:before{content:"\\F132"}.fa-calendar-o:before{content:"\\F133"}.fa-fire-extinguisher:before{content:"\\F134"}.fa-rocket:before{content:"\\F135"}.fa-maxcdn:before{content:"\\F136"}.fa-chevron-circle-left:before{content:"\\F137"}.fa-chevron-circle-right:before{content:"\\F138"}.fa-chevron-circle-up:before{content:"\\F139"}.fa-chevron-circle-down:before{content:"\\F13A"}.fa-html5:before{content:"\\F13B"}.fa-css3:before{content:"\\F13C"}.fa-anchor:before{content:"\\F13D"}.fa-unlock-alt:before{content:"\\F13E"}.fa-bullseye:before{content:"\\F140"}.fa-ellipsis-h:before{content:"\\F141"}.fa-ellipsis-v:before{content:"\\F142"}.fa-rss-square:before{content:"\\F143"}.fa-play-circle:before{content:"\\F144"}.fa-ticket:before{content:"\\F145"}.fa-minus-square:before{content:"\\F146"}.fa-minus-square-o:before{content:"\\F147"}.fa-level-up:before{content:"\\F148"}.fa-level-down:before{content:"\\F149"}.fa-check-square:before{content:"\\F14A"}.fa-pencil-square:before{content:"\\F14B"}.fa-external-link-square:before{content:"\\F14C"}.fa-share-square:before{content:"\\F14D"}.fa-compass:before{content:"\\F14E"}.fa-caret-square-o-down:before,.fa-toggle-down:before{content:"\\F150"}.fa-caret-square-o-up:before,.fa-toggle-up:before{content:"\\F151"}.fa-caret-square-o-right:before,.fa-toggle-right:before{content:"\\F152"}.fa-eur:before,.fa-euro:before{content:"\\F153"}.fa-gbp:before{content:"\\F154"}.fa-dollar:before,.fa-usd:before{content:"\\F155"}.fa-inr:before,.fa-rupee:before{content:"\\F156"}.fa-cny:before,.fa-jpy:before,.fa-rmb:before,.fa-yen:before{content:"\\F157"}.fa-rouble:before,.fa-rub:before,.fa-ruble:before{content:"\\F158"}.fa-krw:before,.fa-won:before{content:"\\F159"}.fa-bitcoin:before,.fa-btc:before{content:"\\F15A"}.fa-file:before{content:"\\F15B"}.fa-file-text:before{content:"\\F15C"}.fa-sort-alpha-asc:before{content:"\\F15D"}.fa-sort-alpha-desc:before{content:"\\F15E"}.fa-sort-amount-asc:before{content:"\\F160"}.fa-sort-amount-desc:before{content:"\\F161"}.fa-sort-numeric-asc:before{content:"\\F162"}.fa-sort-numeric-desc:before{content:"\\F163"}.fa-thumbs-up:before{content:"\\F164"}.fa-thumbs-down:before{content:"\\F165"}.fa-youtube-square:before{content:"\\F166"}.fa-youtube:before{content:"\\F167"}.fa-xing:before{content:"\\F168"}.fa-xing-square:before{content:"\\F169"}.fa-youtube-play:before{content:"\\F16A"}.fa-dropbox:before{content:"\\F16B"}.fa-stack-overflow:before{content:"\\F16C"}.fa-instagram:before{content:"\\F16D"}.fa-flickr:before{content:"\\F16E"}.fa-adn:before{content:"\\F170"}.fa-bitbucket:before{content:"\\F171"}.fa-bitbucket-square:before{content:"\\F172"}.fa-tumblr:before{content:"\\F173"}.fa-tumblr-square:before{content:"\\F174"}.fa-long-arrow-down:before{content:"\\F175"}.fa-long-arrow-up:before{content:"\\F176"}.fa-long-arrow-left:before{content:"\\F177"}.fa-long-arrow-right:before{content:"\\F178"}.fa-apple:before{content:"\\F179"}.fa-windows:before{content:"\\F17A"}.fa-android:before{content:"\\F17B"}.fa-linux:before{content:"\\F17C"}.fa-dribbble:before{content:"\\F17D"}.fa-skype:before{content:"\\F17E"}.fa-foursquare:before{content:"\\F180"}.fa-trello:before{content:"\\F181"}.fa-female:before{content:"\\F182"}.fa-male:before{content:"\\F183"}.fa-gittip:before,.fa-gratipay:before{content:"\\F184"}.fa-sun-o:before{content:"\\F185"}.fa-moon-o:before{content:"\\F186"}.fa-archive:before{content:"\\F187"}.fa-bug:before{content:"\\F188"}.fa-vk:before{content:"\\F189"}.fa-weibo:before{content:"\\F18A"}.fa-renren:before{content:"\\F18B"}.fa-pagelines:before{content:"\\F18C"}.fa-stack-exchange:before{content:"\\F18D"}.fa-arrow-circle-o-right:before{content:"\\F18E"}.fa-arrow-circle-o-left:before{content:"\\F190"}.fa-caret-square-o-left:before,.fa-toggle-left:before{content:"\\F191"}.fa-dot-circle-o:before{content:"\\F192"}.fa-wheelchair:before{content:"\\F193"}.fa-vimeo-square:before{content:"\\F194"}.fa-try:before,.fa-turkish-lira:before{content:"\\F195"}.fa-plus-square-o:before{content:"\\F196"}.fa-space-shuttle:before{content:"\\F197"}.fa-slack:before{content:"\\F198"}.fa-envelope-square:before{content:"\\F199"}.fa-wordpress:before{content:"\\F19A"}.fa-openid:before{content:"\\F19B"}.fa-bank:before,.fa-institution:before,.fa-university:before{content:"\\F19C"}.fa-graduation-cap:before,.fa-mortar-board:before{content:"\\F19D"}.fa-yahoo:before{content:"\\F19E"}.fa-google:before{content:"\\F1A0"}.fa-reddit:before{content:"\\F1A1"}.fa-reddit-square:before{content:"\\F1A2"}.fa-stumbleupon-circle:before{content:"\\F1A3"}.fa-stumbleupon:before{content:"\\F1A4"}.fa-delicious:before{content:"\\F1A5"}.fa-digg:before{content:"\\F1A6"}.fa-pied-piper:before{content:"\\F1A7"}.fa-pied-piper-alt:before{content:"\\F1A8"}.fa-drupal:before{content:"\\F1A9"}.fa-joomla:before{content:"\\F1AA"}.fa-language:before{content:"\\F1AB"}.fa-fax:before{content:"\\F1AC"}.fa-building:before{content:"\\F1AD"}.fa-child:before{content:"\\F1AE"}.fa-paw:before{content:"\\F1B0"}.fa-spoon:before{content:"\\F1B1"}.fa-cube:before{content:"\\F1B2"}.fa-cubes:before{content:"\\F1B3"}.fa-behance:before{content:"\\F1B4"}.fa-behance-square:before{content:"\\F1B5"}.fa-steam:before{content:"\\F1B6"}.fa-steam-square:before{content:"\\F1B7"}.fa-recycle:before{content:"\\F1B8"}.fa-automobile:before,.fa-car:before{content:"\\F1B9"}.fa-cab:before,.fa-taxi:before{content:"\\F1BA"}.fa-tree:before{content:"\\F1BB"}.fa-spotify:before{content:"\\F1BC"}.fa-deviantart:before{content:"\\F1BD"}.fa-soundcloud:before{content:"\\F1BE"}.fa-database:before{content:"\\F1C0"}.fa-file-pdf-o:before{content:"\\F1C1"}.fa-file-word-o:before{content:"\\F1C2"}.fa-file-excel-o:before{content:"\\F1C3"}.fa-file-powerpoint-o:before{content:"\\F1C4"}.fa-file-image-o:before,.fa-file-photo-o:before,.fa-file-picture-o:before{content:"\\F1C5"}.fa-file-archive-o:before,.fa-file-zip-o:before{content:"\\F1C6"}.fa-file-audio-o:before,.fa-file-sound-o:before{content:"\\F1C7"}.fa-file-movie-o:before,.fa-file-video-o:before{content:"\\F1C8"}.fa-file-code-o:before{content:"\\F1C9"}.fa-vine:before{content:"\\F1CA"}.fa-codepen:before{content:"\\F1CB"}.fa-jsfiddle:before{content:"\\F1CC"}.fa-life-bouy:before,.fa-life-buoy:before,.fa-life-ring:before,.fa-life-saver:before,.fa-support:before{content:"\\F1CD"}.fa-circle-o-notch:before{content:"\\F1CE"}.fa-ra:before,.fa-rebel:before{content:"\\F1D0"}.fa-empire:before,.fa-ge:before{content:"\\F1D1"}.fa-git-square:before{content:"\\F1D2"}.fa-git:before{content:"\\F1D3"}.fa-hacker-news:before,.fa-y-combinator-square:before,.fa-yc-square:before{content:"\\F1D4"}.fa-tencent-weibo:before{content:"\\F1D5"}.fa-qq:before{content:"\\F1D6"}.fa-wechat:before,.fa-weixin:before{content:"\\F1D7"}.fa-paper-plane:before,.fa-send:before{content:"\\F1D8"}.fa-paper-plane-o:before,.fa-send-o:before{content:"\\F1D9"}.fa-history:before{content:"\\F1DA"}.fa-circle-thin:before{content:"\\F1DB"}.fa-header:before{content:"\\F1DC"}.fa-paragraph:before{content:"\\F1DD"}.fa-sliders:before{content:"\\F1DE"}.fa-share-alt:before{content:"\\F1E0"}.fa-share-alt-square:before{content:"\\F1E1"}.fa-bomb:before{content:"\\F1E2"}.fa-futbol-o:before,.fa-soccer-ball-o:before{content:"\\F1E3"}.fa-tty:before{content:"\\F1E4"}.fa-binoculars:before{content:"\\F1E5"}.fa-plug:before{content:"\\F1E6"}.fa-slideshare:before{content:"\\F1E7"}.fa-twitch:before{content:"\\F1E8"}.fa-yelp:before{content:"\\F1E9"}.fa-newspaper-o:before{content:"\\F1EA"}.fa-wifi:before{content:"\\F1EB"}.fa-calculator:before{content:"\\F1EC"}.fa-paypal:before{content:"\\F1ED"}.fa-google-wallet:before{content:"\\F1EE"}.fa-cc-visa:before{content:"\\F1F0"}.fa-cc-mastercard:before{content:"\\F1F1"}.fa-cc-discover:before{content:"\\F1F2"}.fa-cc-amex:before{content:"\\F1F3"}.fa-cc-paypal:before{content:"\\F1F4"}.fa-cc-stripe:before{content:"\\F1F5"}.fa-bell-slash:before{content:"\\F1F6"}.fa-bell-slash-o:before{content:"\\F1F7"}.fa-trash:before{content:"\\F1F8"}.fa-copyright:before{content:"\\F1F9"}.fa-at:before{content:"\\F1FA"}.fa-eyedropper:before{content:"\\F1FB"}.fa-paint-brush:before{content:"\\F1FC"}.fa-birthday-cake:before{content:"\\F1FD"}.fa-area-chart:before{content:"\\F1FE"}.fa-pie-chart:before{content:"\\F200"}.fa-line-chart:before{content:"\\F201"}.fa-lastfm:before{content:"\\F202"}.fa-lastfm-square:before{content:"\\F203"}.fa-toggle-off:before{content:"\\F204"}.fa-toggle-on:before{content:"\\F205"}.fa-bicycle:before{content:"\\F206"}.fa-bus:before{content:"\\F207"}.fa-ioxhost:before{content:"\\F208"}.fa-angellist:before{content:"\\F209"}.fa-cc:before{content:"\\F20A"}.fa-ils:before,.fa-shekel:before,.fa-sheqel:before{content:"\\F20B"}.fa-meanpath:before{content:"\\F20C"}.fa-buysellads:before{content:"\\F20D"}.fa-connectdevelop:before{content:"\\F20E"}.fa-dashcube:before{content:"\\F210"}.fa-forumbee:before{content:"\\F211"}.fa-leanpub:before{content:"\\F212"}.fa-sellsy:before{content:"\\F213"}.fa-shirtsinbulk:before{content:"\\F214"}.fa-simplybuilt:before{content:"\\F215"}.fa-skyatlas:before{content:"\\F216"}.fa-cart-plus:before{content:"\\F217"}.fa-cart-arrow-down:before{content:"\\F218"}.fa-diamond:before{content:"\\F219"}.fa-ship:before{content:"\\F21A"}.fa-user-secret:before{content:"\\F21B"}.fa-motorcycle:before{content:"\\F21C"}.fa-street-view:before{content:"\\F21D"}.fa-heartbeat:before{content:"\\F21E"}.fa-venus:before{content:"\\F221"}.fa-mars:before{content:"\\F222"}.fa-mercury:before{content:"\\F223"}.fa-intersex:before,.fa-transgender:before{content:"\\F224"}.fa-transgender-alt:before{content:"\\F225"}.fa-venus-double:before{content:"\\F226"}.fa-mars-double:before{content:"\\F227"}.fa-venus-mars:before{content:"\\F228"}.fa-mars-stroke:before{content:"\\F229"}.fa-mars-stroke-v:before{content:"\\F22A"}.fa-mars-stroke-h:before{content:"\\F22B"}.fa-neuter:before{content:"\\F22C"}.fa-genderless:before{content:"\\F22D"}.fa-facebook-official:before{content:"\\F230"}.fa-pinterest-p:before{content:"\\F231"}.fa-whatsapp:before{content:"\\F232"}.fa-server:before{content:"\\F233"}.fa-user-plus:before{content:"\\F234"}.fa-user-times:before{content:"\\F235"}.fa-bed:before,.fa-hotel:before{content:"\\F236"}.fa-viacoin:before{content:"\\F237"}.fa-train:before{content:"\\F238"}.fa-subway:before{content:"\\F239"}.fa-medium:before{content:"\\F23A"}.fa-y-combinator:before,.fa-yc:before{content:"\\F23B"}.fa-optin-monster:before{content:"\\F23C"}.fa-opencart:before{content:"\\F23D"}.fa-expeditedssl:before{content:"\\F23E"}.fa-battery-4:before,.fa-battery-full:before{content:"\\F240"}.fa-battery-3:before,.fa-battery-three-quarters:before{content:"\\F241"}.fa-battery-2:before,.fa-battery-half:before{content:"\\F242"}.fa-battery-1:before,.fa-battery-quarter:before{content:"\\F243"}.fa-battery-0:before,.fa-battery-empty:before{content:"\\F244"}.fa-mouse-pointer:before{content:"\\F245"}.fa-i-cursor:before{content:"\\F246"}.fa-object-group:before{content:"\\F247"}.fa-object-ungroup:before{content:"\\F248"}.fa-sticky-note:before{content:"\\F249"}.fa-sticky-note-o:before{content:"\\F24A"}.fa-cc-jcb:before{content:"\\F24B"}.fa-cc-diners-club:before{content:"\\F24C"}.fa-clone:before{content:"\\F24D"}.fa-balance-scale:before{content:"\\F24E"}.fa-hourglass-o:before{content:"\\F250"}.fa-hourglass-1:before,.fa-hourglass-start:before{content:"\\F251"}.fa-hourglass-2:before,.fa-hourglass-half:before{content:"\\F252"}.fa-hourglass-3:before,.fa-hourglass-end:before{content:"\\F253"}.fa-hourglass:before{content:"\\F254"}.fa-hand-grab-o:before,.fa-hand-rock-o:before{content:"\\F255"}.fa-hand-paper-o:before,.fa-hand-stop-o:before{content:"\\F256"}.fa-hand-scissors-o:before{content:"\\F257"}.fa-hand-lizard-o:before{content:"\\F258"}.fa-hand-spock-o:before{content:"\\F259"}.fa-hand-pointer-o:before{content:"\\F25A"}.fa-hand-peace-o:before{content:"\\F25B"}.fa-trademark:before{content:"\\F25C"}.fa-registered:before{content:"\\F25D"}.fa-creative-commons:before{content:"\\F25E"}.fa-gg:before{content:"\\F260"}.fa-gg-circle:before{content:"\\F261"}.fa-tripadvisor:before{content:"\\F262"}.fa-odnoklassniki:before{content:"\\F263"}.fa-odnoklassniki-square:before{content:"\\F264"}.fa-get-pocket:before{content:"\\F265"}.fa-wikipedia-w:before{content:"\\F266"}.fa-safari:before{content:"\\F267"}.fa-chrome:before{content:"\\F268"}.fa-firefox:before{content:"\\F269"}.fa-opera:before{content:"\\F26A"}.fa-internet-explorer:before{content:"\\F26B"}.fa-television:before,.fa-tv:before{content:"\\F26C"}.fa-contao:before{content:"\\F26D"}.fa-500px:before{content:"\\F26E"}.fa-amazon:before{content:"\\F270"}.fa-calendar-plus-o:before{content:"\\F271"}.fa-calendar-minus-o:before{content:"\\F272"}.fa-calendar-times-o:before{content:"\\F273"}.fa-calendar-check-o:before{content:"\\F274"}.fa-industry:before{content:"\\F275"}.fa-map-pin:before{content:"\\F276"}.fa-map-signs:before{content:"\\F277"}.fa-map-o:before{content:"\\F278"}.fa-map:before{content:"\\F279"}.fa-commenting:before{content:"\\F27A"}.fa-commenting-o:before{content:"\\F27B"}.fa-houzz:before{content:"\\F27C"}.fa-vimeo:before{content:"\\F27D"}.fa-black-tie:before{content:"\\F27E"}.fa-fonticons:before{content:"\\F280"}.fa-reddit-alien:before{content:"\\F281"}.fa-edge:before{content:"\\F282"}.fa-credit-card-alt:before{content:"\\F283"}.fa-codiepie:before{content:"\\F284"}.fa-modx:before{content:"\\F285"}.fa-fort-awesome:before{content:"\\F286"}.fa-usb:before{content:"\\F287"}.fa-product-hunt:before{content:"\\F288"}.fa-mixcloud:before{content:"\\F289"}.fa-scribd:before{content:"\\F28A"}.fa-pause-circle:before{content:"\\F28B"}.fa-pause-circle-o:before{content:"\\F28C"}.fa-stop-circle:before{content:"\\F28D"}.fa-stop-circle-o:before{content:"\\F28E"}.fa-shopping-bag:before{content:"\\F290"}.fa-shopping-basket:before{content:"\\F291"}.fa-hashtag:before{content:"\\F292"}.fa-bluetooth:before{content:"\\F293"}.fa-bluetooth-b:before{content:"\\F294"}.fa-percent:before{content:"\\F295"}',""]);
},function(e,t,n){t=e.exports=n(6)(),t.push([e.id,"/*! normalize.css v3.0.3 | MIT License | github.com/necolas/normalize.css */html{font-family:sans-serif;-ms-text-size-adjust:100%;-webkit-text-size-adjust:100%}body{margin:0}article,aside,details,figcaption,figure,footer,header,hgroup,main,menu,nav,section,summary{display:block}audio,canvas,progress,video{display:inline-block;vertical-align:baseline}audio:not([controls]){display:none;height:0}[hidden],template{display:none}a{background-color:transparent}a:active,a:hover{outline:0}abbr[title]{border-bottom:1px dotted}b,strong{font-weight:700}dfn{font-style:italic}h1{font-size:2em;margin:.67em 0}mark{background:#ff0;color:#000}small{font-size:80%}sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}sup{top:-.5em}sub{bottom:-.25em}img{border:0}svg:not(:root){overflow:hidden}figure{margin:1em 40px}hr{box-sizing:content-box;height:0}pre{overflow:auto}code,kbd,pre,samp{font-family:monospace;font-size:1em}button,input,optgroup,select,textarea{color:inherit;font:inherit;margin:0}button{overflow:visible}button,select{text-transform:none}button,html input[type=button],input[type=reset],input[type=submit]{-webkit-appearance:button;cursor:pointer}button[disabled],html input[disabled]{cursor:default}button::-moz-focus-inner,input::-moz-focus-inner{border:0;padding:0}input{line-height:normal}input[type=checkbox],input[type=radio]{box-sizing:border-box;padding:0}input[type=number]::-webkit-inner-spin-button,input[type=number]::-webkit-outer-spin-button{height:auto}input[type=search]{-webkit-appearance:textfield;box-sizing:content-box}input[type=search]::-webkit-search-cancel-button,input[type=search]::-webkit-search-decoration{-webkit-appearance:none}fieldset{border:1px solid silver;margin:0 2px;padding:.35em .625em .75em}legend{border:0;padding:0}textarea{overflow:auto}optgroup{font-weight:700}table{border-collapse:collapse;border-spacing:0}td,th{padding:0}",""])},function(e,t,n){t=e.exports=n(6)(),t.push([e.id,'.l-right{float:right}.l-left{float:left}.l-center{margin-left:auto;margin-right:auto}.l-clear:after,.l-clear:before{content:"";display:table}.l-clear:after{clear:both}.l-relative{position:relative}.l-absolute{position:absolute}.l-pos-top-0{top:0}.l-pos-top-1{top:5px}.l-pos-top-2{top:10px}.l-pos-top-3{top:15px}.l-pos-top-4{top:20px}.l-pos-bottom-0{bottom:0}.l-pos-bottom-1{bottom:5px}.l-pos-bottom-2{bottom:10px}.l-pos-bottom-3{bottom:15px}.l-pos-bottom-4{bottom:20px}.l-pos-left-0{left:0}.l-pos-left-1{left:5px}.l-pos-left-2{left:10px}.l-pos-left-3{left:15px}.l-pos-left-4{left:20px}.l-pos-right-0{right:0}.l-pos-right-1{right:5px}.l-pos-right-2{right:10px}.l-pos-right-3{right:15px}.l-pos-right-4{right:20px}.l-inline-block{display:inline-block}.l-block{display:block}.l-inline{display:inline}.l-fit-in{max-width:100%}.l-full-width{width:100%}.l-1of2-width{width:50%}.l-1of3-width{width:33.3%}.l-1of4-width{width:25%}.l-1of5-width{width:20%}.l-1of6-width{width:16.6%}.l-box{box-sizing:border-box}.l-overflow-hidden{overflow:hidden}.l-overflow-auto{overflow:auto}.l-overflow-scroll{overflow:scroll}.l-m-0{margin:0}.l-m-t0{margin-top:0}.l-m-r0{margin-right:0}.l-m-b0{margin-bottom:0}.l-m-l0{margin-left:0}.l-m-1{margin:5px}.l-m-t1{margin-top:5px}.l-m-r1{margin-right:5px}.l-m-b1{margin-bottom:5px}.l-m-l1{margin-left:5px}.l-m-2{margin:10px}.l-m-t2{margin-top:10px}.l-m-r2{margin-right:10px}.l-m-b2{margin-bottom:10px}.l-m-l2{margin-left:10px}.l-m-3{margin:15px}.l-m-t3{margin-top:15px}.l-m-r3{margin-right:15px}.l-m-b3{margin-bottom:15px}.l-m-l3{margin-left:15px}.l-m-4{margin:20px}.l-m-t4{margin-top:20px}.l-m-r4{margin-right:20px}.l-m-b4{margin-bottom:20px}.l-m-l4{margin-left:20px}.l-mx-1{margin-left:5px;margin-right:5px}.l-mx-2{margin-left:10px;margin-right:10px}.l-mx-3{margin-left:15px;margin-right:15px}.l-mx-4{margin-left:20px;margin-right:20px}.l-my-1{margin-top:5px;margin-bottom:5px}.l-my-2{margin-top:10px;margin-bottom:10px}.l-my-3{margin-top:15px;margin-bottom:15px}.l-my-4{margin-top:20px;margin-bottom:20px}.l-p-0{padding:0}.l-p-t0{padding-top:0}.l-p-r0{padding-right:0}.l-p-b0{padding-bottom:0}.l-p-l0{padding-left:0}.l-p-1{padding:5px}.l-p-t1{padding-top:5px}.l-p-r1{padding-right:5px}.l-p-b1{padding-bottom:5px}.l-p-l1{padding-left:5px}.l-p-2{padding:10px}.l-p-t2{padding-top:10px}.l-p-r2{padding-right:10px}.l-p-b2{padding-bottom:10px}.l-p-l2{padding-left:10px}.l-p-3{padding:15px}.l-p-t3{padding-top:15px}.l-p-r3{padding-right:15px}.l-p-b3{padding-bottom:15px}.l-p-l3{padding-left:15px}.l-p-4{padding:20px}.l-p-t4{padding-top:20px}.l-p-r4{padding-right:20px}.l-p-b4{padding-bottom:20px}.l-p-l4{padding-left:20px}.l-px-1{padding-left:5px;padding-right:5px}.l-px-2{padding-left:10px;padding-right:10px}.l-px-3{padding-left:15px;padding-right:15px}.l-px-4{padding-left:20px;padding-right:20px}.l-py-1{padding-top:5px;padding-bottom:5px}.l-py-2{padding-top:10px;padding-bottom:10px}.l-py-3{padding-top:15px;padding-bottom:15px}.l-py-4{padding-top:20px;padding-bottom:20px}.l-flex{display:-webkit-flex;display:-ms-flexbox;display:flex}.l-flex-column{-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column}.l-flex-wrap{-webkit-flex-wrap:wrap;-ms-flex-wrap:wrap;flex-wrap:wrap}.l-flex-center{-webkit-align-items:center;-ms-flex-align:center;align-items:center}.l-flex-baseline{-webkit-align-items:baseline;-ms-flex-align:baseline;align-items:baseline}.l-flex-stretch{-webkit-align-items:stretch;-ms-flex-align:stretch;align-items:stretch}.l-flex-start{-webkit-align-items:flex-start;-ms-flex-align:start;align-items:flex-start}.l-flex-end{-webkit-align-items:flex-end;-ms-flex-align:end;align-items:flex-end}.l-flex-justify{-webkit-justify-content:space-between;-ms-flex-pack:justify;justify-content:space-between}.l-flex_first{-webkit-order:-1;-ms-flex-order:-1;order:-1}.l-flex_last{-webkit-order:1024;-ms-flex-order:1024;order:1024}.l-flex_auto{-webkit-flex:1 1 auto;-ms-flex:1 1 auto;flex:1 1 auto}.l-flex_grow{-webkit-flex:1 0 auto;-ms-flex:1 0 auto;flex:1 0 auto}.l-flex_none{-webkit-flex:none;-ms-flex:none;flex:none}.l-flex>div{box-sizing:border-box}.l-z1{z-index:1}.l-z2{z-index:2}.l-z3{z-index:3}.l-z4{z-index:4}',""])},function(e,t,n){t=e.exports=n(6)(),t.push([e.id,".is-hidden{display:none}.is-clickable{cursor:pointer}",""])},function(e,t,n){t=e.exports=n(6)(),t.push([e.id,".UpdateDialog{display:none;top:0;left:0;right:0;bottom:0;position:absolute;z-index:1;background-color:rgba(0,0,0,.5)}.UpdateDialog__inside{border-radius:10px;top:10%;left:calc(10% - 25px);position:absolute;width:80%;z-index:2;padding:25px;padding-bottom:50px;background-color:hsla(0,0%,100%,.5)}.is-visible{display:block}.UpdateDialog__thumbnail{float:left;border:1px solid #000;border-radius:5px;box-shadow:5px 5px 5px #888;margin-right:25px}.UpdateDialog__metadata_title>*{font-size:30px;outline:none;margin-bottom:15px}.UpdateDialog__metadata_description{max-height:calc(100% - 60px);overflow:auto}.UpdateDialog__metadata_description>*{outline:none}.UpdateDialog__buttons{position:absolute;bottom:10px;right:10px}.UpdateDialog .UpdateDialog__inside .UpdateDialog__buttons>button{padding:5px 10px;margin-left:20px;background-color:#fff;border:1px solid grey;border-radius:3px}",""])},function(e,t,n){t=e.exports=n(6)(),t.push([e.id,".CatalystWidget{overflow:hidden;width:100vw;height:100vh}.CatalystWidget_control{position:absolute;top:10px;right:10px;width:20%;max-width:400px;min-width:300px;z-index:1;border-radius:5px;background-color:hsla(0,0%,100%,.3);color:rgba(0,0,0,.3)}.CatalystWidget_control:hover{background-color:#fff;color:#000}.CatalystWidget_control.is-collapsed:hover{background:none}.CatalystWidget_control input[type=number].LookupTableWidget__input{color:#000}.CatalystWidget_control input[type=number],.CatalystWidget_control input[type=text],.CatalystWidget_control select{background-color:transparent}.CatalystWidget_control select{-webkit-appearance:none;-moz-appearance:none;appearance:none;padding:1px 5px;background-image:url("+n(105)+");background-repeat:no-repeat;background-position:99%;background-size:13px 13px;border:1px solid #d3d3d3;border-radius:3px}.CatalystWidget_control.is-collapsed{min-width:1.5em;width:1.5em;border-radius:50%}.CatalystWidget_control.is-collapsed>.CatalystWidget_control_content{display:none}.CatalystWidget_control_bar{height:25px;border:1px solid;border-radius:5px 5px 0 0;border-color:#ccc}.CatalystWidget_control:hover .CatalystWidget_control_bar{background-color:#eee}.CatalystWidget_control.is-collapsed>.CatalystWidget_control_bar{background:none;border:none;display:inline}.CatalystWidget_control>.CatalystWidget_control_bar>i{width:1.52em;height:1.25em;padding-top:.25em;text-align:center;margin-left:.5em;cursor:pointer;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.CatalystWidget_control.is-collapsed>.CatalystWidget_control_bar>i{border:1px solid;border-radius:50%;border-color:#ccc;background-color:#eee}.CatalystWidget_control_bar>i.right{float:right}.CatalystWidget_control_bar>i.left{float:left}.CatalystWidget_control.is-collapsed>.CatalystWidget_control_bar>i.left{display:none}.CatalystWidget_control_content{border:1px solid;border-radius:0 0 5px 5px;border-color:#ccc;padding-left:5px;padding-bottom:.5em;max-height:calc(100vh - 55px);overflow-y:scroll}.CatalystWidget_ImageViewerWidget{position:absolute;top:0;bottom:0;left:0;right:0}.CatalystWidget__item{-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;box-sizing:border-box;margin-left:3px;padding-left:10px;padding-right:10px}.CatalystWidget__item,.CatalystWidget__item-row{display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex:1;-ms-flex:1;flex:1}.CatalystWidget__item-row{position:relative;-webkit-flex-direction:row;-ms-flex-direction:row;flex-direction:row}.CatalystWidget__item-label{-webkit-flex:1;-ms-flex:1;flex:1;font-weight:700;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.CatalystWidget__item-label:first-letter{text-transform:uppercase}.CatalystWidget__item-row>select{width:100%;background-color:rbga(0,0,0,0)}@media screen and (max-width:400px),screen and (orientation:landscape) and (max-device-width:400px){.CatalystWidget_control_bar{height:40px}.CatalystWidget_control_bar>i{font-size:1.45em}.CatalystWidget_control_content{max-height:calc(100vh - 70px)}}.is-ios-device .CatalystWidget_control_bar{height:40px}.is-ios-device .CatalystWidget_control_bar>i{font-size:1.45em}.is-ios-device .CatalystWidget_control_content{max-height:calc(100vh - 70px)}",""])},function(e,t,n){t=e.exports=n(6)(),t.push([e.id,".ChartViewer{min-width:5em;width:100%;height:100%;box-sizing:border-box;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;display:-webkit-flex;display:-ms-flexbox;display:flex}.ChartViewer_canvas{margin:0;width:100%;height:100%}.ChartViewer_legend{position:absolute;top:10px;left:10px;z-index:2}.ChartViewer_legend_bar{background:#ccc;border-radius:5px 5px 0 0;border:1px solid #000;border-bottom:none;padding:2px 0 2px 5px}.ChartViewer_legend_bar>i{float:right}.ChartViewer_legend_bar>span{font-size:75%}.ChartViewer_legend_content{border-radius:0 0 5px 5px;border:1px solid #000;background:#fff;display:table;padding:5px;margin:0}.ChartViewer_legend_content li{list-style:none;display:table-row}.ChartViewer_legend_content li>*{display:table-cell}.ChartViewer_legend_content li>span{min-width:100px;text-align:right}.ChartViewer_legend_button{border-radius:10px;width:20px;height:20px;background:#ccc;border:1px solid #000}.ChartViewer_legend_button i{top:2px;position:relative}",""])},function(e,t,n){t=e.exports=n(6)(),t.push([e.id,".CatalystWidget i.float-right{position:absolute;right:5px;top:-1px}.CatalystWidget .is-clickable{cursor:pointer}.CatalystWidget button{-webkit-flex:1;-ms-flex:1;flex:1;border:1px solid grey;border-radius:3px;margin:0 2px;padding:5px 0;background-color:#fff;transition:all .12s ease}.CatalystWidget button:focus{box-shadow:0 0 1px 1px grey}.CatalystWidget button.is-selected{border:none;background-color:#1e96e1!important;color:#fff}.ProbeViewer .ChartContainer{position:absolute;top:2px;left:2px;z-index:4;width:40%;height:40%;background:#fff;border:1px solid #000;padding:5px;border-radius:5px}.ProbeViewer .is-selected{background:#ccc}",""])},function(e,t,n){t=e.exports=n(6)(),t.push([e.id,".ButtonSelector{display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;-webkit-align-items:center;-ms-flex-align:center;align-items:center;height:100vh}.ButtonSelector button{margin:5px;padding:5px;width:80%;font-size:200%;border:1px solid grey;border-radius:5px;background-color:#d3d3d3;transition:all .12s ease;box-sizing:border-box}.ButtonSelector button:active,.ButtonSelector button:focus{box-shadow:0 0 1px 1px grey;outline:none}.ButtonSelector button:active{background-color:#a8a8a8}",""])},function(e,t,n){t=e.exports=n(6)(),t.push([e.id,".CollapsibleElement{width:100%;padding:0;font-family:sans-serif;padding-top:5px;padding-bottom:5px;clear:both}.CollapsibleElement_header{position:relative;left:0;cursor:pointer;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;display:inline-block;padding:0;border:none;background-color:transparent;width:100%}.CollapsibleElement_header>.clickable-area>i{transition:-webkit-transform .2s ease;transition:transform .2s ease;transition:transform .2s ease,-webkit-transform .2s ease}.CollapsibleElement_header>.clickable-area>i.closed{-webkit-transform:rotate(-90deg);transform:rotate(-90deg)}.CollapsibleElement_header>.clickable-area>strong{text-transform:capitalize}.CollapsibleElement_header>span{position:absolute;right:15px;top:0}.CollapsibleElement_content{padding:5px 15px 0}.CollapsibleElement_content.is-hidden{display:none}@media screen and (max-device-width:400px){.CollapsibleElement_header-actions>i{font-size:1.45em}}.is-ios-device .CollapsibleElement_header-actions>i{font-size:1.45em}",""])},function(e,t,n){t=e.exports=n(6)(),t.push([e.id,".ColorPicker{min-width:5em;width:100%;box-sizing:border-box;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column}.ColorPicker,.ColorPicker__color{display:-webkit-flex;display:-ms-flexbox;display:flex}.ColorPicker__color{-webkit-flex-direction:row;-ms-flex-direction:row;flex-direction:row;margin-bottom:10px}.ColorPicker__color>canvas{-webkit-flex:none;-ms-flex:none;flex:none;width:1.5em;height:1.5em;border:1px solid #000;margin-right:5px}.ColorPicker__color>input{-webkit-flex:1;-ms-flex:1;flex:1;min-width:1em;margin-left:5px;margin-right:5px;border:none;text-align:right;padding-right:10px}.ColorPicker__swatch{display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:row;-ms-flex-direction:row;flex-direction:row;margin-left:2px;margin-right:2px}.ColorPicker__swatch>img{width:100%}",""])},function(e,t,n){t=e.exports=n(6)(),t.push([e.id,".CompositePipeline,.CompositePipeline_section{min-width:5em;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column}.CompositePipeline,.CompositePipeline_item,.CompositePipeline_section{width:100%;box-sizing:border-box;display:-webkit-flex;display:-ms-flexbox;display:flex}.CompositePipeline_item{-webkit-flex-direction:row;-ms-flex-direction:row;flex-direction:row;line-height:2em}.CompositePipeline_item.is-hidden{display:none}.CompositePipeline_item>i{margin-right:5px;-webkit-align-self:center;-ms-flex-item-align:center;align-self:center;cursor:pointer}.CompositePipeline_item .is-fade{color:#aaa}.CompositePipeline_children>.CompositePipeline_item{padding-left:20px}.CompositePipeline_item-label{font-weight:700;-webkit-flex:1;-ms-flex:1;flex:1;text-align:left;margin-left:5px;-webkit-align-self:center;-ms-flex-item-align:center;align-self:center}.CompositePipeline_item-actions{position:relative;right:0}.CompositePipeline_item-actions>i{-webkit-flex:1;-ms-flex:1;flex:1;margin-right:5px;-webkit-align-self:center;-ms-flex-item-align:center;align-self:center;cursor:pointer}.CompositePipeline_item-colorBy_menu{position:absolute;top:2em;right:5px;border:1px solid #000;padding:5px 10px;background:#fff;border-radius:5px;z-index:2}.CompositePipeline_item-colorBy_menu>div{cursor:pointer}.CompositePipeline_item-colorBy_menu .is-selected{font-weight:700}.CompositePipeline_item-colorBy_menu.is-hidden{display:none}.CompositePipeline_item-opacity{-webkit-flex:1;-ms-flex:1;flex:1}.CompositePipeline_item-opacity-hidden{display:none}@media screen and (max-device-width:400px){.CompositePipeline i{font-size:1.45em}.CompositePipeline_item-opacity{height:35px}.CompositePipeline_item{line-height:3em}.CompositePipeline input[type=range]::-webkit-slider-thumb{-webkit-appearance:none;appearance:none;width:25px;height:25px;border:1px solid gray;background-color:#fff;border-radius:50%}.CompositePipeline input[type=range]::-moz-range-thumb{-moz-appearance:none;appearance:none;width:25px;height:25px;border:1px solid gray;background-color:#fff;border-radius:50%}}.is-ios-device .CompositePipeline i{font-size:1.45em}.is-ios-device .CompositePipeline_item-opacity{height:35px}.is-ios-device .CompositePipeline_item{line-height:3em}.is-ios-device .CompositePipeline input[type=range]::-webkit-slider-thumb{-webkit-appearance:none;appearance:none;width:25px;height:25px;border:1px solid gray;background-color:#fff;border-radius:50%}.is-ios-device .CompositePipeline input[type=range]::-moz-range-thumb{-moz-appearance:none;appearance:none;width:25px;height:25px;border:1px solid gray;background-color:#fff;border-radius:50%}",""])},function(e,t,n){t=e.exports=n(6)(),t.push([e.id,".CoordinateControl .canvas{border:1px solid #d3d3d3;float:left;margin-right:3px;font-family:sans-serif}.CoordinateControl>.canvas:active,.CoordinateControl>.canvas:hover{cursor:crosshair}.CoordinateControl>input:first-child{display:block}.CoordinateControl>input{margin:3px 0 0;padding:2px 0 2px 3px;width:40px}",""])},function(e,t,n){t=e.exports=n(6)(),t.push([e.id,".Equalizer,.Equalizer>canvas{position:relative;width:100%;height:100%}.Equalizer>canvas{cursor:pointer}",""])},function(e,t,n){t=e.exports=n(6)(),t.push([e.id,".FloatImageControl_item{width:100%;-webkit-flex-direction:row;-ms-flex-direction:row;flex-direction:row;display:-webkit-flex;display:-ms-flexbox;display:flex;box-sizing:border-box;line-height:2em}.FloatImageControl_item.is-hidden{display:none}.FloatImageControl_item>i{margin-right:5px;-webkit-align-self:center;-ms-flex-item-align:center;align-self:center;cursor:pointer;font-style:normal;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.FloatImageControl_item .is-fade{color:#aaa}.FloatImageControl_item-label{font-weight:700;-webkit-flex:1;-ms-flex:1;flex:1;text-align:left;margin-left:5px;-webkit-align-self:center;-ms-flex-item-align:center;align-self:center}.FloatImageControl_item-actions{position:relative;right:0}.FloatImageControl_item-actions>i{-webkit-flex:1;-ms-flex:1;flex:1;margin-right:5px;-webkit-align-self:center;-ms-flex-item-align:center;align-self:center;cursor:pointer;font-style:normal;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.FloatImageControl_item-colorBy_menu{position:absolute;top:2em;right:5px;border:1px solid #000;padding:5px 10px;background:#fff;border-radius:5px;z-index:2}.FloatImageControl_item-colorBy_menu>div{cursor:pointer}.FloatImageControl_item-colorBy_menu .is-selected{font-weight:700}.FloatImageControl_item-colorBy_menu.is-hidden{display:none}@media screen and (max-device-width:400px){.FloatImageControl_item-actions>i{font-size:1.45em}}.is-ios-device .FloatImageControl_item-actions>i{font-size:1.45em}",""])},function(e,t,n){t=e.exports=n(6)(),t.push([e.id,".LightProperties__container{display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-ms-flex-align:center;align-items:center}.LightProperties__controls{-webkit-flex-grow:1;-ms-flex-positive:1;flex-grow:1}.LightProperties__inputRow{display:block;text-align:right}.LightProperties__inputRow:first-child>.LightProperty{margin-top:0}.LightProperty{width:50px;margin-left:8px;margin-top:5px}",""])},function(e,t,n){t=e.exports=n(6)(),t.push([e.id,".LookupTableWidget{min-width:5em;width:100%;box-sizing:border-box;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column}.LookupTableWidget,.LookupTableWidget__line{display:-webkit-flex;display:-ms-flexbox;display:flex}.LookupTableWidget__line{position:relative;-webkit-flex:1;-ms-flex:1;flex:1;-webkit-flex-direction:row;-ms-flex-direction:row;flex-direction:row;margin-top:5px;margin-bottom:5px;height:1.5em}.LookupTableWidget__line>.LookupTableWidget__button,.LookupTableWidget__line>.LookupTableWidget__label{padding-top:.25em;padding-bottom:.25em;text-align:center}.LookupTableWidget__line>.LookupTableWidget__label{-webkit-flex:1;-ms-flex:1;flex:1;white-space:nowrap;font-weight:700}.LookupTableWidget__button{cursor:pointer;-webkit-flex:none;-ms-flex:none;flex:none;width:1.5em}.LookupTableWidget__canvas{width:calc(100% - 3em);height:1.5em}.LookupTableWidget__range{display:none;-webkit-flex-direction:row;-ms-flex-direction:row;flex-direction:row;-webkit-justify-content:space-between;-ms-flex-pack:justify;justify-content:space-between;-webkit-flex-wrap:nowrap;-ms-flex-wrap:nowrap;flex-wrap:nowrap;-webkit-align-items:stretch;-ms-flex-align:stretch;align-items:stretch}.LookupTableWidget__range>input{-webkit-flex:1;-ms-flex:1;flex:1}.LookupTableWidget__range>.LookupTableWidget__button{-webkit-flex:none;-ms-flex:none;flex:none}.LookupTableWidget__editContent{width:100%;box-sizing:border-box;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;display:none}.LookupTableWidget__presets{display:none}.LookupTableWidget__preset{-webkit-flex:1;-ms-flex:1;flex:1;margin-top:5px;margin-bottom:5px;padding:5px 10px;border:1px solid #ccc;text-align:center;cursor:pointer;border-radius:5px}.LookupTableWidget__presets>i{padding-top:.3em;font-size:150%}.LookupTableWidget__presets>i.is-disabled{color:#ccc}.LookupTableWidget.is-mode-edit>.LookupTableWidget__editContent,.LookupTableWidget.is-mode-edit>.LookupTableWidget__range,.LookupTableWidget.is-mode-none>.LookupTableWidget__range,.LookupTableWidget.is-mode-preset>.LookupTableWidget__presets{display:-webkit-flex;display:-ms-flexbox;display:flex}.LookupTableWidget__input{border:none;box-shadow:none;text-align:left;min-width:2em}.LookupTableWidget__input.right{text-align:right}.Dropdown>ul{list-style-type:none;background-color:#fff;border:1px solid #000;border-radius:4px;position:absolute;z-index:10;padding:10px 14px;top:6px;right:-11px}.Dropdown>ul>li{text-align:left;padding:5px 0}.LookupTableWidget__line>input.NumberInput{-webkit-flex:1;-ms-flex:1;flex:1}",""])},function(e,t,n){t=e.exports=n(6)(),t.push([e.id,".MultiViewRendererControl table{cursor:pointer;margin:5px;border:1px solid #333;border-spacing:2px;border-collapse:separate;line-height:5px;border-radius:2px;width:22px;height:22px;float:left}.MultiViewRendererControl td{background-color:#333}@media screen and (max-width:400px),screen and (orientation:landscape) and (max-device-width:400px){.MultiViewRendererControl table{width:55px;height:55px;border-spacing:4px;border:2px solid #333}}.is-ios-device .MultiViewRendererControl table{width:55px;height:55px;border-spacing:4px;border:2px solid #333}",""])},function(e,t,n){t=e.exports=n(6)(),t.push([e.id,".NumberControlSlider{width:100%;padding:1px}.NumberControlSlider input[type=range]{width:calc(100% - 75px);vertical-align:middle}.NumberControlSlider input[type=number]{width:60px;margin-left:10px;box-sizing:border-box}@media screen and (max-width:400px),screen and (orientation:landscape) and (max-device-width:400px){input[type=range]::-webkit-slider-thumb{-webkit-appearance:none;appearance:none;width:25px;height:25px;border:1px solid gray;background-color:#fff;border-radius:50%}input[type=range]::-moz-range-thumb{-moz-appearance:none;appearance:none;width:25px;height:25px;border:1px solid gray;background-color:#fff;border-radius:50%}}.is-ios-device input[type=range]::-webkit-slider-thumb{-webkit-appearance:none;appearance:none;width:25px;height:25px;border:1px solid gray;background-color:#fff;border-radius:50%}.is-ios-device input[type=range]::-moz-range-thumb{-moz-appearance:none;appearance:none;width:25px;height:25px;border:1px solid gray;background-color:#fff;border-radius:50%}",""])},function(e,t,n){t=e.exports=n(6)(),t.push([e.id,".QueryDataModelWidget{min-width:5em;width:100%;flex-direction:column}.QueryDataModelWidget,.QueryDataModelWidget__item{box-sizing:border-box;-webkit-flex-direction:column;-ms-flex-direction:column;display:-webkit-flex;display:-ms-flexbox;display:flex}.QueryDataModelWidget__item{-webkit-flex:1;-ms-flex:1;flex:1;flex-direction:column;margin-top:10px;border-left:1px solid #aaa;margin-left:2px;padding-left:10px;padding-right:10px}.QueryDataModelWidget__item.is-active{border-left:3px solid #000;margin-left:0}.QueryDataModelWidget__item-row{position:relative;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex:1;-ms-flex:1;flex:1;-webkit-flex-direction:row;-ms-flex-direction:row;flex-direction:row;margin-top:5px}.QueryDataModelWidget__item-label{-webkit-flex:1;-ms-flex:1;flex:1;font-weight:700;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer}.QueryDataModelWidget__item-control>div{position:absolute;top:0;right:0;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.QueryDataModelWidget__item-label:first-letter{text-transform:uppercase}.QueryDataModelWidget__item-control{display:-webkit-flex;display:-ms-flexbox;display:flex;width:4em;-webkit-flex:none;-ms-flex:none;flex:none;-webkit-justify-content:flex-end;-ms-flex-pack:end;justify-content:flex-end}.QueryDataModelWidget__item-control>i{cursor:pointer;padding-left:5px;padding-right:5px}.QueryDataModelWidget__item-slider{-webkit-flex:1;-ms-flex:1;flex:1}.QueryDataModelWidget__item-row>select,.QueryDataModelWidget__item-slider>input{width:100%}.mobile-only{display:none}@media screen and (max-width:400px),screen and (orientation:landscape) and (max-device-width:400px){.mobile-only{display:-webkit-flex;display:-ms-flexbox;display:flex}.QueryDataModelWidget__item-control{-webkit-flex:1;-ms-flex:1;flex:1;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center}.QueryDataModelWidget__item-control>i{font-size:1.4em;padding:0;text-align:center;-webkit-flex-grow:1;-ms-flex-positive:1;flex-grow:1;height:1.5em}.non-mobile{display:none}input[type=range]::-webkit-slider-thumb{-webkit-appearance:none;appearance:none;width:25px;height:25px;border:1px solid gray;background-color:#fff;border-radius:50%}input[type=range]::-moz-range-thumb{-moz-appearance:none;appearance:none;width:25px;height:25px;border:1px solid gray;background-color:#fff;border-radius:50%}}.is-ios-device .mobile-only{display:-webkit-flex;display:-ms-flexbox;display:flex}.is-ios-device .QueryDataModelWidget__item-control{-webkit-flex:1;-ms-flex:1;flex:1;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center}.is-ios-device .QueryDataModelWidget__item-control>i{font-size:1.4em;padding:0;text-align:center;-webkit-flex-grow:1;-ms-flex-positive:1;flex-grow:1;height:1.5em}.is-ios-device .non-mobile{display:none}.is-ios-device input[type=range]::-webkit-slider-thumb{-webkit-appearance:none;appearance:none;width:25px;height:25px;border:1px solid gray;background-color:#fff;border-radius:50%}.is-ios-device input[type=range]::-moz-range-thumb{-moz-appearance:none;appearance:none;width:25px;height:25px;border:1px solid gray;background-color:#fff;border-radius:50%}",""])},function(e,t,n){t=e.exports=n(6)(),t.push([e.id,".TextInput{width:100%}.TextInput_entry{width:calc(95% - 1em)}.TextInput_button{width:1em;float:right;cursor:pointer}",""])},function(e,t,n){t=e.exports=n(6)(),t.push([e.id,".ToggleIconButton.is-enabled{color:#000}.ToggleIconButton.is-disabled{color:grey}@media screen and (max-width:400px),screen and (orientation:landscape) and (max-device-width:400px){i.ToggleIconButton{font-size:1.4em;height:1.5em}}.is-ios-device i.ToggleIconButton{font-size:1.4em;height:1.5em}",""])},function(e,t){e.exports="\nprecision mediump float;\n\nuniform sampler2D backgroundSampler;\n\nuniform vec4 backgroundColor;\n\nvarying vec2 v_texCoord;\n\nvoid main() {\n    vec4 color = texture2D(backgroundSampler, v_texCoord);\n    gl_FragColor = vec4(backgroundColor.rgb, color.a);\n}\n"},function(e,t){e.exports="\nprecision mediump float;\n\nuniform sampler2D compositeSampler;\nuniform sampler2D nxSampler;\nuniform sampler2D nySampler;\nuniform sampler2D nzSampler;\nuniform sampler2D scalarSampler;\nuniform sampler2D lutSampler;\n\nuniform vec4 viewDir;\nuniform vec4 lightDir;\nuniform vec4 lightColor;\nuniform vec4 lightTerms;\n\nvarying vec2 v_texCoord;\n\n\nfloat convert(vec4 c) {\n    float r = c.r * 255.0;\n    float g = c.g * 255.0;\n    float b = c.b * 255.0;\n\n    float value = (r * 65536.0) + (g * 256.0) + b;\n    return ((value / 16777216.0) * 2.0) - 1.0;\n}\n\n\nvec4 scalarLookup(vec4 c) {\n    float r = c.r * 255.0;\n    float g = c.g * 255.0;\n    float b = c.b * 255.0;\n\n    float value = (r * 65536.0) + (g * 256.0) + b;\n    value = value / 16777216.0;\n\n    return texture2D(lutSampler, vec2(value, 0.5));\n}\n\n\nvoid main() {\n    // Sample the texture containing what we have composited so far\n    vec4 color = texture2D(compositeSampler, v_texCoord);\n\n    // Sample the new layer to be composited in\n    vec4 scalarColor = texture2D(scalarSampler, v_texCoord);\n\n    // Choose the fragment with the greater depth value\n    if (color.a > scalarColor.a) {\n        gl_FragColor = color;\n    } else {\n\n        vec4 nx = texture2D(nxSampler, v_texCoord);\n        vec4 ny = texture2D(nySampler, v_texCoord);\n        vec4 nz = texture2D(nzSampler, v_texCoord);\n        vec4 normal = normalize(vec4(convert(nx), convert(ny), convert(nz), 0.0));\n\n        vec4 lutColor = scalarLookup(scalarColor);\n\n        float ka = lightTerms[0];\n        float kd = lightTerms[1];\n        float ks = lightTerms[2];\n        float alpha = lightTerms[3];\n\n        vec4 vDir = normalize(viewDir);\n        vec4 lDir = normalize(lightDir);\n\n        // Calculate ambient term\n        vec4 ambientColor = lutColor * ka;\n\n        // This will be used in both diffuse and specular terms\n        float lDotN = dot(lDir, normal);\n\n        // Adding this check allows us to light whichever side is facing the light\n        if (lDotN < 0.0) {\n            normal = -1.0 * normal;\n            lDotN = dot(lDir, normal);\n        }\n\n        // Calculate diffuse term\n        vec4 diffuseColor = kd * lutColor * lDotN;\n\n        // Calculate specular term\n        vec4 R = (normal * 2.0 * lDotN) - lDir;\n        float specularTerm = ks * pow(dot(R, vDir), alpha);\n        vec4 specularColor = lightColor * specularTerm; // * step(-lDotN, 0.0);\n\n        // Clamp them individually and sum them up\n        vec3 fColor = clamp(ambientColor.rgb, 0.0, 1.0) + clamp(diffuseColor.rgb, 0.0, 1.0) + clamp(specularColor.rgb, 0.0, 1.0);\n        gl_FragColor = vec4(fColor.rgb, scalarColor.a);\n\n        // Various debugging outputs\n\n        // gl_FragColor = vec4(ambientColor.rgb, scalarColor.a);\n        // gl_FragColor = vec4(diffuseColor.rgb, scalarColor.a);\n        // gl_FragColor = vec4(specularColor.rgb, scalarColor.a);\n        // gl_FragColor = vec4(lutColor.rgb, scalarColor.a);\n        // gl_FragColor = vec4(((normal.rgb + 1.0) / 2.0), scalarColor.a);\n    }\n}\n"},function(e,t){e.exports="\nprecision mediump float;\n\nuniform sampler2D compositeSampler;\nuniform sampler2D scalarSampler;\nuniform sampler2D lutSampler;\n\nvarying vec2 v_texCoord;\n\n\nfloat convert(vec4 c) {\n    float r = c.r * 255.0;\n    float g = c.g * 255.0;\n    float b = c.b * 255.0;\n\n    float value = (r * 65536.0) + (g * 256.0) + b;\n    return ((value / 16777216.0) * 2.0) - 1.0;\n}\n\n\nvec4 scalarLookup(vec4 c) {\n    float r = c.r * 255.0;\n    float g = c.g * 255.0;\n    float b = c.b * 255.0;\n\n    float value = (r * 65536.0) + (g * 256.0) + b;\n    value = value / 16777216.0;\n\n    return texture2D(lutSampler, vec2(value, 0.5));\n}\n\n\nvoid main() {\n    // Sample the texture containing what we have composited so far\n    vec4 color = texture2D(compositeSampler, v_texCoord);\n\n    // Sample the new layer to be composited in\n    vec4 scalarColor = texture2D(scalarSampler, v_texCoord);\n\n    // Choose the fragment with the greater depth value\n    if (color.a > scalarColor.a) {\n        gl_FragColor = color;\n    } else {\n        vec4 lutColor = scalarLookup(scalarColor);\n        gl_FragColor = vec4(lutColor.rgb, scalarColor.a);\n    }\n}\n";
},function(e,t){e.exports="\nprecision mediump float;\n\nuniform sampler2D orderSampler;\nuniform sampler2D intensitySampler;\nuniform sampler2D layerColorSampler[${SIMULTANEOUS_LAYERS}];\nuniform sampler2D lutSampler[${SIMULTANEOUS_LAYERS}];\n\nuniform float layerAlpha[${SIMULTANEOUS_LAYERS}];\nuniform vec2 layerRange[${SIMULTANEOUS_LAYERS}];\n\nuniform int orderOffset;\n\nvarying vec2 v_texCoord;\n\nfloat affine(float inMin, float val, float inMax, float outMin, float outMax) {\n    return (((val - inMin) / (inMax - inMin)) * (outMax - outMin)) + outMin;\n}\n\n//\n// Main shader execution function\n//\nvoid main() {\n    // Look up the layer number to which this pixel corresponds\n    float orderSample = texture2D(orderSampler, v_texCoord).r;\n    int order = int(orderSample * 255.0) - orderOffset;\n\n    float intensity = texture2D(intensitySampler, v_texCoord).r;\n    bool foundOne = false;\n\n    //@INLINE_LOOP (loopIdx, 0, ${SIMULTANEOUS_LAYERS})\n    for (int loopIdx = 0; loopIdx < ${SIMULTANEOUS_LAYERS}; ++loopIdx) {\n        if (loopIdx == order) {\n            float f = texture2D(layerColorSampler[loopIdx], v_texCoord).r;\n            if (f >= layerRange[loopIdx][0] && f <= layerRange[loopIdx][1]) {\n                vec2 lutTCoord = vec2(affine(layerRange[loopIdx][0], f, layerRange[loopIdx][1], 0.0, 1.0), 0.5);\n                vec4 color = texture2D(lutSampler[loopIdx], lutTCoord);\n                gl_FragColor = vec4(color.xyz * intensity, layerAlpha[loopIdx]);\n                foundOne = true;\n            }\n        }\n    }\n    //@INLINE_LOOP\n\n    if (foundOne == false) {\n        discard;\n    }\n}\n"},function(e,t){e.exports="\nprecision mediump float;\n\nuniform sampler2D orderSampler;\nuniform sampler2D normalSampler;\nuniform sampler2D layerColorSampler[${SIMULTANEOUS_LAYERS}];\nuniform sampler2D lutSampler[${SIMULTANEOUS_LAYERS}];\n\nuniform float layerAlpha[${SIMULTANEOUS_LAYERS}];\nuniform vec2 layerRange[${SIMULTANEOUS_LAYERS}];\n\nuniform int orderOffset;\n\nuniform vec4 lightDir;\nuniform vec4 lightColor;\nuniform vec4 lightTerms;\n\nvarying vec2 v_texCoord;\n\nfloat affine(float inMin, float val, float inMax, float outMin, float outMax) {\n    return (((val - inMin) / (inMax - inMin)) * (outMax - outMin)) + outMin;\n}\n\nvec4 unpackNormal(vec4 packedNormal) {\n    vec4 normal = vec4((packedNormal.xy * 2.0) - 1.0, packedNormal.z, 0.0);\n    return normalize(normal);\n}\n\n//\n// Main shader execution function\n//\nvoid main() {\n    // Look up the layer number to which this pixel corresponds\n    float orderSample = texture2D(orderSampler, v_texCoord).r;\n    int order = int(orderSample * 255.0) - orderOffset;\n\n    bool foundOne = false;\n\n    //@INLINE_LOOP (loopIdx, 0, ${SIMULTANEOUS_LAYERS})\n    for (int loopIdx = 0; loopIdx < ${SIMULTANEOUS_LAYERS}; ++loopIdx) {\n        if (loopIdx == order) {\n            float f = texture2D(layerColorSampler[loopIdx], v_texCoord).r;\n            if (f >= layerRange[loopIdx][0] && f <= layerRange[loopIdx][1]) {\n                // If the scalar value is in range (not NaN) we first do the scalar lookup\n                vec2 lutTCoord = vec2(affine(layerRange[loopIdx][0], f, layerRange[loopIdx][1], 0.0, 1.0), 0.5);\n                vec4 lutColor = texture2D(lutSampler[loopIdx], lutTCoord);\n\n                // ----------- begin lighting bits ------------\n\n                vec4 packedNormal = texture2D(normalSampler, v_texCoord);\n                vec4 normal = unpackNormal(packedNormal);\n\n                float ka = lightTerms[0];\n                float kd = lightTerms[1];\n                float ks = lightTerms[2];\n                float alpha = lightTerms[3];\n\n                vec4 vDir = vec4(0.0, 0.0, 1.0, 0.0);\n                vec4 lDir = normalize(lightDir);\n\n                // Calculate ambient term\n                vec4 ambientColor = lutColor * ka;\n\n                // This will be used in both diffuse and specular terms\n                float lDotN = dot(lDir, normal);\n\n                // Calculate diffuse term\n                vec4 diffuseColor = kd * lutColor * lDotN;\n\n                // Calculate specular term\n                vec4 R = (normal * 2.0 * lDotN) - lDir;\n                float specularTerm = ks * pow(dot(R, vDir), alpha);\n                vec4 specularColor = lightColor * specularTerm; // * step(-lDotN, 0.0);\n\n                // Clamp them individually and sum them up\n                vec3 fColor = clamp(ambientColor.rgb, 0.0, 1.0) + clamp(diffuseColor.rgb, 0.0, 1.0) + clamp(specularColor.rgb, 0.0, 1.0);\n\n                // ----------- end lighting bits ------------\n\n                foundOne = true;\n                gl_FragColor = vec4(fColor.rgb, layerAlpha[loopIdx]);\n            }\n        }\n    }\n    //@INLINE_LOOP\n\n    if (foundOne == false) {\n        discard;\n    }\n}\n"},function(e,t){e.exports="\nprecision mediump float;\n\nuniform sampler2D alphaSampler;\nuniform sampler2D intensitySampler;\nuniform sampler2D orderSampler;\nuniform sampler2D lutSampler;\n\nuniform float numberOfLayers;\n\nvarying vec2 v_texCoord;\n\n\n//\n// Main shader execution function\n//\nvoid main() {\n    // Look up the layer number to which this pixel corresponds\n    float order = texture2D(orderSampler, v_texCoord).r;\n    float alpha = texture2D(alphaSampler, v_texCoord).r;\n    float intensity = texture2D(intensitySampler, v_texCoord).r;\n\n    float layerCoord = (order * 255.0) / (numberOfLayers - 1.0);\n    vec4 lutColor = texture2D(lutSampler, vec2(layerCoord, 0.5));\n\n    gl_FragColor = vec4(lutColor.rgb * intensity, alpha * lutColor.a);\n}\n"},function(e,t,n){var r=n(221);"string"==typeof r&&(r=[[e.id,r,""]]);n(7)(r,{});r.locals&&(e.exports=r.locals)},function(e,t,n){var r=n(222);"string"==typeof r&&(r=[[e.id,r,""]]);n(7)(r,{});r.locals&&(e.exports=r.locals)},function(e,t,n){var r=n(223);"string"==typeof r&&(r=[[e.id,r,""]]);n(7)(r,{});r.locals&&(e.exports=r.locals)},function(e,t,n){var r=n(225);"string"==typeof r&&(r=[[e.id,r,""]]);n(7)(r,{});r.locals&&(e.exports=r.locals)},function(e,t,n){var r=n(226);"string"==typeof r&&(r=[[e.id,r,""]]);n(7)(r,{});r.locals&&(e.exports=r.locals)},function(e,t,n){var r=n(227);"string"==typeof r&&(r=[[e.id,r,""]]);n(7)(r,{});r.locals&&(e.exports=r.locals)},function(e,t,n){var r=n(228);"string"==typeof r&&(r=[[e.id,r,""]]);n(7)(r,{});r.locals&&(e.exports=r.locals)},function(e,t,n){var r=n(230);"string"==typeof r&&(r=[[e.id,r,""]]);n(7)(r,{});r.locals&&(e.exports=r.locals)},function(e,t,n){var r=n(231);"string"==typeof r&&(r=[[e.id,r,""]]);n(7)(r,{});r.locals&&(e.exports=r.locals)},function(e,t,n){var r=n(232);"string"==typeof r&&(r=[[e.id,r,""]]);n(7)(r,{});r.locals&&(e.exports=r.locals)},function(e,t,n){var r=n(233);"string"==typeof r&&(r=[[e.id,r,""]]);n(7)(r,{});r.locals&&(e.exports=r.locals)},function(e,t,n){var r=n(234);"string"==typeof r&&(r=[[e.id,r,""]]);n(7)(r,{});r.locals&&(e.exports=r.locals)},function(e,t,n){var r=n(235);"string"==typeof r&&(r=[[e.id,r,""]]);n(7)(r,{});r.locals&&(e.exports=r.locals)},function(e,t,n){var r=n(236);"string"==typeof r&&(r=[[e.id,r,""]]);n(7)(r,{});r.locals&&(e.exports=r.locals)},function(e,t,n){var r=n(237);"string"==typeof r&&(r=[[e.id,r,""]]);n(7)(r,{});r.locals&&(e.exports=r.locals)},function(e,t,n){var r=n(238);"string"==typeof r&&(r=[[e.id,r,""]]);n(7)(r,{});r.locals&&(e.exports=r.locals)},function(e,t,n){var r=n(239);"string"==typeof r&&(r=[[e.id,r,""]]);n(7)(r,{});r.locals&&(e.exports=r.locals)},function(e,t,n){var r=n(240);"string"==typeof r&&(r=[[e.id,r,""]]);n(7)(r,{});r.locals&&(e.exports=r.locals)},function(e,t,n){var r=n(241);"string"==typeof r&&(r=[[e.id,r,""]]);n(7)(r,{});r.locals&&(e.exports=r.locals)},function(e,t,n){var r=n(242);"string"==typeof r&&(r=[[e.id,r,""]]);n(7)(r,{});r.locals&&(e.exports=r.locals)},function(e,t,n){var r=n(243);"string"==typeof r&&(r=[[e.id,r,""]]);n(7)(r,{});r.locals&&(e.exports=r.locals)},function(e,t,n){e.exports=n.p+"32400f4e08932a94d8bfd2422702c446.eot"},function(e,t,n){e.exports=n.p+"32400f4e08932a94d8bfd2422702c446.eot"},function(e,t,n){e.exports=n.p+"f775f9cca88e21d45bebe185b27c0e5b.svg"},function(e,t,n){e.exports=n.p+"a3de2170e4e9df77161ea5d3f31b2668.ttf"},function(e,t,n){e.exports=n.p+"db812d8a70a4e88e888744c1c9a27e89.woff2"},function(e,t,n){e.exports=n.p+"a35720c2fed2c7f043bc7e4ffb45e073.woff"},function(e,t,n){e.exports=n.p+"401b1af1d2627cc7eaec1708dff00bde.png"},function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAXQAAABsCAYAAAB6kUkRAAAAAXNSR0IArs4c6QAAAVlpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IlhNUCBDb3JlIDUuNC4wIj4KICAgPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4KICAgICAgPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIKICAgICAgICAgICAgeG1sbnM6dGlmZj0iaHR0cDovL25zLmFkb2JlLmNvbS90aWZmLzEuMC8iPgogICAgICAgICA8dGlmZjpPcmllbnRhdGlvbj4xPC90aWZmOk9yaWVudGF0aW9uPgogICAgICA8L3JkZjpEZXNjcmlwdGlvbj4KICAgPC9yZGY6UkRGPgo8L3g6eG1wbWV0YT4KTMInWQAABWdJREFUeAHt3EFq40AQBdCZQQcK5P5HEPhGM2ZAO6dCFS26ynnZGNLdcvl9+6OVfv99/v1K/J2Jvf+3pg9k38D+lQKf6YsJOE2280AyYOnuDCv/3n/yR5wgQIAAgY4CCr1jKmYiQIBAQUChF9AcIUCAQEcBhd4xFTMRIECgIKDQC2iOECBAoKOAQu+YipkIECBQEFDoBTRHCBAg0FFAoXdMxUwECBAoCCj0ApojBAgQ6Cig0DumYiYCBAgUBBR6Ac0RAgQIdBQ4zjP3tIbzM/kwiOynzo2TvfqP239zWgVPARfQvj7SLGDpfh1VbSUXsDv0mrJTBAgQaCeg0NtFYiACBAjUBBR6zc0pAgQItBNQ6O0iMRABAgRqAgq95uYUAQIE2gko9HaRGIgAAQI1AYVec3OKAAEC7QQUertIDESAAIGagEKvuTlFgACBdgIKvV0kBiJAgEBNQKHX3JwiQIBAO4EjO1G7ZzW0Gygrmtufe7JD7to9dwu4Zy5rpvph6T7R7v0Fu0Nf8710FQIECGwXUOjbIzAAAQIE1ggo9DWOrkKAAIHtAgp9ewQGIECAwBoBhb7G0VUIECCwXUChb4/AAAQIEFgjoNDXOLoKAQIEtgso9O0RGIAAAQJrBBT6GkdXIUCAwHYBhb49AgMQIEBgjYBCX+PoKgQIENgucJxn7mkK5+e9zyK4XST3cW8fZ7jm7T75NxBw3mzOiWbpPuF6/YLdoc/5LpuUAAECoYBCD3ksEiBAYI6AQp+TlUkJECAQCij0kMciAQIE5ggo9DlZmZQAAQKhgEIPeSwSIEBgjoBCn5OVSQkQIBAKKPSQxyIBAgTmCCj0OVmZlAABAqGAQg95LBIgQGCOgEKfk5VJCRAgEAoc4eqLxceL/731v5If+OOtMd7xwwn4HVO9PlMy3eex2b9gd+hX8l4JECAwXEChDw/Q+AQIELgEFPol4ZUAAQLDBRT68ACNT4AAgUtAoV8SXgkQIDBcQKEPD9D4BAgQuAQU+iXhlQABAsMFFPrwAI1PgACBS0ChXxJeCRAgMFxAoQ8P0PgECBC4BBT6JeGVAAECwwWO8zxzHyG7P3d1uzcLJL8Nm6f19mkBAafJJh1whz4pLbMSIEAgEFDoAY4lAgQITBJQ6JPSMisBAgQCAYUe4FgiQIDAJAGFPiktsxIgQCAQUOgBjiUCBAhMElDok9IyKwECBAIBhR7gWCJAgMAkAYU+KS2zEiBAIBBQ6AGOJQIECEwSUOiT0jIrAQIEAoEjWHu95Fkur12a/tejO5oGs2osAa+SbHqdXMDu0JvGaCwCBAhkBRR6Vsx+AgQINBVQ6E2DMRYBAgSyAgo9K2Y/AQIEmgoo9KbBGIsAAQJZAYWeFbOfAAECTQUUetNgjEWAAIGsgELPitlPgACBpgIKvWkwxiJAgEBWQKFnxewnQIBAUwGF3jQYYxEgQCArcJyezZI127o/92SHraN684qAgCtqg87cG7A79EFfBaMSIEAgElDokY41AgQIDBJQ6IPCMioBAgQiAYUe6VgjQIDAIAGFPigsoxIgQCASUOiRjjUCBAgMElDog8IyKgECBCIBhR7pWCNAgMAgAYU+KCyjEiBAIBJQ6JGONQIECAwSUOiDwjIqAQIEIoHj8XhE69ZuFrj3yQ43D+/y3wsI+HujxI58W30krl7Zem/A2endoVcydIYAAQINBRR6w1CMRIAAgYqAQq+oOUOAAIGGAgq9YShGIkCAQEVAoVfUnCFAgEBDAYXeMBQjESBAoCKg0CtqzhAgQKChgEJvGIqRCBAgUBFQ6BU1ZwgQINBQQKE3DMVIBAgQqAgo9IqaMwQIEGgo8A9bODHAkaf7RwAAAABJRU5ErkJggg=="},function(e,t){(function(t){e.exports=t}).call(t,{})},function(e,t){"use strict";function n(e){return e.replace(r,function(e,t){return t.toUpperCase()})}var r=/-(.)/g;e.exports=n},function(e,t,n){"use strict";function r(e){return o(e.replace(i,"ms-"))}var o=n(280),i=/^-ms-/;e.exports=r},function(e,t,n){"use strict";function r(e){return!!e&&("object"==typeof e||"function"==typeof e)&&"length"in e&&!("setInterval"in e)&&"number"!=typeof e.nodeType&&(Array.isArray(e)||"callee"in e||"item"in e)}function o(e){return r(e)?Array.isArray(e)?e.slice():i(e):[e]}var i=n(293);e.exports=o},function(e,t,n){(function(t){"use strict";function r(e){var t=e.match(c);return t&&t[1].toLowerCase()}function o(e,n){var o=u;u?void 0:"production"!==t.env.NODE_ENV?l(!1,"createNodesFromMarkup dummy not initialized"):l(!1);var i=r(e),c=i&&s(i);if(c){o.innerHTML=c[1]+e+c[2];for(var p=c[0];p--;)o=o.lastChild}else o.innerHTML=e;var d=o.getElementsByTagName("script");d.length&&(n?void 0:"production"!==t.env.NODE_ENV?l(!1,"createNodesFromMarkup(...): Unexpected <script> element rendered."):l(!1),a(d).forEach(n));for(var f=a(o.childNodes);o.lastChild;)o.removeChild(o.lastChild);return f}var i=n(8),a=n(282),s=n(111),l=n(3),u=i.canUseDOM?document.createElement("div"):null,c=/^\s*<(\w+)/;e.exports=o}).call(t,n(1))},function(e,t){"use strict";function n(e){return e===window?{x:window.pageXOffset||document.documentElement.scrollLeft,y:window.pageYOffset||document.documentElement.scrollTop}:{x:e.scrollLeft,y:e.scrollTop}}e.exports=n},function(e,t){"use strict";function n(e){return e.replace(r,"-$1").toLowerCase()}var r=/([A-Z])/g;e.exports=n},function(e,t,n){"use strict";function r(e){return o(e).replace(i,"-ms-")}var o=n(285),i=/^ms-/;e.exports=r},function(e,t){"use strict";function n(e){return!(!e||!("function"==typeof Node?e instanceof Node:"object"==typeof e&&"number"==typeof e.nodeType&&"string"==typeof e.nodeName))}e.exports=n},function(e,t,n){"use strict";function r(e){return o(e)&&3==e.nodeType}var o=n(287);e.exports=r},function(e,t){"use strict";function n(e,t,n){if(!e)return null;var o={};for(var i in e)r.call(e,i)&&(o[i]=t.call(n,e[i],i,e));return o}var r=Object.prototype.hasOwnProperty;e.exports=n},function(e,t){"use strict";function n(e){var t={};return function(n){return t.hasOwnProperty(n)||(t[n]=e.call(this,n)),t[n]}}e.exports=n},function(e,t,n){"use strict";var r,o=n(8);o.canUseDOM&&(r=window.performance||window.msPerformance||window.webkitPerformance),e.exports=r||{}},function(e,t,n){"use strict";var r=n(291),o=r;o&&o.now||(o=Date);var i=o.now.bind(o);e.exports=i},function(e,t,n){(function(t){"use strict";function r(e){var n=e.length;if(Array.isArray(e)||"object"!=typeof e&&"function"!=typeof e?"production"!==t.env.NODE_ENV?o(!1,"toArray: Array-like object expected"):o(!1):void 0,"number"!=typeof n?"production"!==t.env.NODE_ENV?o(!1,"toArray: Object needs a length property"):o(!1):void 0,0===n||n-1 in e?void 0:"production"!==t.env.NODE_ENV?o(!1,"toArray: Object should have keys for indices"):o(!1),e.hasOwnProperty)try{return Array.prototype.slice.call(e)}catch(r){}for(var i=Array(n),a=0;n>a;a++)i[a]=e[a];return i}var o=n(3);e.exports=r}).call(t,n(1))},function(e,t,n){var r=n(68),o={};o.create=function(){var e=new r.ARRAY_TYPE(2);return e[0]=0,e[1]=0,e},o.clone=function(e){var t=new r.ARRAY_TYPE(2);return t[0]=e[0],t[1]=e[1],t},o.fromValues=function(e,t){var n=new r.ARRAY_TYPE(2);return n[0]=e,n[1]=t,n},o.copy=function(e,t){return e[0]=t[0],e[1]=t[1],e},o.set=function(e,t,n){return e[0]=t,e[1]=n,e},o.add=function(e,t,n){return e[0]=t[0]+n[0],e[1]=t[1]+n[1],e},o.subtract=function(e,t,n){return e[0]=t[0]-n[0],e[1]=t[1]-n[1],e},o.sub=o.subtract,o.multiply=function(e,t,n){return e[0]=t[0]*n[0],e[1]=t[1]*n[1],e},o.mul=o.multiply,o.divide=function(e,t,n){return e[0]=t[0]/n[0],e[1]=t[1]/n[1],e},o.div=o.divide,o.min=function(e,t,n){return e[0]=Math.min(t[0],n[0]),e[1]=Math.min(t[1],n[1]),e},o.max=function(e,t,n){return e[0]=Math.max(t[0],n[0]),e[1]=Math.max(t[1],n[1]),e},o.scale=function(e,t,n){return e[0]=t[0]*n,e[1]=t[1]*n,e},o.scaleAndAdd=function(e,t,n,r){return e[0]=t[0]+n[0]*r,e[1]=t[1]+n[1]*r,e},o.distance=function(e,t){var n=t[0]-e[0],r=t[1]-e[1];return Math.sqrt(n*n+r*r)},o.dist=o.distance,o.squaredDistance=function(e,t){var n=t[0]-e[0],r=t[1]-e[1];return n*n+r*r},o.sqrDist=o.squaredDistance,o.length=function(e){var t=e[0],n=e[1];return Math.sqrt(t*t+n*n)},o.len=o.length,o.squaredLength=function(e){var t=e[0],n=e[1];return t*t+n*n},o.sqrLen=o.squaredLength,o.negate=function(e,t){return e[0]=-t[0],e[1]=-t[1],e},o.inverse=function(e,t){return e[0]=1/t[0],e[1]=1/t[1],e},o.normalize=function(e,t){var n=t[0],r=t[1],o=n*n+r*r;return o>0&&(o=1/Math.sqrt(o),e[0]=t[0]*o,e[1]=t[1]*o),e},o.dot=function(e,t){return e[0]*t[0]+e[1]*t[1]},o.cross=function(e,t,n){var r=t[0]*n[1]-t[1]*n[0];return e[0]=e[1]=0,e[2]=r,e},o.lerp=function(e,t,n,r){var o=t[0],i=t[1];return e[0]=o+r*(n[0]-o),e[1]=i+r*(n[1]-i),e},o.random=function(e,t){t=t||1;var n=2*r.RANDOM()*Math.PI;return e[0]=Math.cos(n)*t,e[1]=Math.sin(n)*t,e},o.transformMat2=function(e,t,n){var r=t[0],o=t[1];return e[0]=n[0]*r+n[2]*o,e[1]=n[1]*r+n[3]*o,e},o.transformMat2d=function(e,t,n){var r=t[0],o=t[1];return e[0]=n[0]*r+n[2]*o+n[4],e[1]=n[1]*r+n[3]*o+n[5],e},o.transformMat3=function(e,t,n){var r=t[0],o=t[1];return e[0]=n[0]*r+n[3]*o+n[6],e[1]=n[1]*r+n[4]*o+n[7],e},o.transformMat4=function(e,t,n){var r=t[0],o=t[1];return e[0]=n[0]*r+n[4]*o+n[12],e[1]=n[1]*r+n[5]*o+n[13],e},o.forEach=function(){var e=o.create();return function(t,n,r,o,i,a){var s,l;for(n||(n=2),r||(r=0),l=o?Math.min(o*n+r,t.length):t.length,s=r;l>s;s+=n)e[0]=t[s],e[1]=t[s+1],i(e,e,a),t[s]=e[0],t[s+1]=e[1];return t}}(),o.str=function(e){return"vec2("+e[0]+", "+e[1]+")"},e.exports=o},function(e,t,n){var r=n(68),o={};o.create=function(){var e=new r.ARRAY_TYPE(3);return e[0]=0,e[1]=0,e[2]=0,e},o.clone=function(e){var t=new r.ARRAY_TYPE(3);return t[0]=e[0],t[1]=e[1],t[2]=e[2],t},o.fromValues=function(e,t,n){var o=new r.ARRAY_TYPE(3);return o[0]=e,o[1]=t,o[2]=n,o},o.copy=function(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e},o.set=function(e,t,n,r){return e[0]=t,e[1]=n,e[2]=r,e},o.add=function(e,t,n){return e[0]=t[0]+n[0],e[1]=t[1]+n[1],e[2]=t[2]+n[2],e},o.subtract=function(e,t,n){return e[0]=t[0]-n[0],e[1]=t[1]-n[1],e[2]=t[2]-n[2],e},o.sub=o.subtract,o.multiply=function(e,t,n){return e[0]=t[0]*n[0],e[1]=t[1]*n[1],e[2]=t[2]*n[2],e},o.mul=o.multiply,o.divide=function(e,t,n){return e[0]=t[0]/n[0],e[1]=t[1]/n[1],e[2]=t[2]/n[2],e},o.div=o.divide,o.min=function(e,t,n){return e[0]=Math.min(t[0],n[0]),e[1]=Math.min(t[1],n[1]),e[2]=Math.min(t[2],n[2]),e},o.max=function(e,t,n){return e[0]=Math.max(t[0],n[0]),e[1]=Math.max(t[1],n[1]),e[2]=Math.max(t[2],n[2]),e},o.scale=function(e,t,n){return e[0]=t[0]*n,e[1]=t[1]*n,e[2]=t[2]*n,e},o.scaleAndAdd=function(e,t,n,r){return e[0]=t[0]+n[0]*r,e[1]=t[1]+n[1]*r,e[2]=t[2]+n[2]*r,e},o.distance=function(e,t){var n=t[0]-e[0],r=t[1]-e[1],o=t[2]-e[2];return Math.sqrt(n*n+r*r+o*o)},o.dist=o.distance,o.squaredDistance=function(e,t){var n=t[0]-e[0],r=t[1]-e[1],o=t[2]-e[2];return n*n+r*r+o*o},o.sqrDist=o.squaredDistance,o.length=function(e){var t=e[0],n=e[1],r=e[2];return Math.sqrt(t*t+n*n+r*r)},o.len=o.length,o.squaredLength=function(e){var t=e[0],n=e[1],r=e[2];return t*t+n*n+r*r},o.sqrLen=o.squaredLength,o.negate=function(e,t){return e[0]=-t[0],e[1]=-t[1],e[2]=-t[2],e},o.inverse=function(e,t){return e[0]=1/t[0],e[1]=1/t[1],e[2]=1/t[2],e},o.normalize=function(e,t){var n=t[0],r=t[1],o=t[2],i=n*n+r*r+o*o;return i>0&&(i=1/Math.sqrt(i),e[0]=t[0]*i,e[1]=t[1]*i,e[2]=t[2]*i),e},o.dot=function(e,t){return e[0]*t[0]+e[1]*t[1]+e[2]*t[2]},o.cross=function(e,t,n){var r=t[0],o=t[1],i=t[2],a=n[0],s=n[1],l=n[2];return e[0]=o*l-i*s,e[1]=i*a-r*l,e[2]=r*s-o*a,e},o.lerp=function(e,t,n,r){var o=t[0],i=t[1],a=t[2];return e[0]=o+r*(n[0]-o),e[1]=i+r*(n[1]-i),e[2]=a+r*(n[2]-a),e},o.hermite=function(e,t,n,r,o,i){var a=i*i,s=a*(2*i-3)+1,l=a*(i-2)+i,u=a*(i-1),c=a*(3-2*i);return e[0]=t[0]*s+n[0]*l+r[0]*u+o[0]*c,e[1]=t[1]*s+n[1]*l+r[1]*u+o[1]*c,e[2]=t[2]*s+n[2]*l+r[2]*u+o[2]*c,e},o.bezier=function(e,t,n,r,o,i){var a=1-i,s=a*a,l=i*i,u=s*a,c=3*i*s,p=3*l*a,d=l*i;return e[0]=t[0]*u+n[0]*c+r[0]*p+o[0]*d,e[1]=t[1]*u+n[1]*c+r[1]*p+o[1]*d,e[2]=t[2]*u+n[2]*c+r[2]*p+o[2]*d,e},o.random=function(e,t){t=t||1;var n=2*r.RANDOM()*Math.PI,o=2*r.RANDOM()-1,i=Math.sqrt(1-o*o)*t;return e[0]=Math.cos(n)*i,e[1]=Math.sin(n)*i,e[2]=o*t,e},o.transformMat4=function(e,t,n){var r=t[0],o=t[1],i=t[2],a=n[3]*r+n[7]*o+n[11]*i+n[15];return a=a||1,e[0]=(n[0]*r+n[4]*o+n[8]*i+n[12])/a,e[1]=(n[1]*r+n[5]*o+n[9]*i+n[13])/a,e[2]=(n[2]*r+n[6]*o+n[10]*i+n[14])/a,e},o.transformMat3=function(e,t,n){var r=t[0],o=t[1],i=t[2];return e[0]=r*n[0]+o*n[3]+i*n[6],e[1]=r*n[1]+o*n[4]+i*n[7],e[2]=r*n[2]+o*n[5]+i*n[8],e},o.transformQuat=function(e,t,n){var r=t[0],o=t[1],i=t[2],a=n[0],s=n[1],l=n[2],u=n[3],c=u*r+s*i-l*o,p=u*o+l*r-a*i,d=u*i+a*o-s*r,f=-a*r-s*o-l*i;return e[0]=c*u+f*-a+p*-l-d*-s,e[1]=p*u+f*-s+d*-a-c*-l,e[2]=d*u+f*-l+c*-s-p*-a,e},o.rotateX=function(e,t,n,r){var o=[],i=[];return o[0]=t[0]-n[0],o[1]=t[1]-n[1],o[2]=t[2]-n[2],i[0]=o[0],i[1]=o[1]*Math.cos(r)-o[2]*Math.sin(r),i[2]=o[1]*Math.sin(r)+o[2]*Math.cos(r),e[0]=i[0]+n[0],e[1]=i[1]+n[1],e[2]=i[2]+n[2],e},o.rotateY=function(e,t,n,r){var o=[],i=[];return o[0]=t[0]-n[0],o[1]=t[1]-n[1],o[2]=t[2]-n[2],i[0]=o[2]*Math.sin(r)+o[0]*Math.cos(r),i[1]=o[1],i[2]=o[2]*Math.cos(r)-o[0]*Math.sin(r),e[0]=i[0]+n[0],e[1]=i[1]+n[1],e[2]=i[2]+n[2],e},o.rotateZ=function(e,t,n,r){var o=[],i=[];return o[0]=t[0]-n[0],o[1]=t[1]-n[1],o[2]=t[2]-n[2],i[0]=o[0]*Math.cos(r)-o[1]*Math.sin(r),i[1]=o[0]*Math.sin(r)+o[1]*Math.cos(r),i[2]=o[2],e[0]=i[0]+n[0],e[1]=i[1]+n[1],e[2]=i[2]+n[2],e},o.forEach=function(){var e=o.create();return function(t,n,r,o,i,a){var s,l;for(n||(n=3),r||(r=0),l=o?Math.min(o*n+r,t.length):t.length,s=r;l>s;s+=n)e[0]=t[s],e[1]=t[s+1],e[2]=t[s+2],i(e,e,a),t[s]=e[0],t[s+1]=e[1],t[s+2]=e[2];return t}}(),o.angle=function(e,t){var n=o.fromValues(e[0],e[1],e[2]),r=o.fromValues(t[0],t[1],t[2]);o.normalize(n,n),o.normalize(r,r);var i=o.dot(n,r);return i>1?0:Math.acos(i)},o.str=function(e){return"vec3("+e[0]+", "+e[1]+", "+e[2]+")"},e.exports=o},function(e,t,n){var r;/*! Hammer.JS - v2.0.4 - 2014-09-28
	 * http://hammerjs.github.io/
	 *
	 * Copyright (c) 2014 Jorik Tangelder;
	 * Licensed under the MIT license */
!function(o,i,a,s){"use strict";function l(e,t,n){return setTimeout(h(e,n),t)}function u(e,t,n){return Array.isArray(e)?(c(e,n[t],n),!0):!1}function c(e,t,n){var r;if(e)if(e.forEach)e.forEach(t,n);else if(e.length!==s)for(r=0;r<e.length;)t.call(n,e[r],r,e),r++;else for(r in e)e.hasOwnProperty(r)&&t.call(n,e[r],r,e)}function p(e,t,n){for(var r=Object.keys(t),o=0;o<r.length;)(!n||n&&e[r[o]]===s)&&(e[r[o]]=t[r[o]]),o++;return e}function d(e,t){return p(e,t,!0)}function f(e,t,n){var r,o=t.prototype;r=e.prototype=Object.create(o),r.constructor=e,r._super=o,n&&p(r,n)}function h(e,t){return function(){return e.apply(t,arguments)}}function g(e,t){return typeof e==he?e.apply(t?t[0]||s:s,t):e}function m(e,t){return e===s?t:e}function v(e,t,n){c(x(t),function(t){e.addEventListener(t,n,!1)})}function b(e,t,n){c(x(t),function(t){e.removeEventListener(t,n,!1)})}function y(e,t){for(;e;){if(e==t)return!0;e=e.parentNode}return!1}function _(e,t){return e.indexOf(t)>-1}function x(e){return e.trim().split(/\s+/g)}function E(e,t,n){if(e.indexOf&&!n)return e.indexOf(t);for(var r=0;r<e.length;){if(n&&e[r][n]==t||!n&&e[r]===t)return r;r++}return-1}function C(e){return Array.prototype.slice.call(e,0)}function w(e,t,n){for(var r=[],o=[],i=0;i<e.length;){var a=t?e[i][t]:e[i];E(o,a)<0&&r.push(e[i]),o[i]=a,i++}return n&&(r=t?r.sort(function(e,n){return e[t]>n[t]}):r.sort()),r}function D(e,t){for(var n,r,o=t[0].toUpperCase()+t.slice(1),i=0;i<de.length;){if(n=de[i],r=n?n+o:t,r in e)return r;i++}return s}function T(){return be++}function M(e){var t=e.ownerDocument;return t.defaultView||t.parentWindow}function k(e,t){var n=this;this.manager=e,this.callback=t,this.element=e.element,this.target=e.options.inputTarget,this.domHandler=function(t){g(e.options.enable,[e])&&n.handler(t)},this.init()}function N(e){var t,n=e.options.inputClass;return new(t=n?n:xe?z:Ee?Y:_e?G:W)(e,P)}function P(e,t,n){var r=n.pointers.length,o=n.changedPointers.length,i=t&ke&&r-o===0,a=t&(Pe|Re)&&r-o===0;n.isFirst=!!i,n.isFinal=!!a,i&&(e.session={}),n.eventType=t,R(e,n),e.emit("hammer.input",n),e.recognize(n),e.session.prevInput=n}function R(e,t){var n=e.session,r=t.pointers,o=r.length;n.firstInput||(n.firstInput=A(t)),o>1&&!n.firstMultiple?n.firstMultiple=A(t):1===o&&(n.firstMultiple=!1);var i=n.firstInput,a=n.firstMultiple,s=a?a.center:i.center,l=t.center=I(r);t.timeStamp=ve(),t.deltaTime=t.timeStamp-i.timeStamp,t.angle=V(s,l),t.distance=U(s,l),S(n,t),t.offsetDirection=L(t.deltaX,t.deltaY),t.scale=a?j(a.pointers,r):1,t.rotation=a?B(a.pointers,r):0,O(n,t);var u=e.element;y(t.srcEvent.target,u)&&(u=t.srcEvent.target),t.target=u}function S(e,t){var n=t.center,r=e.offsetDelta||{},o=e.prevDelta||{},i=e.prevInput||{};(t.eventType===ke||i.eventType===Pe)&&(o=e.prevDelta={x:i.deltaX||0,y:i.deltaY||0},r=e.offsetDelta={x:n.x,y:n.y}),t.deltaX=o.x+(n.x-r.x),t.deltaY=o.y+(n.y-r.y)}function O(e,t){var n,r,o,i,a=e.lastInterval||t,l=t.timeStamp-a.timeStamp;if(t.eventType!=Re&&(l>Me||a.velocity===s)){var u=a.deltaX-t.deltaX,c=a.deltaY-t.deltaY,p=F(l,u,c);r=p.x,o=p.y,n=me(p.x)>me(p.y)?p.x:p.y,i=L(u,c),e.lastInterval=t}else n=a.velocity,r=a.velocityX,o=a.velocityY,i=a.direction;t.velocity=n,t.velocityX=r,t.velocityY=o,t.direction=i}function A(e){for(var t=[],n=0;n<e.pointers.length;)t[n]={clientX:ge(e.pointers[n].clientX),clientY:ge(e.pointers[n].clientY)},n++;return{timeStamp:ve(),pointers:t,center:I(t),deltaX:e.deltaX,deltaY:e.deltaY}}function I(e){var t=e.length;if(1===t)return{x:ge(e[0].clientX),y:ge(e[0].clientY)};for(var n=0,r=0,o=0;t>o;)n+=e[o].clientX,r+=e[o].clientY,o++;return{x:ge(n/t),y:ge(r/t)}}function F(e,t,n){return{x:t/e||0,y:n/e||0}}function L(e,t){return e===t?Se:me(e)>=me(t)?e>0?Oe:Ae:t>0?Ie:Fe}function U(e,t,n){n||(n=Be);var r=t[n[0]]-e[n[0]],o=t[n[1]]-e[n[1]];return Math.sqrt(r*r+o*o)}function V(e,t,n){n||(n=Be);var r=t[n[0]]-e[n[0]],o=t[n[1]]-e[n[1]];return 180*Math.atan2(o,r)/Math.PI}function B(e,t){return V(t[1],t[0],je)-V(e[1],e[0],je)}function j(e,t){return U(t[0],t[1],je)/U(e[0],e[1],je)}function W(){this.evEl=ze,this.evWin=qe,this.allow=!0,this.pressed=!1,k.apply(this,arguments)}function z(){this.evEl=He,this.evWin=Ge,k.apply(this,arguments),this.store=this.manager.session.pointerEvents=[]}function q(){this.evTarget=Ze,this.evWin=Ke,this.started=!1,k.apply(this,arguments)}function X(e,t){var n=C(e.touches),r=C(e.changedTouches);return t&(Pe|Re)&&(n=w(n.concat(r),"identifier",!0)),[n,r]}function Y(){this.evTarget=$e,this.targetIds={},k.apply(this,arguments)}function H(e,t){var n=C(e.touches),r=this.targetIds;if(t&(ke|Ne)&&1===n.length)return r[n[0].identifier]=!0,[n,n];var o,i,a=C(e.changedTouches),s=[],l=this.target;if(i=n.filter(function(e){return y(e.target,l)}),t===ke)for(o=0;o<i.length;)r[i[o].identifier]=!0,o++;for(o=0;o<a.length;)r[a[o].identifier]&&s.push(a[o]),t&(Pe|Re)&&delete r[a[o].identifier],o++;return s.length?[w(i.concat(s),"identifier",!0),s]:void 0}function G(){k.apply(this,arguments);var e=h(this.handler,this);this.touch=new Y(this.manager,e),this.mouse=new W(this.manager,e)}function Q(e,t){this.manager=e,this.set(t)}function Z(e){if(_(e,it))return it;var t=_(e,at),n=_(e,st);return t&&n?at+" "+st:t||n?t?at:st:_(e,ot)?ot:rt}function K(e){this.id=T(),this.manager=null,this.options=d(e||{},this.defaults),this.options.enable=m(this.options.enable,!0),this.state=lt,this.simultaneous={},this.requireFail=[]}function J(e){return e&ft?"cancel":e&pt?"end":e&ct?"move":e&ut?"start":""}function $(e){return e==Fe?"down":e==Ie?"up":e==Oe?"left":e==Ae?"right":""}function ee(e,t){var n=t.manager;return n?n.get(e):e}function te(){K.apply(this,arguments)}function ne(){te.apply(this,arguments),this.pX=null,this.pY=null}function re(){te.apply(this,arguments)}function oe(){K.apply(this,arguments),this._timer=null,this._input=null}function ie(){te.apply(this,arguments)}function ae(){te.apply(this,arguments)}function se(){K.apply(this,arguments),this.pTime=!1,this.pCenter=!1,this._timer=null,this._input=null,this.count=0}function le(e,t){return t=t||{},t.recognizers=m(t.recognizers,le.defaults.preset),new ue(e,t)}function ue(e,t){t=t||{},this.options=d(t,le.defaults),this.options.inputTarget=this.options.inputTarget||e,this.handlers={},this.session={},this.recognizers=[],this.element=e,this.input=N(this),this.touchAction=new Q(this,this.options.touchAction),ce(this,!0),c(t.recognizers,function(e){var t=this.add(new e[0](e[1]));e[2]&&t.recognizeWith(e[2]),e[3]&&t.requireFailure(e[3])},this)}function ce(e,t){var n=e.element;c(e.options.cssProps,function(e,r){n.style[D(n.style,r)]=t?e:""})}function pe(e,t){var n=i.createEvent("Event");n.initEvent(e,!0,!0),n.gesture=t,t.target.dispatchEvent(n)}var de=["","webkit","moz","MS","ms","o"],fe=i.createElement("div"),he="function",ge=Math.round,me=Math.abs,ve=Date.now,be=1,ye=/mobile|tablet|ip(ad|hone|od)|android/i,_e="ontouchstart"in o,xe=D(o,"PointerEvent")!==s,Ee=_e&&ye.test(navigator.userAgent),Ce="touch",we="pen",De="mouse",Te="kinect",Me=25,ke=1,Ne=2,Pe=4,Re=8,Se=1,Oe=2,Ae=4,Ie=8,Fe=16,Le=Oe|Ae,Ue=Ie|Fe,Ve=Le|Ue,Be=["x","y"],je=["clientX","clientY"];k.prototype={handler:function(){},init:function(){this.evEl&&v(this.element,this.evEl,this.domHandler),this.evTarget&&v(this.target,this.evTarget,this.domHandler),this.evWin&&v(M(this.element),this.evWin,this.domHandler)},destroy:function(){this.evEl&&b(this.element,this.evEl,this.domHandler),this.evTarget&&b(this.target,this.evTarget,this.domHandler),this.evWin&&b(M(this.element),this.evWin,this.domHandler)}};var We={mousedown:ke,mousemove:Ne,mouseup:Pe},ze="mousedown",qe="mousemove mouseup";f(W,k,{handler:function(e){var t=We[e.type];t&ke&&0===e.button&&(this.pressed=!0),t&Ne&&1!==e.which&&(t=Pe),this.pressed&&this.allow&&(t&Pe&&(this.pressed=!1),this.callback(this.manager,t,{pointers:[e],changedPointers:[e],pointerType:De,srcEvent:e}))}});var Xe={pointerdown:ke,pointermove:Ne,pointerup:Pe,pointercancel:Re,pointerout:Re},Ye={2:Ce,3:we,4:De,5:Te},He="pointerdown",Ge="pointermove pointerup pointercancel";o.MSPointerEvent&&(He="MSPointerDown",Ge="MSPointerMove MSPointerUp MSPointerCancel"),f(z,k,{handler:function(e){var t=this.store,n=!1,r=e.type.toLowerCase().replace("ms",""),o=Xe[r],i=Ye[e.pointerType]||e.pointerType,a=i==Ce,s=E(t,e.pointerId,"pointerId");o&ke&&(0===e.button||a)?0>s&&(t.push(e),s=t.length-1):o&(Pe|Re)&&(n=!0),0>s||(t[s]=e,this.callback(this.manager,o,{pointers:t,changedPointers:[e],pointerType:i,srcEvent:e}),n&&t.splice(s,1))}});var Qe={touchstart:ke,touchmove:Ne,touchend:Pe,touchcancel:Re},Ze="touchstart",Ke="touchstart touchmove touchend touchcancel";f(q,k,{handler:function(e){var t=Qe[e.type];if(t===ke&&(this.started=!0),this.started){var n=X.call(this,e,t);t&(Pe|Re)&&n[0].length-n[1].length===0&&(this.started=!1),this.callback(this.manager,t,{pointers:n[0],changedPointers:n[1],pointerType:Ce,srcEvent:e})}}});var Je={touchstart:ke,touchmove:Ne,touchend:Pe,touchcancel:Re},$e="touchstart touchmove touchend touchcancel";f(Y,k,{handler:function(e){var t=Je[e.type],n=H.call(this,e,t);n&&this.callback(this.manager,t,{pointers:n[0],changedPointers:n[1],pointerType:Ce,srcEvent:e})}}),f(G,k,{handler:function(e,t,n){var r=n.pointerType==Ce,o=n.pointerType==De;if(r)this.mouse.allow=!1;else if(o&&!this.mouse.allow)return;t&(Pe|Re)&&(this.mouse.allow=!0),this.callback(e,t,n)},destroy:function(){this.touch.destroy(),this.mouse.destroy()}});var et=D(fe.style,"touchAction"),tt=et!==s,nt="compute",rt="auto",ot="manipulation",it="none",at="pan-x",st="pan-y";Q.prototype={set:function(e){e==nt&&(e=this.compute()),tt&&(this.manager.element.style[et]=e),this.actions=e.toLowerCase().trim()},update:function(){this.set(this.manager.options.touchAction)},compute:function(){var e=[];return c(this.manager.recognizers,function(t){g(t.options.enable,[t])&&(e=e.concat(t.getTouchAction()))}),Z(e.join(" "))},preventDefaults:function(e){if(!tt){var t=e.srcEvent,n=e.offsetDirection;if(this.manager.session.prevented)return void t.preventDefault();var r=this.actions,o=_(r,it),i=_(r,st),a=_(r,at);return o||i&&n&Le||a&&n&Ue?this.preventSrc(t):void 0}},preventSrc:function(e){this.manager.session.prevented=!0,e.preventDefault()}};var lt=1,ut=2,ct=4,pt=8,dt=pt,ft=16,ht=32;K.prototype={defaults:{},set:function(e){return p(this.options,e),this.manager&&this.manager.touchAction.update(),this},recognizeWith:function(e){if(u(e,"recognizeWith",this))return this;var t=this.simultaneous;return e=ee(e,this),t[e.id]||(t[e.id]=e,e.recognizeWith(this)),this},dropRecognizeWith:function(e){return u(e,"dropRecognizeWith",this)?this:(e=ee(e,this),delete this.simultaneous[e.id],this)},requireFailure:function(e){if(u(e,"requireFailure",this))return this;var t=this.requireFail;return e=ee(e,this),-1===E(t,e)&&(t.push(e),e.requireFailure(this)),this},dropRequireFailure:function(e){if(u(e,"dropRequireFailure",this))return this;e=ee(e,this);var t=E(this.requireFail,e);return t>-1&&this.requireFail.splice(t,1),this},hasRequireFailures:function(){return this.requireFail.length>0},canRecognizeWith:function(e){return!!this.simultaneous[e.id]},emit:function(e){function t(t){n.manager.emit(n.options.event+(t?J(r):""),e)}var n=this,r=this.state;pt>r&&t(!0),t(),r>=pt&&t(!0)},tryEmit:function(e){return this.canEmit()?this.emit(e):void(this.state=ht)},canEmit:function(){for(var e=0;e<this.requireFail.length;){if(!(this.requireFail[e].state&(ht|lt)))return!1;e++}return!0},recognize:function(e){var t=p({},e);return g(this.options.enable,[this,t])?(this.state&(dt|ft|ht)&&(this.state=lt),this.state=this.process(t),void(this.state&(ut|ct|pt|ft)&&this.tryEmit(t))):(this.reset(),void(this.state=ht))},process:function(e){},getTouchAction:function(){},reset:function(){}},f(te,K,{defaults:{pointers:1},attrTest:function(e){var t=this.options.pointers;return 0===t||e.pointers.length===t},process:function(e){var t=this.state,n=e.eventType,r=t&(ut|ct),o=this.attrTest(e);return r&&(n&Re||!o)?t|ft:r||o?n&Pe?t|pt:t&ut?t|ct:ut:ht}}),f(ne,te,{defaults:{event:"pan",threshold:10,pointers:1,direction:Ve},getTouchAction:function(){var e=this.options.direction,t=[];return e&Le&&t.push(st),e&Ue&&t.push(at),t},directionTest:function(e){var t=this.options,n=!0,r=e.distance,o=e.direction,i=e.deltaX,a=e.deltaY;return o&t.direction||(t.direction&Le?(o=0===i?Se:0>i?Oe:Ae,n=i!=this.pX,r=Math.abs(e.deltaX)):(o=0===a?Se:0>a?Ie:Fe,n=a!=this.pY,r=Math.abs(e.deltaY))),e.direction=o,n&&r>t.threshold&&o&t.direction},attrTest:function(e){return te.prototype.attrTest.call(this,e)&&(this.state&ut||!(this.state&ut)&&this.directionTest(e))},emit:function(e){this.pX=e.deltaX,this.pY=e.deltaY;var t=$(e.direction);t&&this.manager.emit(this.options.event+t,e),this._super.emit.call(this,e)}}),f(re,te,{defaults:{event:"pinch",threshold:0,pointers:2},getTouchAction:function(){return[it]},attrTest:function(e){return this._super.attrTest.call(this,e)&&(Math.abs(e.scale-1)>this.options.threshold||this.state&ut)},emit:function(e){if(this._super.emit.call(this,e),1!==e.scale){var t=e.scale<1?"in":"out";this.manager.emit(this.options.event+t,e)}}}),f(oe,K,{defaults:{event:"press",pointers:1,time:500,threshold:5},getTouchAction:function(){return[rt]},process:function(e){var t=this.options,n=e.pointers.length===t.pointers,r=e.distance<t.threshold,o=e.deltaTime>t.time;if(this._input=e,!r||!n||e.eventType&(Pe|Re)&&!o)this.reset();else if(e.eventType&ke)this.reset(),this._timer=l(function(){this.state=dt,this.tryEmit()},t.time,this);else if(e.eventType&Pe)return dt;return ht},reset:function(){clearTimeout(this._timer)},emit:function(e){this.state===dt&&(e&&e.eventType&Pe?this.manager.emit(this.options.event+"up",e):(this._input.timeStamp=ve(),this.manager.emit(this.options.event,this._input)))}}),f(ie,te,{defaults:{event:"rotate",threshold:0,pointers:2},getTouchAction:function(){return[it]},attrTest:function(e){return this._super.attrTest.call(this,e)&&(Math.abs(e.rotation)>this.options.threshold||this.state&ut)}}),f(ae,te,{defaults:{event:"swipe",threshold:10,velocity:.65,direction:Le|Ue,pointers:1},getTouchAction:function(){return ne.prototype.getTouchAction.call(this)},attrTest:function(e){var t,n=this.options.direction;return n&(Le|Ue)?t=e.velocity:n&Le?t=e.velocityX:n&Ue&&(t=e.velocityY),this._super.attrTest.call(this,e)&&n&e.direction&&e.distance>this.options.threshold&&me(t)>this.options.velocity&&e.eventType&Pe},emit:function(e){var t=$(e.direction);t&&this.manager.emit(this.options.event+t,e),this.manager.emit(this.options.event,e)}}),f(se,K,{defaults:{event:"tap",pointers:1,taps:1,interval:300,time:250,threshold:2,posThreshold:10},getTouchAction:function(){return[ot]},process:function(e){var t=this.options,n=e.pointers.length===t.pointers,r=e.distance<t.threshold,o=e.deltaTime<t.time;if(this.reset(),e.eventType&ke&&0===this.count)return this.failTimeout();if(r&&o&&n){if(e.eventType!=Pe)return this.failTimeout();var i=this.pTime?e.timeStamp-this.pTime<t.interval:!0,a=!this.pCenter||U(this.pCenter,e.center)<t.posThreshold;this.pTime=e.timeStamp,this.pCenter=e.center,a&&i?this.count+=1:this.count=1,this._input=e;var s=this.count%t.taps;if(0===s)return this.hasRequireFailures()?(this._timer=l(function(){this.state=dt,this.tryEmit()},t.interval,this),ut):dt}return ht},failTimeout:function(){return this._timer=l(function(){this.state=ht},this.options.interval,this),ht},reset:function(){clearTimeout(this._timer)},emit:function(){this.state==dt&&(this._input.tapCount=this.count,this.manager.emit(this.options.event,this._input))}}),le.VERSION="2.0.4",le.defaults={domEvents:!1,touchAction:nt,enable:!0,inputTarget:null,inputClass:null,preset:[[ie,{enable:!1}],[re,{enable:!1},["rotate"]],[ae,{direction:Le}],[ne,{direction:Le},["swipe"]],[se],[se,{event:"doubletap",taps:2},["tap"]],[oe]],cssProps:{userSelect:"none",touchSelect:"none",touchCallout:"none",contentZooming:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"}};var gt=1,mt=2;ue.prototype={set:function(e){return p(this.options,e),e.touchAction&&this.touchAction.update(),e.inputTarget&&(this.input.destroy(),this.input.target=e.inputTarget,this.input.init()),this},stop:function(e){this.session.stopped=e?mt:gt},recognize:function(e){var t=this.session;if(!t.stopped){this.touchAction.preventDefaults(e);var n,r=this.recognizers,o=t.curRecognizer;(!o||o&&o.state&dt)&&(o=t.curRecognizer=null);for(var i=0;i<r.length;)n=r[i],t.stopped===mt||o&&n!=o&&!n.canRecognizeWith(o)?n.reset():n.recognize(e),!o&&n.state&(ut|ct|pt)&&(o=t.curRecognizer=n),i++}},get:function(e){if(e instanceof K)return e;for(var t=this.recognizers,n=0;n<t.length;n++)if(t[n].options.event==e)return t[n];return null},add:function(e){if(u(e,"add",this))return this;var t=this.get(e.options.event);return t&&this.remove(t),this.recognizers.push(e),e.manager=this,this.touchAction.update(),e},remove:function(e){if(u(e,"remove",this))return this;var t=this.recognizers;return e=this.get(e),t.splice(E(t,e),1),this.touchAction.update(),this},on:function(e,t){var n=this.handlers;return c(x(e),function(e){n[e]=n[e]||[],n[e].push(t)}),this},off:function(e,t){var n=this.handlers;return c(x(e),function(e){t?n[e].splice(E(n[e],t),1):delete n[e]}),this},emit:function(e,t){this.options.domEvents&&pe(e,t);var n=this.handlers[e]&&this.handlers[e].slice();if(n&&n.length){t.type=e,t.preventDefault=function(){t.srcEvent.preventDefault()};for(var r=0;r<n.length;)n[r](t),r++}},destroy:function(){this.element&&ce(this,!1),this.handlers={},this.session={},this.input.destroy(),this.element=null}},p(le,{INPUT_START:ke,INPUT_MOVE:Ne,INPUT_END:Pe,INPUT_CANCEL:Re,STATE_POSSIBLE:lt,STATE_BEGAN:ut,STATE_CHANGED:ct,STATE_ENDED:pt,STATE_RECOGNIZED:dt,STATE_CANCELLED:ft,STATE_FAILED:ht,DIRECTION_NONE:Se,DIRECTION_LEFT:Oe,DIRECTION_RIGHT:Ae,DIRECTION_UP:Ie,DIRECTION_DOWN:Fe,DIRECTION_HORIZONTAL:Le,DIRECTION_VERTICAL:Ue,DIRECTION_ALL:Ve,Manager:ue,Input:k,TouchAction:Q,TouchInput:Y,MouseInput:W,PointerEventInput:z,TouchMouseInput:G,SingleTouchInput:q,Recognizer:K,AttrRecognizer:te,Tap:se,Pan:ne,Swipe:ae,Pinch:re,Rotate:ie,Press:oe,on:v,off:b,each:c,merge:d,extend:p,inherit:f,bindFn:h,prefixed:D}),"function"==he&&n(279)?(r=function(){return le}.call(t,n,t,e),!(r!==s&&(e.exports=r))):"undefined"!=typeof e&&e.exports?e.exports=le:o[a]=le}(window,document,"Hammer")},function(e,t,n){var r;(function(e,o){(function(){function i(e,t){if(e!==t){var n=null===e,r=e===M,o=e===e,i=null===t,a=t===M,s=t===t;if(e>t&&!i||!o||n&&!a&&s||r&&s)return 1;if(t>e&&!n||!s||i&&!r&&o||a&&o)return-1}return 0}function a(e,t,n){for(var r=e.length,o=n?r:-1;n?o--:++o<r;)if(t(e[o],o,e))return o;return-1}function s(e,t,n){if(t!==t)return b(e,n);for(var r=n-1,o=e.length;++r<o;)if(e[r]===t)return r;return-1}function l(e){return"function"==typeof e||!1}function u(e){return null==e?"":e+""}function c(e,t){for(var n=-1,r=e.length;++n<r&&t.indexOf(e.charAt(n))>-1;);return n}function p(e,t){for(var n=e.length;n--&&t.indexOf(e.charAt(n))>-1;);return n}function d(e,t){return i(e.criteria,t.criteria)||e.index-t.index}function f(e,t,n){for(var r=-1,o=e.criteria,a=t.criteria,s=o.length,l=n.length;++r<s;){var u=i(o[r],a[r]);if(u){if(r>=l)return u;var c=n[r];return u*("asc"===c||c===!0?1:-1)}}return e.index-t.index}function h(e){return Ye[e]}function g(e){return He[e]}function m(e,t,n){return t?e=Ze[e]:n&&(e=Ke[e]),"\\"+e}function v(e){return"\\"+Ke[e]}function b(e,t,n){for(var r=e.length,o=t+(n?0:-1);n?o--:++o<r;){var i=e[o];if(i!==i)return o}return-1}function y(e){return!!e&&"object"==typeof e}function _(e){return 160>=e&&e>=9&&13>=e||32==e||160==e||5760==e||6158==e||e>=8192&&(8202>=e||8232==e||8233==e||8239==e||8287==e||12288==e||65279==e)}function x(e,t){for(var n=-1,r=e.length,o=-1,i=[];++n<r;)e[n]===t&&(e[n]=Y,i[++o]=n);return i}function E(e,t){for(var n,r=-1,o=e.length,i=-1,a=[];++r<o;){var s=e[r],l=t?t(s,r,e):s;r&&n===l||(n=l,a[++i]=s)}return a}function C(e){for(var t=-1,n=e.length;++t<n&&_(e.charCodeAt(t)););return t}function w(e){for(var t=e.length;t--&&_(e.charCodeAt(t)););return t}function D(e){return Ge[e]}function T(e){function t(e){if(y(e)&&!Ns(e)&&!(e instanceof o)){if(e instanceof r)return e;if(ta.call(e,"__chain__")&&ta.call(e,"__wrapped__"))return fr(e)}return new r(e)}function n(){}function r(e,t,n){this.__wrapped__=e,this.__actions__=n||[],this.__chain__=!!t}function o(e){this.__wrapped__=e,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=ka,this.__views__=[]}function _(){var e=new o(this.__wrapped__);return e.__actions__=et(this.__actions__),e.__dir__=this.__dir__,e.__filtered__=this.__filtered__,e.__iteratees__=et(this.__iteratees__),e.__takeCount__=this.__takeCount__,e.__views__=et(this.__views__),e}function $(){if(this.__filtered__){var e=new o(this);e.__dir__=-1,e.__filtered__=!0}else e=this.clone(),e.__dir__*=-1;return e}function re(){var e=this.__wrapped__.value(),t=this.__dir__,n=Ns(e),r=0>t,o=n?e.length:0,i=Yn(0,o,this.__views__),a=i.start,s=i.end,l=s-a,u=r?s:a-1,c=this.__iteratees__,p=c.length,d=0,f=Ca(l,this.__takeCount__);if(!n||W>o||o==l&&f==l)return nn(r&&n?e.reverse():e,this.__actions__);var h=[];e:for(;l--&&f>d;){u+=t;for(var g=-1,m=e[u];++g<p;){var v=c[g],b=v.iteratee,y=v.type,_=b(m);if(y==q)m=_;else if(!_){if(y==z)continue e;break e}}h[d++]=m}return h}function ie(){this.__data__={}}function Ye(e){return this.has(e)&&delete this.__data__[e]}function He(e){return"__proto__"==e?M:this.__data__[e]}function Ge(e){return"__proto__"!=e&&ta.call(this.__data__,e)}function Qe(e,t){return"__proto__"!=e&&(this.__data__[e]=t),this}function Ze(e){var t=e?e.length:0;for(this.data={hash:va(null),set:new pa};t--;)this.push(e[t])}function Ke(e,t){var n=e.data,r="string"==typeof t||Io(t)?n.set.has(t):n.hash[t];return r?0:-1}function Je(e){var t=this.data;"string"==typeof e||Io(e)?t.set.add(e):t.hash[e]=!0}function $e(e,t){for(var n=-1,r=e.length,o=-1,i=t.length,a=ji(r+i);++n<r;)a[n]=e[n];for(;++o<i;)a[n++]=t[o];return a}function et(e,t){var n=-1,r=e.length;for(t||(t=ji(r));++n<r;)t[n]=e[n];return t}function tt(e,t){for(var n=-1,r=e.length;++n<r&&t(e[n],n,e)!==!1;);return e}function nt(e,t){for(var n=e.length;n--&&t(e[n],n,e)!==!1;);return e}function it(e,t){for(var n=-1,r=e.length;++n<r;)if(!t(e[n],n,e))return!1;return!0}function at(e,t,n,r){for(var o=-1,i=e.length,a=r,s=a;++o<i;){var l=e[o],u=+t(l);n(u,a)&&(a=u,s=l)}return s}function st(e,t){for(var n=-1,r=e.length,o=-1,i=[];++n<r;){var a=e[n];t(a,n,e)&&(i[++o]=a)}return i}function lt(e,t){for(var n=-1,r=e.length,o=ji(r);++n<r;)o[n]=t(e[n],n,e);return o}function ut(e,t){for(var n=-1,r=t.length,o=e.length;++n<r;)e[o+n]=t[n];return e}function ct(e,t,n,r){var o=-1,i=e.length;for(r&&i&&(n=e[++o]);++o<i;)n=t(n,e[o],o,e);return n}function pt(e,t,n,r){var o=e.length;for(r&&o&&(n=e[--o]);o--;)n=t(n,e[o],o,e);return n}function dt(e,t){for(var n=-1,r=e.length;++n<r;)if(t(e[n],n,e))return!0;return!1}function ft(e,t){for(var n=e.length,r=0;n--;)r+=+t(e[n])||0;return r}function ht(e,t){return e===M?t:e}function gt(e,t,n,r){return e!==M&&ta.call(r,n)?e:t}function mt(e,t,n){for(var r=-1,o=Bs(t),i=o.length;++r<i;){var a=o[r],s=e[a],l=n(s,t[a],a,e,t);(l===l?l===s:s!==s)&&(s!==M||a in e)||(e[a]=l)}return e}function vt(e,t){return null==t?e:yt(t,Bs(t),e)}function bt(e,t){for(var n=-1,r=null==e,o=!r&&Kn(e),i=o?e.length:0,a=t.length,s=ji(a);++n<a;){var l=t[n];o?s[n]=Jn(l,i)?e[l]:M:s[n]=r?M:e[l]}return s}function yt(e,t,n){n||(n={});for(var r=-1,o=t.length;++r<o;){var i=t[r];n[i]=e[i]}return n}function _t(e,t,n){var r=typeof e;return"function"==r?t===M?e:an(e,t,n):null==e?ki:"object"==r?Vt(e):t===M?Ai(e):Bt(e,t)}function xt(e,t,n,r,o,i,a){var s;if(n&&(s=o?n(e,r,o):n(e)),s!==M)return s;if(!Io(e))return e;var l=Ns(e);if(l){if(s=Hn(e),!t)return et(e,s)}else{var u=ra.call(e),c=u==J;if(u!=te&&u!=H&&(!c||o))return Xe[u]?Qn(e,u,t):o?e:{};if(s=Gn(c?{}:e),!t)return vt(s,e)}i||(i=[]),a||(a=[]);for(var p=i.length;p--;)if(i[p]==e)return a[p];return i.push(e),a.push(s),(l?tt:Rt)(e,function(r,o){s[o]=xt(r,t,n,o,e,i,a)}),s}function Et(e,t,n){if("function"!=typeof e)throw new Zi(X);return da(function(){e.apply(M,n)},t)}function Ct(e,t){var n=e?e.length:0,r=[];if(!n)return r;var o=-1,i=zn(),a=i==s,l=a&&t.length>=W?gn(t):null,u=t.length;l&&(i=Ke,a=!1,t=l);e:for(;++o<n;){var c=e[o];if(a&&c===c){for(var p=u;p--;)if(t[p]===c)continue e;r.push(c)}else i(t,c,0)<0&&r.push(c)}return r}function wt(e,t){var n=!0;return Fa(e,function(e,r,o){return n=!!t(e,r,o)}),n}function Dt(e,t,n,r){var o=r,i=o;return Fa(e,function(e,a,s){var l=+t(e,a,s);(n(l,o)||l===r&&l===i)&&(o=l,i=e)}),i}function Tt(e,t,n,r){var o=e.length;for(n=null==n?0:+n||0,0>n&&(n=-n>o?0:o+n),r=r===M||r>o?o:+r||0,0>r&&(r+=o),o=n>r?0:r>>>0,n>>>=0;o>n;)e[n++]=t;return e}function Mt(e,t){var n=[];return Fa(e,function(e,r,o){t(e,r,o)&&n.push(e)}),n}function kt(e,t,n,r){var o;return n(e,function(e,n,i){return t(e,n,i)?(o=r?n:e,!1):void 0}),o}function Nt(e,t,n,r){r||(r=[]);for(var o=-1,i=e.length;++o<i;){var a=e[o];y(a)&&Kn(a)&&(n||Ns(a)||To(a))?t?Nt(a,t,n,r):ut(r,a):n||(r[r.length]=a)}return r}function Pt(e,t){return Ua(e,t,ti)}function Rt(e,t){return Ua(e,t,Bs)}function St(e,t){return Va(e,t,Bs)}function Ot(e,t){for(var n=-1,r=t.length,o=-1,i=[];++n<r;){var a=t[n];Ao(e[a])&&(i[++o]=a)}return i}function At(e,t,n){if(null!=e){n!==M&&n in pr(e)&&(t=[n]);for(var r=0,o=t.length;null!=e&&o>r;)e=e[t[r++]];return r&&r==o?e:M}}function It(e,t,n,r,o,i){return e===t?!0:null==e||null==t||!Io(e)&&!y(t)?e!==e&&t!==t:Ft(e,t,It,n,r,o,i)}function Ft(e,t,n,r,o,i,a){var s=Ns(e),l=Ns(t),u=G,c=G;s||(u=ra.call(e),u==H?u=te:u!=te&&(s=qo(e))),l||(c=ra.call(t),c==H?c=te:c!=te&&(l=qo(t)));var p=u==te,d=c==te,f=u==c;if(f&&!s&&!p)return Vn(e,t,u);if(!o){var h=p&&ta.call(e,"__wrapped__"),g=d&&ta.call(t,"__wrapped__");if(h||g)return n(h?e.value():e,g?t.value():t,r,o,i,a)}if(!f)return!1;i||(i=[]),a||(a=[]);for(var m=i.length;m--;)if(i[m]==e)return a[m]==t;i.push(e),a.push(t);var v=(s?Un:Bn)(e,t,n,r,o,i,a);return i.pop(),a.pop(),v}function Lt(e,t,n){var r=t.length,o=r,i=!n;if(null==e)return!o;for(e=pr(e);r--;){var a=t[r];if(i&&a[2]?a[1]!==e[a[0]]:!(a[0]in e))return!1}for(;++r<o;){a=t[r];var s=a[0],l=e[s],u=a[1];if(i&&a[2]){if(l===M&&!(s in e))return!1}else{var c=n?n(l,u,s):M;if(!(c===M?It(u,l,n,!0):c))return!1}}return!0}function Ut(e,t){var n=-1,r=Kn(e)?ji(e.length):[];return Fa(e,function(e,o,i){r[++n]=t(e,o,i)}),r}function Vt(e){var t=qn(e);if(1==t.length&&t[0][2]){var n=t[0][0],r=t[0][1];return function(e){return null==e?!1:e[n]===r&&(r!==M||n in pr(e))}}return function(e){return Lt(e,t)}}function Bt(e,t){var n=Ns(e),r=er(e)&&rr(t),o=e+"";return e=dr(e),function(i){if(null==i)return!1;var a=o;if(i=pr(i),(n||!r)&&!(a in i)){if(i=1==e.length?i:At(i,Gt(e,0,-1)),null==i)return!1;a=Tr(e),i=pr(i)}return i[a]===t?t!==M||a in i:It(t,i[a],M,!0)}}function jt(e,t,n,r,o){if(!Io(e))return e;var i=Kn(t)&&(Ns(t)||qo(t)),a=i?M:Bs(t);return tt(a||t,function(s,l){if(a&&(l=s,s=t[l]),y(s))r||(r=[]),o||(o=[]),Wt(e,t,l,jt,n,r,o);else{var u=e[l],c=n?n(u,s,l,e,t):M,p=c===M;p&&(c=s),c===M&&(!i||l in e)||!p&&(c===c?c===u:u!==u)||(e[l]=c)}}),e}function Wt(e,t,n,r,o,i,a){for(var s=i.length,l=t[n];s--;)if(i[s]==l)return void(e[n]=a[s]);var u=e[n],c=o?o(u,l,n,e,t):M,p=c===M;p&&(c=l,Kn(l)&&(Ns(l)||qo(l))?c=Ns(u)?u:Kn(u)?et(u):[]:jo(l)||To(l)?c=To(u)?Qo(u):jo(u)?u:{}:p=!1),i.push(l),a.push(c),p?e[n]=r(c,l,o,i,a):(c===c?c!==u:u===u)&&(e[n]=c)}function zt(e){return function(t){return null==t?M:t[e]}}function qt(e){var t=e+"";return e=dr(e),function(n){return At(n,e,t)}}function Xt(e,t){for(var n=e?t.length:0;n--;){var r=t[n];if(r!=o&&Jn(r)){var o=r;fa.call(e,r,1)}}return e}function Yt(e,t){return e+ba(Ta()*(t-e+1))}function Ht(e,t,n,r,o){return o(e,function(e,o,i){n=r?(r=!1,e):t(n,e,o,i)}),n}function Gt(e,t,n){var r=-1,o=e.length;t=null==t?0:+t||0,0>t&&(t=-t>o?0:o+t),n=n===M||n>o?o:+n||0,0>n&&(n+=o),o=t>n?0:n-t>>>0,t>>>=0;for(var i=ji(o);++r<o;)i[r]=e[r+t];return i}function Qt(e,t){var n;return Fa(e,function(e,r,o){return n=t(e,r,o),!n}),!!n}function Zt(e,t){var n=e.length;for(e.sort(t);n--;)e[n]=e[n].value;return e}function Kt(e,t,n){var r=jn(),o=-1;t=lt(t,function(e){return r(e)});var i=Ut(e,function(e){var n=lt(t,function(t){return t(e)});return{criteria:n,index:++o,value:e}});return Zt(i,function(e,t){return f(e,t,n)})}function Jt(e,t){var n=0;return Fa(e,function(e,r,o){n+=+t(e,r,o)||0}),n}function $t(e,t){var n=-1,r=zn(),o=e.length,i=r==s,a=i&&o>=W,l=a?gn():null,u=[];l?(r=Ke,i=!1):(a=!1,l=t?[]:u);e:for(;++n<o;){var c=e[n],p=t?t(c,n,e):c;if(i&&c===c){for(var d=l.length;d--;)if(l[d]===p)continue e;t&&l.push(p),u.push(c)}else r(l,p,0)<0&&((t||a)&&l.push(p),u.push(c))}return u}function en(e,t){for(var n=-1,r=t.length,o=ji(r);++n<r;)o[n]=e[t[n]];return o}function tn(e,t,n,r){for(var o=e.length,i=r?o:-1;(r?i--:++i<o)&&t(e[i],i,e););return n?Gt(e,r?0:i,r?i+1:o):Gt(e,r?i+1:0,r?o:i)}function nn(e,t){var n=e;n instanceof o&&(n=n.value());for(var r=-1,i=t.length;++r<i;){var a=t[r];n=a.func.apply(a.thisArg,ut([n],a.args))}return n}function rn(e,t,n){var r=0,o=e?e.length:r;if("number"==typeof t&&t===t&&Ra>=o){for(;o>r;){var i=r+o>>>1,a=e[i];(n?t>=a:t>a)&&null!==a?r=i+1:o=i}return o}return on(e,t,ki,n)}function on(e,t,n,r){t=n(t);for(var o=0,i=e?e.length:0,a=t!==t,s=null===t,l=t===M;i>o;){var u=ba((o+i)/2),c=n(e[u]),p=c!==M,d=c===c;if(a)var f=d||r;else f=s?d&&p&&(r||null!=c):l?d&&(r||p):null==c?!1:r?t>=c:t>c;f?o=u+1:i=u}return Ca(i,Pa)}function an(e,t,n){if("function"!=typeof e)return ki;if(t===M)return e;switch(n){case 1:return function(n){return e.call(t,n)};case 3:return function(n,r,o){return e.call(t,n,r,o)};case 4:return function(n,r,o,i){return e.call(t,n,r,o,i)};case 5:return function(n,r,o,i,a){return e.call(t,n,r,o,i,a)}}return function(){return e.apply(t,arguments)}}function sn(e){var t=new aa(e.byteLength),n=new ha(t);return n.set(new ha(e)),t}function ln(e,t,n){for(var r=n.length,o=-1,i=Ea(e.length-r,0),a=-1,s=t.length,l=ji(s+i);++a<s;)l[a]=t[a];for(;++o<r;)l[n[o]]=e[o];for(;i--;)l[a++]=e[o++];return l}function un(e,t,n){for(var r=-1,o=n.length,i=-1,a=Ea(e.length-o,0),s=-1,l=t.length,u=ji(a+l);++i<a;)u[i]=e[i];for(var c=i;++s<l;)u[c+s]=t[s];for(;++r<o;)u[c+n[r]]=e[i++];return u}function cn(e,t){return function(n,r,o){var i=t?t():{};if(r=jn(r,o,3),Ns(n))for(var a=-1,s=n.length;++a<s;){var l=n[a];e(i,l,r(l,a,n),n)}else Fa(n,function(t,n,o){e(i,t,r(t,n,o),o)});return i}}function pn(e){return bo(function(t,n){var r=-1,o=null==t?0:n.length,i=o>2?n[o-2]:M,a=o>2?n[2]:M,s=o>1?n[o-1]:M;for("function"==typeof i?(i=an(i,s,5),o-=2):(i="function"==typeof s?s:M,o-=i?1:0),a&&$n(n[0],n[1],a)&&(i=3>o?M:i,o=1);++r<o;){var l=n[r];l&&e(t,l,i)}return t})}function dn(e,t){return function(n,r){var o=n?Wa(n):0;if(!nr(o))return e(n,r);for(var i=t?o:-1,a=pr(n);(t?i--:++i<o)&&r(a[i],i,a)!==!1;);return n}}function fn(e){return function(t,n,r){for(var o=pr(t),i=r(t),a=i.length,s=e?a:-1;e?s--:++s<a;){var l=i[s];if(n(o[l],l,o)===!1)break}return t}}function hn(e,t){function n(){var o=this&&this!==rt&&this instanceof n?r:e;return o.apply(t,arguments)}var r=vn(e);return n}function gn(e){return va&&pa?new Ze(e):null}function mn(e){return function(t){for(var n=-1,r=Di(pi(t)),o=r.length,i="";++n<o;)i=e(i,r[n],n);return i}}function vn(e){return function(){var t=arguments;switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3]);case 5:return new e(t[0],t[1],t[2],t[3],t[4]);case 6:return new e(t[0],t[1],t[2],t[3],t[4],t[5]);case 7:return new e(t[0],t[1],t[2],t[3],t[4],t[5],t[6])}var n=Ia(e.prototype),r=e.apply(n,t);return Io(r)?r:n}}function bn(e){function t(n,r,o){o&&$n(n,r,o)&&(r=M);var i=Ln(n,e,M,M,M,M,M,r);return i.placeholder=t.placeholder,i}return t}function yn(e,t){return bo(function(n){var r=n[0];return null==r?r:(n.push(t),e.apply(M,n))})}function _n(e,t){return function(n,r,o){if(o&&$n(n,r,o)&&(r=M),r=jn(r,o,3),1==r.length){n=Ns(n)?n:cr(n);var i=at(n,r,e,t);if(!n.length||i!==t)return i}return Dt(n,r,e,t)}}function xn(e,t){return function(n,r,o){if(r=jn(r,o,3),Ns(n)){var i=a(n,r,t);
return i>-1?n[i]:M}return kt(n,r,e)}}function En(e){return function(t,n,r){return t&&t.length?(n=jn(n,r,3),a(t,n,e)):-1}}function Cn(e){return function(t,n,r){return n=jn(n,r,3),kt(t,n,e,!0)}}function wn(e){return function(){for(var t,n=arguments.length,o=e?n:-1,i=0,a=ji(n);e?o--:++o<n;){var s=a[i++]=arguments[o];if("function"!=typeof s)throw new Zi(X);!t&&r.prototype.thru&&"wrapper"==Wn(s)&&(t=new r([],!0))}for(o=t?-1:n;++o<n;){s=a[o];var l=Wn(s),u="wrapper"==l?ja(s):M;t=u&&tr(u[0])&&u[1]==(F|S|A|L)&&!u[4].length&&1==u[9]?t[Wn(u[0])].apply(t,u[3]):1==s.length&&tr(s)?t[l]():t.thru(s)}return function(){var e=arguments,r=e[0];if(t&&1==e.length&&Ns(r)&&r.length>=W)return t.plant(r).value();for(var o=0,i=n?a[o].apply(this,e):r;++o<n;)i=a[o].call(this,i);return i}}}function Dn(e,t){return function(n,r,o){return"function"==typeof r&&o===M&&Ns(n)?e(n,r):t(n,an(r,o,3))}}function Tn(e){return function(t,n,r){return("function"!=typeof n||r!==M)&&(n=an(n,r,3)),e(t,n,ti)}}function Mn(e){return function(t,n,r){return("function"!=typeof n||r!==M)&&(n=an(n,r,3)),e(t,n)}}function kn(e){return function(t,n,r){var o={};return n=jn(n,r,3),Rt(t,function(t,r,i){var a=n(t,r,i);r=e?a:r,t=e?t:a,o[r]=t}),o}}function Nn(e){return function(t,n,r){return t=u(t),(e?t:"")+On(t,n,r)+(e?"":t)}}function Pn(e){var t=bo(function(n,r){var o=x(r,t.placeholder);return Ln(n,e,M,r,o)});return t}function Rn(e,t){return function(n,r,o,i){var a=arguments.length<3;return"function"==typeof r&&i===M&&Ns(n)?e(n,r,o,a):Ht(n,jn(r,i,4),o,a,t)}}function Sn(e,t,n,r,o,i,a,s,l,u){function c(){for(var b=arguments.length,y=b,_=ji(b);y--;)_[y]=arguments[y];if(r&&(_=ln(_,r,o)),i&&(_=un(_,i,a)),h||m){var E=c.placeholder,C=x(_,E);if(b-=C.length,u>b){var w=s?et(s):M,D=Ea(u-b,0),T=h?C:M,k=h?M:C,R=h?_:M,S=h?M:_;t|=h?A:I,t&=~(h?I:A),g||(t&=~(N|P));var O=[e,t,n,R,T,S,k,w,l,D],F=Sn.apply(M,O);return tr(e)&&za(F,O),F.placeholder=E,F}}var L=d?n:this,U=f?L[e]:e;return s&&(_=lr(_,s)),p&&l<_.length&&(_.length=l),this&&this!==rt&&this instanceof c&&(U=v||vn(e)),U.apply(L,_)}var p=t&F,d=t&N,f=t&P,h=t&S,g=t&R,m=t&O,v=f?M:vn(e);return c}function On(e,t,n){var r=e.length;if(t=+t,r>=t||!_a(t))return"";var o=t-r;return n=null==n?" ":n+"",vi(n,ma(o/n.length)).slice(0,o)}function An(e,t,n,r){function o(){for(var t=-1,s=arguments.length,l=-1,u=r.length,c=ji(u+s);++l<u;)c[l]=r[l];for(;s--;)c[l++]=arguments[++t];var p=this&&this!==rt&&this instanceof o?a:e;return p.apply(i?n:this,c)}var i=t&N,a=vn(e);return o}function In(e){var t=Xi[e];return function(e,n){return n=n===M?0:+n||0,n?(n=ua(10,n),t(e*n)/n):t(e)}}function Fn(e){return function(t,n,r,o){var i=jn(r);return null==r&&i===_t?rn(t,n,e):on(t,n,i(r,o,1),e)}}function Ln(e,t,n,r,o,i,a,s){var l=t&P;if(!l&&"function"!=typeof e)throw new Zi(X);var u=r?r.length:0;if(u||(t&=~(A|I),r=o=M),u-=o?o.length:0,t&I){var c=r,p=o;r=o=M}var d=l?M:ja(e),f=[e,t,n,r,o,c,p,i,a,s];if(d&&(or(f,d),t=f[1],s=f[9]),f[9]=null==s?l?0:e.length:Ea(s-u,0)||0,t==N)var h=hn(f[0],f[2]);else h=t!=A&&t!=(N|A)||f[4].length?Sn.apply(M,f):An.apply(M,f);var g=d?Ba:za;return g(h,f)}function Un(e,t,n,r,o,i,a){var s=-1,l=e.length,u=t.length;if(l!=u&&!(o&&u>l))return!1;for(;++s<l;){var c=e[s],p=t[s],d=r?r(o?p:c,o?c:p,s):M;if(d!==M){if(d)continue;return!1}if(o){if(!dt(t,function(e){return c===e||n(c,e,r,o,i,a)}))return!1}else if(c!==p&&!n(c,p,r,o,i,a))return!1}return!0}function Vn(e,t,n){switch(n){case Q:case Z:return+e==+t;case K:return e.name==t.name&&e.message==t.message;case ee:return e!=+e?t!=+t:e==+t;case ne:case oe:return e==t+""}return!1}function Bn(e,t,n,r,o,i,a){var s=Bs(e),l=s.length,u=Bs(t),c=u.length;if(l!=c&&!o)return!1;for(var p=l;p--;){var d=s[p];if(!(o?d in t:ta.call(t,d)))return!1}for(var f=o;++p<l;){d=s[p];var h=e[d],g=t[d],m=r?r(o?g:h,o?h:g,d):M;if(!(m===M?n(h,g,r,o,i,a):m))return!1;f||(f="constructor"==d)}if(!f){var v=e.constructor,b=t.constructor;if(v!=b&&"constructor"in e&&"constructor"in t&&!("function"==typeof v&&v instanceof v&&"function"==typeof b&&b instanceof b))return!1}return!0}function jn(e,n,r){var o=t.callback||Ti;return o=o===Ti?_t:o,r?o(e,n,r):o}function Wn(e){for(var t=e.name,n=Aa[t],r=n?n.length:0;r--;){var o=n[r],i=o.func;if(null==i||i==e)return o.name}return t}function zn(e,n,r){var o=t.indexOf||wr;return o=o===wr?s:o,e?o(e,n,r):o}function qn(e){for(var t=ni(e),n=t.length;n--;)t[n][2]=rr(t[n][1]);return t}function Xn(e,t){var n=null==e?M:e[t];return Uo(n)?n:M}function Yn(e,t,n){for(var r=-1,o=n.length;++r<o;){var i=n[r],a=i.size;switch(i.type){case"drop":e+=a;break;case"dropRight":t-=a;break;case"take":t=Ca(t,e+a);break;case"takeRight":e=Ea(e,t-a)}}return{start:e,end:t}}function Hn(e){var t=e.length,n=new e.constructor(t);return t&&"string"==typeof e[0]&&ta.call(e,"index")&&(n.index=e.index,n.input=e.input),n}function Gn(e){var t=e.constructor;return"function"==typeof t&&t instanceof t||(t=Hi),new t}function Qn(e,t,n){var r=e.constructor;switch(t){case ae:return sn(e);case Q:case Z:return new r(+e);case se:case le:case ue:case ce:case pe:case de:case fe:case he:case ge:var o=e.buffer;return new r(n?sn(o):o,e.byteOffset,e.length);case ee:case oe:return new r(e);case ne:var i=new r(e.source,Ae.exec(e));i.lastIndex=e.lastIndex}return i}function Zn(e,t,n){null==e||er(t,e)||(t=dr(t),e=1==t.length?e:At(e,Gt(t,0,-1)),t=Tr(t));var r=null==e?e:e[t];return null==r?M:r.apply(e,n)}function Kn(e){return null!=e&&nr(Wa(e))}function Jn(e,t){return e="number"==typeof e||Le.test(e)?+e:-1,t=null==t?Sa:t,e>-1&&e%1==0&&t>e}function $n(e,t,n){if(!Io(n))return!1;var r=typeof t;if("number"==r?Kn(n)&&Jn(t,n.length):"string"==r&&t in n){var o=n[t];return e===e?e===o:o!==o}return!1}function er(e,t){var n=typeof e;if("string"==n&&Me.test(e)||"number"==n)return!0;if(Ns(e))return!1;var r=!Te.test(e);return r||null!=t&&e in pr(t)}function tr(e){var n=Wn(e);if(!(n in o.prototype))return!1;var r=t[n];if(e===r)return!0;var i=ja(r);return!!i&&e===i[0]}function nr(e){return"number"==typeof e&&e>-1&&e%1==0&&Sa>=e}function rr(e){return e===e&&!Io(e)}function or(e,t){var n=e[1],r=t[1],o=n|r,i=F>o,a=r==F&&n==S||r==F&&n==L&&e[7].length<=t[8]||r==(F|L)&&n==S;if(!i&&!a)return e;r&N&&(e[2]=t[2],o|=n&N?0:R);var s=t[3];if(s){var l=e[3];e[3]=l?ln(l,s,t[4]):et(s),e[4]=l?x(e[3],Y):et(t[4])}return s=t[5],s&&(l=e[5],e[5]=l?un(l,s,t[6]):et(s),e[6]=l?x(e[5],Y):et(t[6])),s=t[7],s&&(e[7]=et(s)),r&F&&(e[8]=null==e[8]?t[8]:Ca(e[8],t[8])),null==e[9]&&(e[9]=t[9]),e[0]=t[0],e[1]=o,e}function ir(e,t){return e===M?t:Ps(e,t,ir)}function ar(e,t){e=pr(e);for(var n=-1,r=t.length,o={};++n<r;){var i=t[n];i in e&&(o[i]=e[i])}return o}function sr(e,t){var n={};return Pt(e,function(e,r,o){t(e,r,o)&&(n[r]=e)}),n}function lr(e,t){for(var n=e.length,r=Ca(t.length,n),o=et(e);r--;){var i=t[r];e[r]=Jn(i,n)?o[i]:M}return e}function ur(e){for(var t=ti(e),n=t.length,r=n&&e.length,o=!!r&&nr(r)&&(Ns(e)||To(e)),i=-1,a=[];++i<n;){var s=t[i];(o&&Jn(s,r)||ta.call(e,s))&&a.push(s)}return a}function cr(e){return null==e?[]:Kn(e)?Io(e)?e:Hi(e):ai(e)}function pr(e){return Io(e)?e:Hi(e)}function dr(e){if(Ns(e))return e;var t=[];return u(e).replace(ke,function(e,n,r,o){t.push(r?o.replace(Se,"$1"):n||e)}),t}function fr(e){return e instanceof o?e.clone():new r(e.__wrapped__,e.__chain__,et(e.__actions__))}function hr(e,t,n){t=(n?$n(e,t,n):null==t)?1:Ea(ba(t)||1,1);for(var r=0,o=e?e.length:0,i=-1,a=ji(ma(o/t));o>r;)a[++i]=Gt(e,r,r+=t);return a}function gr(e){for(var t=-1,n=e?e.length:0,r=-1,o=[];++t<n;){var i=e[t];i&&(o[++r]=i)}return o}function mr(e,t,n){var r=e?e.length:0;return r?((n?$n(e,t,n):null==t)&&(t=1),Gt(e,0>t?0:t)):[]}function vr(e,t,n){var r=e?e.length:0;return r?((n?$n(e,t,n):null==t)&&(t=1),t=r-(+t||0),Gt(e,0,0>t?0:t)):[]}function br(e,t,n){return e&&e.length?tn(e,jn(t,n,3),!0,!0):[]}function yr(e,t,n){return e&&e.length?tn(e,jn(t,n,3),!0):[]}function _r(e,t,n,r){var o=e?e.length:0;return o?(n&&"number"!=typeof n&&$n(e,t,n)&&(n=0,r=o),Tt(e,t,n,r)):[]}function xr(e){return e?e[0]:M}function Er(e,t,n){var r=e?e.length:0;return n&&$n(e,t,n)&&(t=!1),r?Nt(e,t):[]}function Cr(e){var t=e?e.length:0;return t?Nt(e,!0):[]}function wr(e,t,n){var r=e?e.length:0;if(!r)return-1;if("number"==typeof n)n=0>n?Ea(r+n,0):n;else if(n){var o=rn(e,t);return r>o&&(t===t?t===e[o]:e[o]!==e[o])?o:-1}return s(e,t,n||0)}function Dr(e){return vr(e,1)}function Tr(e){var t=e?e.length:0;return t?e[t-1]:M}function Mr(e,t,n){var r=e?e.length:0;if(!r)return-1;var o=r;if("number"==typeof n)o=(0>n?Ea(r+n,0):Ca(n||0,r-1))+1;else if(n){o=rn(e,t,!0)-1;var i=e[o];return(t===t?t===i:i!==i)?o:-1}if(t!==t)return b(e,o,!0);for(;o--;)if(e[o]===t)return o;return-1}function kr(){var e=arguments,t=e[0];if(!t||!t.length)return t;for(var n=0,r=zn(),o=e.length;++n<o;)for(var i=0,a=e[n];(i=r(t,a,i))>-1;)fa.call(t,i,1);return t}function Nr(e,t,n){var r=[];if(!e||!e.length)return r;var o=-1,i=[],a=e.length;for(t=jn(t,n,3);++o<a;){var s=e[o];t(s,o,e)&&(r.push(s),i.push(o))}return Xt(e,i),r}function Pr(e){return mr(e,1)}function Rr(e,t,n){var r=e?e.length:0;return r?(n&&"number"!=typeof n&&$n(e,t,n)&&(t=0,n=r),Gt(e,t,n)):[]}function Sr(e,t,n){var r=e?e.length:0;return r?((n?$n(e,t,n):null==t)&&(t=1),Gt(e,0,0>t?0:t)):[]}function Or(e,t,n){var r=e?e.length:0;return r?((n?$n(e,t,n):null==t)&&(t=1),t=r-(+t||0),Gt(e,0>t?0:t)):[]}function Ar(e,t,n){return e&&e.length?tn(e,jn(t,n,3),!1,!0):[]}function Ir(e,t,n){return e&&e.length?tn(e,jn(t,n,3)):[]}function Fr(e,t,n,r){var o=e?e.length:0;if(!o)return[];null!=t&&"boolean"!=typeof t&&(r=n,n=$n(e,t,r)?M:t,t=!1);var i=jn();return(null!=n||i!==_t)&&(n=i(n,r,3)),t&&zn()==s?E(e,n):$t(e,n)}function Lr(e){if(!e||!e.length)return[];var t=-1,n=0;e=st(e,function(e){return Kn(e)?(n=Ea(e.length,n),!0):void 0});for(var r=ji(n);++t<n;)r[t]=lt(e,zt(t));return r}function Ur(e,t,n){var r=e?e.length:0;if(!r)return[];var o=Lr(e);return null==t?o:(t=an(t,n,4),lt(o,function(e){return ct(e,t,M,!0)}))}function Vr(){for(var e=-1,t=arguments.length;++e<t;){var n=arguments[e];if(Kn(n))var r=r?ut(Ct(r,n),Ct(n,r)):n}return r?$t(r):[]}function Br(e,t){var n=-1,r=e?e.length:0,o={};for(!r||t||Ns(e[0])||(t=[]);++n<r;){var i=e[n];t?o[i]=t[n]:i&&(o[i[0]]=i[1])}return o}function jr(e){var n=t(e);return n.__chain__=!0,n}function Wr(e,t,n){return t.call(n,e),e}function zr(e,t,n){return t.call(n,e)}function qr(){return jr(this)}function Xr(){return new r(this.value(),this.__chain__)}function Yr(e){for(var t,r=this;r instanceof n;){var o=fr(r);t?i.__wrapped__=o:t=o;var i=o;r=r.__wrapped__}return i.__wrapped__=e,t}function Hr(){var e=this.__wrapped__,t=function(e){return n&&n.__dir__<0?e:e.reverse()};if(e instanceof o){var n=e;return this.__actions__.length&&(n=new o(this)),n=n.reverse(),n.__actions__.push({func:zr,args:[t],thisArg:M}),new r(n,this.__chain__)}return this.thru(t)}function Gr(){return this.value()+""}function Qr(){return nn(this.__wrapped__,this.__actions__)}function Zr(e,t,n){var r=Ns(e)?it:wt;return n&&$n(e,t,n)&&(t=M),("function"!=typeof t||n!==M)&&(t=jn(t,n,3)),r(e,t)}function Kr(e,t,n){var r=Ns(e)?st:Mt;return t=jn(t,n,3),r(e,t)}function Jr(e,t){return os(e,Vt(t))}function $r(e,t,n,r){var o=e?Wa(e):0;return nr(o)||(e=ai(e),o=e.length),n="number"!=typeof n||r&&$n(t,n,r)?0:0>n?Ea(o+n,0):n||0,"string"==typeof e||!Ns(e)&&zo(e)?o>=n&&e.indexOf(t,n)>-1:!!o&&zn(e,t,n)>-1}function eo(e,t,n){var r=Ns(e)?lt:Ut;return t=jn(t,n,3),r(e,t)}function to(e,t){return eo(e,Ai(t))}function no(e,t,n){var r=Ns(e)?st:Mt;return t=jn(t,n,3),r(e,function(e,n,r){return!t(e,n,r)})}function ro(e,t,n){if(n?$n(e,t,n):null==t){e=cr(e);var r=e.length;return r>0?e[Yt(0,r-1)]:M}var o=-1,i=Go(e),r=i.length,a=r-1;for(t=Ca(0>t?0:+t||0,r);++o<t;){var s=Yt(o,a),l=i[s];i[s]=i[o],i[o]=l}return i.length=t,i}function oo(e){return ro(e,ka)}function io(e){var t=e?Wa(e):0;return nr(t)?t:Bs(e).length}function ao(e,t,n){var r=Ns(e)?dt:Qt;return n&&$n(e,t,n)&&(t=M),("function"!=typeof t||n!==M)&&(t=jn(t,n,3)),r(e,t)}function so(e,t,n){if(null==e)return[];n&&$n(e,t,n)&&(t=M);var r=-1;t=jn(t,n,3);var o=Ut(e,function(e,n,o){return{criteria:t(e,n,o),index:++r,value:e}});return Zt(o,d)}function lo(e,t,n,r){return null==e?[]:(r&&$n(t,n,r)&&(n=M),Ns(t)||(t=null==t?[]:[t]),Ns(n)||(n=null==n?[]:[n]),Kt(e,t,n))}function uo(e,t){return Kr(e,Vt(t))}function co(e,t){if("function"!=typeof t){if("function"!=typeof e)throw new Zi(X);var n=e;e=t,t=n}return e=_a(e=+e)?e:0,function(){return--e<1?t.apply(this,arguments):void 0}}function po(e,t,n){return n&&$n(e,t,n)&&(t=M),t=e&&null==t?e.length:Ea(+t||0,0),Ln(e,F,M,M,M,M,t)}function fo(e,t){var n;if("function"!=typeof t){if("function"!=typeof e)throw new Zi(X);var r=e;e=t,t=r}return function(){return--e>0&&(n=t.apply(this,arguments)),1>=e&&(t=M),n}}function ho(e,t,n){function r(){f&&sa(f),u&&sa(u),g=0,u=f=h=M}function o(t,n){n&&sa(n),u=f=h=M,t&&(g=gs(),c=e.apply(d,l),f||u||(l=d=M))}function i(){var e=t-(gs()-p);0>=e||e>t?o(h,u):f=da(i,e)}function a(){o(v,f)}function s(){if(l=arguments,p=gs(),d=this,h=v&&(f||!b),m===!1)var n=b&&!f;else{u||b||(g=p);var r=m-(p-g),o=0>=r||r>m;o?(u&&(u=sa(u)),g=p,c=e.apply(d,l)):u||(u=da(a,r))}return o&&f?f=sa(f):f||t===m||(f=da(i,t)),n&&(o=!0,c=e.apply(d,l)),!o||f||u||(l=d=M),c}var l,u,c,p,d,f,h,g=0,m=!1,v=!0;if("function"!=typeof e)throw new Zi(X);if(t=0>t?0:+t||0,n===!0){var b=!0;v=!1}else Io(n)&&(b=!!n.leading,m="maxWait"in n&&Ea(+n.maxWait||0,t),v="trailing"in n?!!n.trailing:v);return s.cancel=r,s}function go(e,t){if("function"!=typeof e||t&&"function"!=typeof t)throw new Zi(X);var n=function(){var r=arguments,o=t?t.apply(this,r):r[0],i=n.cache;if(i.has(o))return i.get(o);var a=e.apply(this,r);return n.cache=i.set(o,a),a};return n.cache=new go.Cache,n}function mo(e){if("function"!=typeof e)throw new Zi(X);return function(){return!e.apply(this,arguments)}}function vo(e){return fo(2,e)}function bo(e,t){if("function"!=typeof e)throw new Zi(X);return t=Ea(t===M?e.length-1:+t||0,0),function(){for(var n=arguments,r=-1,o=Ea(n.length-t,0),i=ji(o);++r<o;)i[r]=n[t+r];switch(t){case 0:return e.call(this,i);case 1:return e.call(this,n[0],i);case 2:return e.call(this,n[0],n[1],i)}var a=ji(t+1);for(r=-1;++r<t;)a[r]=n[r];return a[t]=i,e.apply(this,a)}}function yo(e){if("function"!=typeof e)throw new Zi(X);return function(t){return e.apply(this,t)}}function _o(e,t,n){var r=!0,o=!0;if("function"!=typeof e)throw new Zi(X);return n===!1?r=!1:Io(n)&&(r="leading"in n?!!n.leading:r,o="trailing"in n?!!n.trailing:o),ho(e,t,{leading:r,maxWait:+t,trailing:o})}function xo(e,t){return t=null==t?ki:t,Ln(t,A,M,[e],[])}function Eo(e,t,n,r){return t&&"boolean"!=typeof t&&$n(e,t,n)?t=!1:"function"==typeof t&&(r=n,n=t,t=!1),"function"==typeof n?xt(e,t,an(n,r,1)):xt(e,t)}function Co(e,t,n){return"function"==typeof t?xt(e,!0,an(t,n,1)):xt(e,!0)}function wo(e,t){return e>t}function Do(e,t){return e>=t}function To(e){return y(e)&&Kn(e)&&ta.call(e,"callee")&&!ca.call(e,"callee")}function Mo(e){return e===!0||e===!1||y(e)&&ra.call(e)==Q}function ko(e){return y(e)&&ra.call(e)==Z}function No(e){return!!e&&1===e.nodeType&&y(e)&&!jo(e)}function Po(e){return null==e?!0:Kn(e)&&(Ns(e)||zo(e)||To(e)||y(e)&&Ao(e.splice))?!e.length:!Bs(e).length}function Ro(e,t,n,r){n="function"==typeof n?an(n,r,3):M;var o=n?n(e,t):M;return o===M?It(e,t,n):!!o}function So(e){return y(e)&&"string"==typeof e.message&&ra.call(e)==K}function Oo(e){return"number"==typeof e&&_a(e)}function Ao(e){return Io(e)&&ra.call(e)==J}function Io(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function Fo(e,t,n,r){return n="function"==typeof n?an(n,r,3):M,Lt(e,qn(t),n)}function Lo(e){return Bo(e)&&e!=+e}function Uo(e){return null==e?!1:Ao(e)?ia.test(ea.call(e)):y(e)&&Fe.test(e)}function Vo(e){return null===e}function Bo(e){return"number"==typeof e||y(e)&&ra.call(e)==ee}function jo(e){var t;if(!y(e)||ra.call(e)!=te||To(e)||!ta.call(e,"constructor")&&(t=e.constructor,"function"==typeof t&&!(t instanceof t)))return!1;var n;return Pt(e,function(e,t){n=t}),n===M||ta.call(e,n)}function Wo(e){return Io(e)&&ra.call(e)==ne}function zo(e){return"string"==typeof e||y(e)&&ra.call(e)==oe}function qo(e){return y(e)&&nr(e.length)&&!!qe[ra.call(e)]}function Xo(e){return e===M}function Yo(e,t){return t>e}function Ho(e,t){return t>=e}function Go(e){var t=e?Wa(e):0;return nr(t)?t?et(e):[]:ai(e)}function Qo(e){return yt(e,ti(e))}function Zo(e,t,n){var r=Ia(e);return n&&$n(e,t,n)&&(t=M),t?vt(r,t):r}function Ko(e){return Ot(e,ti(e))}function Jo(e,t,n){var r=null==e?M:At(e,dr(t),t+"");return r===M?n:r}function $o(e,t){if(null==e)return!1;var n=ta.call(e,t);if(!n&&!er(t)){if(t=dr(t),e=1==t.length?e:At(e,Gt(t,0,-1)),null==e)return!1;t=Tr(t),n=ta.call(e,t)}return n||nr(e.length)&&Jn(t,e.length)&&(Ns(e)||To(e))}function ei(e,t,n){n&&$n(e,t,n)&&(t=M);for(var r=-1,o=Bs(e),i=o.length,a={};++r<i;){var s=o[r],l=e[s];t?ta.call(a,l)?a[l].push(s):a[l]=[s]:a[l]=s}return a}function ti(e){if(null==e)return[];Io(e)||(e=Hi(e));var t=e.length;t=t&&nr(t)&&(Ns(e)||To(e))&&t||0;for(var n=e.constructor,r=-1,o="function"==typeof n&&n.prototype===e,i=ji(t),a=t>0;++r<t;)i[r]=r+"";for(var s in e)a&&Jn(s,t)||"constructor"==s&&(o||!ta.call(e,s))||i.push(s);return i}function ni(e){e=pr(e);for(var t=-1,n=Bs(e),r=n.length,o=ji(r);++t<r;){var i=n[t];o[t]=[i,e[i]]}return o}function ri(e,t,n){var r=null==e?M:e[t];return r===M&&(null==e||er(t,e)||(t=dr(t),e=1==t.length?e:At(e,Gt(t,0,-1)),r=null==e?M:e[Tr(t)]),r=r===M?n:r),Ao(r)?r.call(e):r}function oi(e,t,n){if(null==e)return e;var r=t+"";t=null!=e[r]||er(t,e)?[r]:dr(t);for(var o=-1,i=t.length,a=i-1,s=e;null!=s&&++o<i;){var l=t[o];Io(s)&&(o==a?s[l]=n:null==s[l]&&(s[l]=Jn(t[o+1])?[]:{})),s=s[l]}return e}function ii(e,t,n,r){var o=Ns(e)||qo(e);if(t=jn(t,r,4),null==n)if(o||Io(e)){var i=e.constructor;n=o?Ns(e)?new i:[]:Ia(Ao(i)?i.prototype:M)}else n={};return(o?tt:Rt)(e,function(e,r,o){return t(n,e,r,o)}),n}function ai(e){return en(e,Bs(e))}function si(e){return en(e,ti(e))}function li(e,t,n){return t=+t||0,n===M?(n=t,t=0):n=+n||0,e>=Ca(t,n)&&e<Ea(t,n)}function ui(e,t,n){n&&$n(e,t,n)&&(t=n=M);var r=null==e,o=null==t;if(null==n&&(o&&"boolean"==typeof e?(n=e,e=1):"boolean"==typeof t&&(n=t,o=!0)),r&&o&&(t=1,o=!1),e=+e||0,o?(t=e,e=0):t=+t||0,n||e%1||t%1){var i=Ta();return Ca(e+i*(t-e+la("1e-"+((i+"").length-1))),t)}return Yt(e,t)}function ci(e){return e=u(e),e&&e.charAt(0).toUpperCase()+e.slice(1)}function pi(e){return e=u(e),e&&e.replace(Ue,h).replace(Re,"")}function di(e,t,n){e=u(e),t+="";var r=e.length;return n=n===M?r:Ca(0>n?0:+n||0,r),n-=t.length,n>=0&&e.indexOf(t,n)==n}function fi(e){return e=u(e),e&&Ee.test(e)?e.replace(_e,g):e}function hi(e){return e=u(e),e&&Pe.test(e)?e.replace(Ne,m):e||"(?:)"}function gi(e,t,n){e=u(e),t=+t;var r=e.length;if(r>=t||!_a(t))return e;var o=(t-r)/2,i=ba(o),a=ma(o);return n=On("",a,n),n.slice(0,i)+e+n}function mi(e,t,n){return(n?$n(e,t,n):null==t)?t=0:t&&(t=+t),e=_i(e),Da(e,t||(Ie.test(e)?16:10))}function vi(e,t){var n="";if(e=u(e),t=+t,1>t||!e||!_a(t))return n;do t%2&&(n+=e),t=ba(t/2),e+=e;while(t);return n}function bi(e,t,n){return e=u(e),n=null==n?0:Ca(0>n?0:+n||0,e.length),e.lastIndexOf(t,n)==n}function yi(e,n,r){var o=t.templateSettings;r&&$n(e,n,r)&&(n=r=M),e=u(e),n=mt(vt({},r||n),o,gt);var i,a,s=mt(vt({},n.imports),o.imports,gt),l=Bs(s),c=en(s,l),p=0,d=n.interpolate||Ve,f="__p += '",h=Gi((n.escape||Ve).source+"|"+d.source+"|"+(d===De?Oe:Ve).source+"|"+(n.evaluate||Ve).source+"|$","g"),g="//# sourceURL="+("sourceURL"in n?n.sourceURL:"lodash.templateSources["+ ++ze+"]")+"\n";e.replace(h,function(t,n,r,o,s,l){return r||(r=o),f+=e.slice(p,l).replace(Be,v),n&&(i=!0,f+="' +\n__e("+n+") +\n'"),s&&(a=!0,f+="';\n"+s+";\n__p += '"),r&&(f+="' +\n((__t = ("+r+")) == null ? '' : __t) +\n'"),p=l+t.length,t}),f+="';\n";var m=n.variable;m||(f="with (obj) {\n"+f+"\n}\n"),f=(a?f.replace(me,""):f).replace(ve,"$1").replace(be,"$1;"),f="function("+(m||"obj")+") {\n"+(m?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(i?", __e = _.escape":"")+(a?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+f+"return __p\n}";var b=Ks(function(){return qi(l,g+"return "+f).apply(M,c)});if(b.source=f,So(b))throw b;return b}function _i(e,t,n){var r=e;return(e=u(e))?(n?$n(r,t,n):null==t)?e.slice(C(e),w(e)+1):(t+="",e.slice(c(e,t),p(e,t)+1)):e}function xi(e,t,n){var r=e;return e=u(e),e?(n?$n(r,t,n):null==t)?e.slice(C(e)):e.slice(c(e,t+"")):e}function Ei(e,t,n){var r=e;return e=u(e),e?(n?$n(r,t,n):null==t)?e.slice(0,w(e)+1):e.slice(0,p(e,t+"")+1):e}function Ci(e,t,n){n&&$n(e,t,n)&&(t=M);var r=U,o=V;if(null!=t)if(Io(t)){var i="separator"in t?t.separator:i;r="length"in t?+t.length||0:r,o="omission"in t?u(t.omission):o}else r=+t||0;if(e=u(e),r>=e.length)return e;var a=r-o.length;if(1>a)return o;var s=e.slice(0,a);if(null==i)return s+o;if(Wo(i)){if(e.slice(a).search(i)){var l,c,p=e.slice(0,a);for(i.global||(i=Gi(i.source,(Ae.exec(i)||"")+"g")),i.lastIndex=0;l=i.exec(p);)c=l.index;s=s.slice(0,null==c?a:c)}}else if(e.indexOf(i,a)!=a){var d=s.lastIndexOf(i);d>-1&&(s=s.slice(0,d))}return s+o}function wi(e){return e=u(e),e&&xe.test(e)?e.replace(ye,D):e}function Di(e,t,n){return n&&$n(e,t,n)&&(t=M),e=u(e),e.match(t||je)||[]}function Ti(e,t,n){return n&&$n(e,t,n)&&(t=M),y(e)?Ni(e):_t(e,t)}function Mi(e){return function(){return e}}function ki(e){return e}function Ni(e){return Vt(xt(e,!0))}function Pi(e,t){return Bt(e,xt(t,!0))}function Ri(e,t,n){if(null==n){var r=Io(t),o=r?Bs(t):M,i=o&&o.length?Ot(t,o):M;(i?i.length:r)||(i=!1,n=t,t=e,e=this)}i||(i=Ot(t,Bs(t)));var a=!0,s=-1,l=Ao(e),u=i.length;n===!1?a=!1:Io(n)&&"chain"in n&&(a=n.chain);for(;++s<u;){var c=i[s],p=t[c];e[c]=p,l&&(e.prototype[c]=function(t){return function(){var n=this.__chain__;if(a||n){var r=e(this.__wrapped__),o=r.__actions__=et(this.__actions__);return o.push({func:t,args:arguments,thisArg:e}),r.__chain__=n,r}return t.apply(e,ut([this.value()],arguments))}}(p))}return e}function Si(){return rt._=oa,this}function Oi(){}function Ai(e){return er(e)?zt(e):qt(e)}function Ii(e){return function(t){return At(e,dr(t),t+"")}}function Fi(e,t,n){n&&$n(e,t,n)&&(t=n=M),e=+e||0,n=null==n?1:+n||0,null==t?(t=e,e=0):t=+t||0;for(var r=-1,o=Ea(ma((t-e)/(n||1)),0),i=ji(o);++r<o;)i[r]=e,e+=n;return i}function Li(e,t,n){if(e=ba(e),1>e||!_a(e))return[];var r=-1,o=ji(Ca(e,Na));for(t=an(t,n,1);++r<e;)Na>r?o[r]=t(r):t(r);return o}function Ui(e){var t=++na;return u(e)+t}function Vi(e,t){return(+e||0)+(+t||0)}function Bi(e,t,n){return n&&$n(e,t,n)&&(t=M),t=jn(t,n,3),1==t.length?ft(Ns(e)?e:cr(e),t):Jt(e,t)}e=e?ot.defaults(rt.Object(),e,ot.pick(rt,We)):rt;var ji=e.Array,Wi=e.Date,zi=e.Error,qi=e.Function,Xi=e.Math,Yi=e.Number,Hi=e.Object,Gi=e.RegExp,Qi=e.String,Zi=e.TypeError,Ki=ji.prototype,Ji=Hi.prototype,$i=Qi.prototype,ea=qi.prototype.toString,ta=Ji.hasOwnProperty,na=0,ra=Ji.toString,oa=rt._,ia=Gi("^"+ea.call(ta).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),aa=e.ArrayBuffer,sa=e.clearTimeout,la=e.parseFloat,ua=Xi.pow,ca=Ji.propertyIsEnumerable,pa=Xn(e,"Set"),da=e.setTimeout,fa=Ki.splice,ha=e.Uint8Array,ga=Xn(e,"WeakMap"),ma=Xi.ceil,va=Xn(Hi,"create"),ba=Xi.floor,ya=Xn(ji,"isArray"),_a=e.isFinite,xa=Xn(Hi,"keys"),Ea=Xi.max,Ca=Xi.min,wa=Xn(Wi,"now"),Da=e.parseInt,Ta=Xi.random,Ma=Yi.NEGATIVE_INFINITY,ka=Yi.POSITIVE_INFINITY,Na=4294967295,Pa=Na-1,Ra=Na>>>1,Sa=9007199254740991,Oa=ga&&new ga,Aa={};t.support={};t.templateSettings={escape:Ce,evaluate:we,interpolate:De,variable:"",imports:{_:t}};var Ia=function(){function e(){}return function(t){if(Io(t)){e.prototype=t;var n=new e;e.prototype=M}return n||{}}}(),Fa=dn(Rt),La=dn(St,!0),Ua=fn(),Va=fn(!0),Ba=Oa?function(e,t){return Oa.set(e,t),e}:ki,ja=Oa?function(e){return Oa.get(e)}:Oi,Wa=zt("length"),za=function(){var e=0,t=0;return function(n,r){var o=gs(),i=j-(o-t);if(t=o,i>0){if(++e>=B)return n}else e=0;return Ba(n,r)}}(),qa=bo(function(e,t){return y(e)&&Kn(e)?Ct(e,Nt(t,!1,!0)):[]}),Xa=En(),Ya=En(!0),Ha=bo(function(e){for(var t=e.length,n=t,r=ji(p),o=zn(),i=o==s,a=[];n--;){var l=e[n]=Kn(l=e[n])?l:[];r[n]=i&&l.length>=120?gn(n&&l):null}var u=e[0],c=-1,p=u?u.length:0,d=r[0];e:for(;++c<p;)if(l=u[c],(d?Ke(d,l):o(a,l,0))<0){for(var n=t;--n;){var f=r[n];if((f?Ke(f,l):o(e[n],l,0))<0)continue e}d&&d.push(l),a.push(l)}return a}),Ga=bo(function(e,t){t=Nt(t);var n=bt(e,t);return Xt(e,t.sort(i)),n}),Qa=Fn(),Za=Fn(!0),Ka=bo(function(e){return $t(Nt(e,!1,!0))}),Ja=bo(function(e,t){return Kn(e)?Ct(e,t):[]}),$a=bo(Lr),es=bo(function(e){var t=e.length,n=t>2?e[t-2]:M,r=t>1?e[t-1]:M;return t>2&&"function"==typeof n?t-=2:(n=t>1&&"function"==typeof r?(--t,r):M,r=M),e.length=t,Ur(e,n,r)}),ts=bo(function(e){return e=Nt(e),this.thru(function(t){return $e(Ns(t)?t:[pr(t)],e)})}),ns=bo(function(e,t){return bt(e,Nt(t))}),rs=cn(function(e,t,n){ta.call(e,n)?++e[n]:e[n]=1}),os=xn(Fa),is=xn(La,!0),as=Dn(tt,Fa),ss=Dn(nt,La),ls=cn(function(e,t,n){ta.call(e,n)?e[n].push(t):e[n]=[t]}),us=cn(function(e,t,n){e[n]=t}),cs=bo(function(e,t,n){var r=-1,o="function"==typeof t,i=er(t),a=Kn(e)?ji(e.length):[];return Fa(e,function(e){var s=o?t:i&&null!=e?e[t]:M;a[++r]=s?s.apply(e,n):Zn(e,t,n)}),a}),ps=cn(function(e,t,n){e[n?0:1].push(t)},function(){return[[],[]]}),ds=Rn(ct,Fa),fs=Rn(pt,La),hs=bo(function(e,t){if(null==e)return[];var n=t[2];return n&&$n(t[0],t[1],n)&&(t.length=1),Kt(e,Nt(t),[])}),gs=wa||function(){return(new Wi).getTime()},ms=bo(function(e,t,n){var r=N;if(n.length){var o=x(n,ms.placeholder);r|=A}return Ln(e,r,t,n,o)}),vs=bo(function(e,t){t=t.length?Nt(t):Ko(e);for(var n=-1,r=t.length;++n<r;){var o=t[n];e[o]=Ln(e[o],N,e)}return e}),bs=bo(function(e,t,n){var r=N|P;if(n.length){var o=x(n,bs.placeholder);r|=A}return Ln(t,r,e,n,o)}),ys=bn(S),_s=bn(O),xs=bo(function(e,t){return Et(e,1,t)}),Es=bo(function(e,t,n){return Et(e,t,n)}),Cs=wn(),ws=wn(!0),Ds=bo(function(e,t){if(t=Nt(t),"function"!=typeof e||!it(t,l))throw new Zi(X);var n=t.length;return bo(function(r){for(var o=Ca(r.length,n);o--;)r[o]=t[o](r[o]);return e.apply(this,r)})}),Ts=Pn(A),Ms=Pn(I),ks=bo(function(e,t){return Ln(e,L,M,M,M,Nt(t))}),Ns=ya||function(e){return y(e)&&nr(e.length)&&ra.call(e)==G},Ps=pn(jt),Rs=pn(function(e,t,n){return n?mt(e,t,n):vt(e,t)}),Ss=yn(Rs,ht),Os=yn(Ps,ir),As=Cn(Rt),Is=Cn(St),Fs=Tn(Ua),Ls=Tn(Va),Us=Mn(Rt),Vs=Mn(St),Bs=xa?function(e){var t=null==e?M:e.constructor;return"function"==typeof t&&t.prototype===e||"function"!=typeof e&&Kn(e)?ur(e):Io(e)?xa(e):[]}:ur,js=kn(!0),Ws=kn(),zs=bo(function(e,t){if(null==e)return{};if("function"!=typeof t[0]){var t=lt(Nt(t),Qi);return ar(e,Ct(ti(e),t))}var n=an(t[0],t[1],3);return sr(e,function(e,t,r){return!n(e,t,r)})}),qs=bo(function(e,t){return null==e?{}:"function"==typeof t[0]?sr(e,an(t[0],t[1],3)):ar(e,Nt(t))}),Xs=mn(function(e,t,n){return t=t.toLowerCase(),e+(n?t.charAt(0).toUpperCase()+t.slice(1):t)}),Ys=mn(function(e,t,n){return e+(n?"-":"")+t.toLowerCase()}),Hs=Nn(),Gs=Nn(!0),Qs=mn(function(e,t,n){return e+(n?"_":"")+t.toLowerCase()}),Zs=mn(function(e,t,n){return e+(n?" ":"")+(t.charAt(0).toUpperCase()+t.slice(1))}),Ks=bo(function(e,t){try{return e.apply(M,t)}catch(n){return So(n)?n:new zi(n)}}),Js=bo(function(e,t){return function(n){return Zn(n,e,t)}}),$s=bo(function(e,t){return function(n){return Zn(e,n,t)}}),el=In("ceil"),tl=In("floor"),nl=_n(wo,Ma),rl=_n(Yo,ka),ol=In("round");return t.prototype=n.prototype,r.prototype=Ia(n.prototype),r.prototype.constructor=r,o.prototype=Ia(n.prototype),o.prototype.constructor=o,ie.prototype["delete"]=Ye,ie.prototype.get=He,ie.prototype.has=Ge,ie.prototype.set=Qe,Ze.prototype.push=Je,go.Cache=ie,t.after=co,t.ary=po,t.assign=Rs,t.at=ns,t.before=fo,t.bind=ms,t.bindAll=vs,t.bindKey=bs,t.callback=Ti,t.chain=jr,t.chunk=hr,t.compact=gr,t.constant=Mi,t.countBy=rs,t.create=Zo,t.curry=ys,t.curryRight=_s,t.debounce=ho,t.defaults=Ss,t.defaultsDeep=Os,t.defer=xs,t.delay=Es,t.difference=qa,t.drop=mr,t.dropRight=vr,t.dropRightWhile=br,t.dropWhile=yr,t.fill=_r,t.filter=Kr,t.flatten=Er,t.flattenDeep=Cr,t.flow=Cs,t.flowRight=ws,t.forEach=as,t.forEachRight=ss,t.forIn=Fs,t.forInRight=Ls,t.forOwn=Us,t.forOwnRight=Vs,t.functions=Ko,t.groupBy=ls,t.indexBy=us,t.initial=Dr,t.intersection=Ha,t.invert=ei,t.invoke=cs,t.keys=Bs,t.keysIn=ti,t.map=eo,t.mapKeys=js,t.mapValues=Ws,t.matches=Ni,t.matchesProperty=Pi,t.memoize=go,t.merge=Ps,t.method=Js,t.methodOf=$s,t.mixin=Ri,t.modArgs=Ds,t.negate=mo,t.omit=zs,t.once=vo,t.pairs=ni,t.partial=Ts,t.partialRight=Ms,t.partition=ps,t.pick=qs,t.pluck=to,t.property=Ai,t.propertyOf=Ii,t.pull=kr,t.pullAt=Ga,t.range=Fi,t.rearg=ks,t.reject=no,t.remove=Nr,t.rest=Pr,t.restParam=bo,t.set=oi,t.shuffle=oo,t.slice=Rr,t.sortBy=so,t.sortByAll=hs,t.sortByOrder=lo,t.spread=yo,t.take=Sr,t.takeRight=Or,t.takeRightWhile=Ar,t.takeWhile=Ir,t.tap=Wr,t.throttle=_o,t.thru=zr,t.times=Li,t.toArray=Go,t.toPlainObject=Qo,t.transform=ii,t.union=Ka,t.uniq=Fr,t.unzip=Lr,t.unzipWith=Ur,t.values=ai,t.valuesIn=si,t.where=uo,t.without=Ja,t.wrap=xo,t.xor=Vr,t.zip=$a,t.zipObject=Br,t.zipWith=es,t.backflow=ws,t.collect=eo,t.compose=ws,t.each=as,t.eachRight=ss,t.extend=Rs,t.iteratee=Ti,t.methods=Ko,t.object=Br,t.select=Kr,t.tail=Pr,t.unique=Fr,Ri(t,t),t.add=Vi,t.attempt=Ks,t.camelCase=Xs,t.capitalize=ci,t.ceil=el,t.clone=Eo,t.cloneDeep=Co,t.deburr=pi,t.endsWith=di,t.escape=fi,t.escapeRegExp=hi,t.every=Zr,t.find=os,t.findIndex=Xa,t.findKey=As,t.findLast=is,t.findLastIndex=Ya,t.findLastKey=Is,t.findWhere=Jr,t.first=xr,t.floor=tl,t.get=Jo,t.gt=wo,t.gte=Do,t.has=$o,t.identity=ki,t.includes=$r,t.indexOf=wr,t.inRange=li,t.isArguments=To,t.isArray=Ns,t.isBoolean=Mo,t.isDate=ko,t.isElement=No,t.isEmpty=Po,t.isEqual=Ro,t.isError=So,t.isFinite=Oo,t.isFunction=Ao,t.isMatch=Fo,t.isNaN=Lo,t.isNative=Uo,t.isNull=Vo,t.isNumber=Bo,t.isObject=Io,t.isPlainObject=jo,t.isRegExp=Wo,t.isString=zo,t.isTypedArray=qo,t.isUndefined=Xo,t.kebabCase=Ys,t.last=Tr,t.lastIndexOf=Mr,t.lt=Yo,t.lte=Ho,t.max=nl,t.min=rl,t.noConflict=Si,t.noop=Oi,t.now=gs,t.pad=gi,t.padLeft=Hs,t.padRight=Gs,t.parseInt=mi,t.random=ui,t.reduce=ds,t.reduceRight=fs,t.repeat=vi,t.result=ri,t.round=ol,t.runInContext=T,t.size=io,t.snakeCase=Qs,t.some=ao,t.sortedIndex=Qa,t.sortedLastIndex=Za,t.startCase=Zs,t.startsWith=bi,t.sum=Bi,t.template=yi,t.trim=_i,t.trimLeft=xi,t.trimRight=Ei,t.trunc=Ci,t.unescape=wi,t.uniqueId=Ui,t.words=Di,t.all=Zr,t.any=ao,t.contains=$r,t.eq=Ro,t.detect=os,t.foldl=ds,t.foldr=fs,t.head=xr,t.include=$r,t.inject=ds,Ri(t,function(){var e={};return Rt(t,function(n,r){t.prototype[r]||(e[r]=n)}),e}(),!1),t.sample=ro,t.prototype.sample=function(e){return this.__chain__||null!=e?this.thru(function(t){return ro(t,e)}):ro(this.value())},t.VERSION=k,tt(["bind","bindKey","curry","curryRight","partial","partialRight"],function(e){t[e].placeholder=t}),tt(["drop","take"],function(e,t){o.prototype[e]=function(n){var r=this.__filtered__;if(r&&!t)return new o(this);n=null==n?1:Ea(ba(n)||0,0);var i=this.clone();return r?i.__takeCount__=Ca(i.__takeCount__,n):i.__views__.push({size:n,type:e+(i.__dir__<0?"Right":"")}),i},o.prototype[e+"Right"]=function(t){return this.reverse()[e](t).reverse()}}),tt(["filter","map","takeWhile"],function(e,t){var n=t+1,r=n!=q;o.prototype[e]=function(e,t){var o=this.clone();return o.__iteratees__.push({iteratee:jn(e,t,1),type:n}),o.__filtered__=o.__filtered__||r,o}}),tt(["first","last"],function(e,t){var n="take"+(t?"Right":"");o.prototype[e]=function(){return this[n](1).value()[0]}}),tt(["initial","rest"],function(e,t){var n="drop"+(t?"":"Right");o.prototype[e]=function(){return this.__filtered__?new o(this):this[n](1)}}),tt(["pluck","where"],function(e,t){var n=t?"filter":"map",r=t?Vt:Ai;o.prototype[e]=function(e){return this[n](r(e))}}),o.prototype.compact=function(){return this.filter(ki)},o.prototype.reject=function(e,t){return e=jn(e,t,1),this.filter(function(t){return!e(t)})},o.prototype.slice=function(e,t){e=null==e?0:+e||0;var n=this;return n.__filtered__&&(e>0||0>t)?new o(n):(0>e?n=n.takeRight(-e):e&&(n=n.drop(e)),t!==M&&(t=+t||0,n=0>t?n.dropRight(-t):n.take(t-e)),n)},o.prototype.takeRightWhile=function(e,t){return this.reverse().takeWhile(e,t).reverse()},o.prototype.toArray=function(){return this.take(ka)},Rt(o.prototype,function(e,n){
var i=/^(?:filter|map|reject)|While$/.test(n),a=/^(?:first|last)$/.test(n),s=t[a?"take"+("last"==n?"Right":""):n];s&&(t.prototype[n]=function(){var t=a?[1]:arguments,n=this.__chain__,l=this.__wrapped__,u=!!this.__actions__.length,c=l instanceof o,p=t[0],d=c||Ns(l);d&&i&&"function"==typeof p&&1!=p.length&&(c=d=!1);var f=function(e){return a&&n?s(e,1)[0]:s.apply(M,ut([e],t))},h={func:zr,args:[f],thisArg:M},g=c&&!u;if(a&&!n)return g?(l=l.clone(),l.__actions__.push(h),e.call(l)):s.call(M,this.value())[0];if(!a&&d){l=g?l:new o(this);var m=e.apply(l,t);return m.__actions__.push(h),new r(m,n)}return this.thru(f)})}),tt(["join","pop","push","replace","shift","sort","splice","split","unshift"],function(e){var n=(/^(?:replace|split)$/.test(e)?$i:Ki)[e],r=/^(?:push|sort|unshift)$/.test(e)?"tap":"thru",o=/^(?:join|pop|replace|shift)$/.test(e);t.prototype[e]=function(){var e=arguments;return o&&!this.__chain__?n.apply(this.value(),e):this[r](function(t){return n.apply(t,e)})}}),Rt(o.prototype,function(e,n){var r=t[n];if(r){var o=r.name,i=Aa[o]||(Aa[o]=[]);i.push({name:n,func:r})}}),Aa[Sn(M,P).name]=[{name:"wrapper",func:M}],o.prototype.clone=_,o.prototype.reverse=$,o.prototype.value=re,t.prototype.chain=qr,t.prototype.commit=Xr,t.prototype.concat=ts,t.prototype.plant=Yr,t.prototype.reverse=Hr,t.prototype.toString=Gr,t.prototype.run=t.prototype.toJSON=t.prototype.valueOf=t.prototype.value=Qr,t.prototype.collect=t.prototype.map,t.prototype.head=t.prototype.first,t.prototype.select=t.prototype.filter,t.prototype.tail=t.prototype.rest,t}var M,k="3.10.1",N=1,P=2,R=4,S=8,O=16,A=32,I=64,F=128,L=256,U=30,V="...",B=150,j=16,W=200,z=1,q=2,X="Expected a function",Y="__lodash_placeholder__",H="[object Arguments]",G="[object Array]",Q="[object Boolean]",Z="[object Date]",K="[object Error]",J="[object Function]",$="[object Map]",ee="[object Number]",te="[object Object]",ne="[object RegExp]",re="[object Set]",oe="[object String]",ie="[object WeakMap]",ae="[object ArrayBuffer]",se="[object Float32Array]",le="[object Float64Array]",ue="[object Int8Array]",ce="[object Int16Array]",pe="[object Int32Array]",de="[object Uint8Array]",fe="[object Uint8ClampedArray]",he="[object Uint16Array]",ge="[object Uint32Array]",me=/\b__p \+= '';/g,ve=/\b(__p \+=) '' \+/g,be=/(__e\(.*?\)|\b__t\)) \+\n'';/g,ye=/&(?:amp|lt|gt|quot|#39|#96);/g,_e=/[&<>"'`]/g,xe=RegExp(ye.source),Ee=RegExp(_e.source),Ce=/<%-([\s\S]+?)%>/g,we=/<%([\s\S]+?)%>/g,De=/<%=([\s\S]+?)%>/g,Te=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\n\\]|\\.)*?\1)\]/,Me=/^\w*$/,ke=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\n\\]|\\.)*?)\2)\]/g,Ne=/^[:!,]|[\\^$.*+?()[\]{}|\/]|(^[0-9a-fA-Fnrtuvx])|([\n\r\u2028\u2029])/g,Pe=RegExp(Ne.source),Re=/[\u0300-\u036f\ufe20-\ufe23]/g,Se=/\\(\\)?/g,Oe=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,Ae=/\w*$/,Ie=/^0[xX]/,Fe=/^\[object .+?Constructor\]$/,Le=/^\d+$/,Ue=/[\xc0-\xd6\xd8-\xde\xdf-\xf6\xf8-\xff]/g,Ve=/($^)/,Be=/['\n\r\u2028\u2029\\]/g,je=function(){var e="[A-Z\\xc0-\\xd6\\xd8-\\xde]",t="[a-z\\xdf-\\xf6\\xf8-\\xff]+";return RegExp(e+"+(?="+e+t+")|"+e+"?"+t+"|"+e+"+|[0-9]+","g")}(),We=["Array","ArrayBuffer","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Math","Number","Object","RegExp","Set","String","_","clearTimeout","isFinite","parseFloat","parseInt","setTimeout","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap"],ze=-1,qe={};qe[se]=qe[le]=qe[ue]=qe[ce]=qe[pe]=qe[de]=qe[fe]=qe[he]=qe[ge]=!0,qe[H]=qe[G]=qe[ae]=qe[Q]=qe[Z]=qe[K]=qe[J]=qe[$]=qe[ee]=qe[te]=qe[ne]=qe[re]=qe[oe]=qe[ie]=!1;var Xe={};Xe[H]=Xe[G]=Xe[ae]=Xe[Q]=Xe[Z]=Xe[se]=Xe[le]=Xe[ue]=Xe[ce]=Xe[pe]=Xe[ee]=Xe[te]=Xe[ne]=Xe[oe]=Xe[de]=Xe[fe]=Xe[he]=Xe[ge]=!0,Xe[K]=Xe[J]=Xe[$]=Xe[re]=Xe[ie]=!1;var Ye={"À":"A","Á":"A","Â":"A","Ã":"A","Ä":"A","Å":"A","à":"a","á":"a","â":"a","ã":"a","ä":"a","å":"a","Ç":"C","ç":"c","Ð":"D","ð":"d","È":"E","É":"E","Ê":"E","Ë":"E","è":"e","é":"e","ê":"e","ë":"e","Ì":"I","Í":"I","Î":"I","Ï":"I","ì":"i","í":"i","î":"i","ï":"i","Ñ":"N","ñ":"n","Ò":"O","Ó":"O","Ô":"O","Õ":"O","Ö":"O","Ø":"O","ò":"o","ó":"o","ô":"o","õ":"o","ö":"o","ø":"o","Ù":"U","Ú":"U","Û":"U","Ü":"U","ù":"u","ú":"u","û":"u","ü":"u","Ý":"Y","ý":"y","ÿ":"y","Æ":"Ae","æ":"ae","Þ":"Th","þ":"th","ß":"ss"},He={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","`":"&#96;"},Ge={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'","&#96;":"`"},Qe={"function":!0,object:!0},Ze={0:"x30",1:"x31",2:"x32",3:"x33",4:"x34",5:"x35",6:"x36",7:"x37",8:"x38",9:"x39",A:"x41",B:"x42",C:"x43",D:"x44",E:"x45",F:"x46",a:"x61",b:"x62",c:"x63",d:"x64",e:"x65",f:"x66",n:"x6e",r:"x72",t:"x74",u:"x75",v:"x76",x:"x78"},Ke={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},Je=Qe[typeof t]&&t&&!t.nodeType&&t,$e=Qe[typeof e]&&e&&!e.nodeType&&e,et=Je&&$e&&"object"==typeof o&&o&&o.Object&&o,tt=Qe[typeof self]&&self&&self.Object&&self,nt=Qe[typeof window]&&window&&window.Object&&window,rt=($e&&$e.exports===Je&&Je,et||nt!==(this&&this.window)&&nt||tt||this),ot=T();rt._=ot,r=function(){return ot}.call(t,n,t,e),!(r!==M&&(e.exports=r))}).call(this)}).call(t,n(106)(e),function(){return this}())},function(e,t,n){function r(e,t){return-1!==o(e,t)}var o=n(114);e.exports=r},function(e,t,n){function r(e,t,n){if(null!=e&&e.length){if(e.length&&!t)return Math.max.apply(Math,e);t=o(t,n);for(var r,i,a,s=-(1/0),l=-1,u=e.length;++l<u;)i=e[l],a=t(i,l,e),a>s&&(s=a,r=i);return r}return 1/0}var o=n(115);e.exports=r},function(e,t,n){function r(e,t,n){if(null!=e&&e.length){if(e.length&&!t)return Math.min.apply(Math,e);t=o(t,n);for(var r,i,a,s=1/0,l=-1,u=e.length;++l<u;)i=e[l],a=t(i,l,e),s>a&&(s=a,r=i);return r}return-(1/0)}var o=n(115);e.exports=r},function(e,t,n){function r(e,t){for(var n=o(e,t);-1!==n;)e.splice(n,1),n=o(e,t,n)}var o=n(114);e.exports=r},function(e,t){function n(e,t,n){var r=e.length;t=null==t?0:0>t?Math.max(r+t,0):Math.min(t,r),n=null==n?r:0>n?Math.max(r+n,0):Math.min(n,r);for(var o=[];n>t;)o.push(e[t++]);return o}e.exports=n},function(e,t){function n(e){return e}e.exports=n},function(e,t){function n(e){return function(t){return t[e]}}e.exports=n},function(e,t,n){var r=n(306),o=Array.isArray||function(e){return r(e,"Array")};e.exports=o},function(e,t,n){function r(e,t){return o(e)===t}var o=n(307);e.exports=r},function(e,t){function n(e){return null===e?"Null":e===r?"Undefined":o.exec(i.call(e))[1]}var r,o=/^\[object (.*)\]$/,i=Object.prototype.toString;e.exports=n},function(e,t,n){function r(e,t){for(var n=-1,r=e.length;++n<r;)if(a(e[n],t))return!0;return!1}function o(e,t){for(var n=-1,o=t.length;++n<o;)if(!r(e,t[n]))return!1;return!0}function i(e,t){var n=!0;return s(t,function(t,r){return a(e[r],t)?void 0:n=!1}),n}function a(e,t){return e&&"object"==typeof e?l(e)&&l(t)?o(e,t):i(e,t):e===t}var s=n(69),l=n(305);e.exports=a},function(e,t,n){function r(){s=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],a=!0;for(var e in{toString:null})a=!1}function o(e,t,n){var o,u=0;null==a&&r();for(o in e)if(i(t,e,o,n)===!1)break;if(a)for(var c=e.constructor,p=!!c&&e===c.prototype;(o=s[u++])&&("constructor"===o&&(p||!l(e,o))||e[o]===Object.prototype[o]||i(t,e,o,n)!==!1););}function i(e,t,n,r){return e.call(r,t[n],n,t)}var a,s,l=n(47);e.exports=o},function(e,t,n){function r(e,t){return o(i(e),t)}var o=n(300),i=n(116);e.exports=r},function(e,t,n){function r(e,t){var n="string"!=typeof arguments[1]?arguments[1]:o(arguments,1),r={};for(var a in e)e.hasOwnProperty(a)&&!i(n,a)&&(r[a]=e[a]);return r}var o=n(302),i=n(298);e.exports=r},function(e,t,n){function r(e){var t=0;return o(e,function(){t++}),t}var o=n(69);e.exports=r},function(e,t,n){var r,o;r=[n(117)],o=function(e){function t(t,n,r){n=e(n,r);var o=!0;if(null==t)return o;for(var i=-1,a=t.length;++i<a;)if(!n(t[i],i,t)){o=!1;break}return o}return t}.apply(t,r),!(void 0!==o&&(e.exports=o))},function(e,t,n){var r;r=function(){function e(e,t,n){if(n=n||0,null==e)return-1;for(var r=e.length,o=0>n?r+n:n;r>o;){if(e[o]===t)return o;o++}return-1}return e}.call(t,n,t,e),!(void 0!==r&&(e.exports=r))},function(e,t,n){var r;r=function(){function e(e){return e}return e}.call(t,n,t,e),!(void 0!==r&&(e.exports=r))},function(e,t,n){var r;r=function(){function e(e){return function(t){return t[e]}}return e}.call(t,n,t,e),!(void 0!==r&&(e.exports=r))},function(e,t,n){var r,o;r=[n(72),n(121),n(322)],o=function(e,t,n){function r(t){switch(e(t)){case"Object":return o(t);case"Array":return s(t);case"RegExp":return i(t);case"Date":return a(t);default:return t}}function o(e){return t(e)?n({},e):e}function i(e){var t="";return t+=e.multiline?"m":"",t+=e.global?"g":"",t+=e.ignoreCase?"i":"",new RegExp(e.source,t)}function a(e){return new Date(+e)}function s(e){return e.slice()}return r}.apply(t,r),!(void 0!==o&&(e.exports=o))},function(e,t,n){var r,o;r=[n(317),n(48),n(72),n(121)],o=function(e,t,n,r){function o(t,r){switch(n(t)){case"Object":return i(t,r);case"Array":return a(t,r);default:return e(t)}}function i(e,n){if(r(e)){var i={};return t(e,function(e,t){this[t]=o(e,n)},i),i}return n?n(e):e}function a(e,t){for(var n=[],r=-1,i=e.length;++r<i;)n[r]=o(e[r],t);return n}return o}.apply(t,r),!(void 0!==o&&(e.exports=o))},function(e,t,n){var r,o;r=[n(48),n(71)],o=function(e,t){function n(e,t){for(var n=-1,r=e.length;++n<r;)if(i(e[n],t))return!0;return!1}function r(e,t){for(var r=-1,o=t.length;++r<o;)if(!n(e,t[r]))return!1;return!0}function o(t,n){var r=!0;return e(n,function(e,n){return i(t[n],e)?void 0:r=!1}),r}function i(e,n){return e&&"object"==typeof e?t(e)&&t(n)?r(e,n):o(e,n):e===n}return i}.apply(t,r),!(void 0!==o&&(e.exports=o))},function(e,t,n){var r,o;r=[n(48),n(117)],o=function(e,t){function n(n,r,o){r=t(r,o);var i=!0;return e(n,function(e,t){return r(e,t,n)?void 0:(i=!1,!1)}),i}return n}.apply(t,r),!(void 0!==o&&(e.exports=o))},function(e,t,n){var r,o;r=[n(37)],o=function(e){function t(){i=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],o=!0;for(var e in{toString:null})o=!1}function n(n,a,s){var l,u=0;null==o&&t();for(l in n)if(r(a,n,l,s)===!1)break;if(o)for(var c=n.constructor,p=!!c&&n===c.prototype;(l=i[u++])&&("constructor"===l&&(p||!e(n,l))||n[l]===Object.prototype[l]||r(a,n,l,s)!==!1););}function r(e,t,n,r){return e.call(r,t[n],n,t)}var o,i;return n}.apply(t,r),!(void 0!==o&&(e.exports=o))},function(e,t,n){var r,o;r=[n(48)],o=function(e){function t(t,r){for(var o,i=0,a=arguments.length;++i<a;)o=arguments[i],null!=o&&e(o,n,t);return t}function n(e,t){this[t]=e}return t}.apply(t,r),!(void 0!==o&&(e.exports=o))},function(e,t,n){var r,o;r=[n(326),n(71),n(37)],o=function(e,t,n){function r(r,o){for(var i,a,s,l,u=(r||"").replace("?","").split("&"),c=-1,p={};a=u[++c];)i=a.indexOf("="),l=a.substring(0,i),s=decodeURIComponent(a.substring(i+1)),o!==!1&&(s=e(s)),n(p,l)?t(p[l])?p[l].push(s):p[l]=[p[l],s]:p[l]=s;return p}return r}.apply(t,r),!(void 0!==o&&(e.exports=o))},function(e,t,n){var r;r=function(){function e(e){e=e.replace(/#.*/,"");var t=/\?[a-zA-Z0-9\=\&\%\$\-\_\.\+\!\*\'\(\)\,]+/.exec(e);return t?decodeURIComponent(t[0].replace(/\+/g," ")):""}return e}.call(t,n,t,e),!(void 0!==r&&(e.exports=r))},function(e,t,n){var r,o;r=[n(323),n(324)],o=function(e,t){function n(n,r){return e(t(n),r)}return n}.apply(t,r),!(void 0!==o&&(e.exports=o))},function(e,t,n){var r;r=function(){function e(e){var n;return n=null===e||"null"===e?null:"true"===e?!0:"false"===e?!1:e===t||"undefined"===e?t:""===e||isNaN(e)?e:parseFloat(e)}var t;return e}.call(t,n,t,e),!(void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var r=n(10),o=n(82),i=n(109),a={componentDidMount:function(){this.props.autoFocus&&i(o(this))}},s={Mixin:a,focusDOMComponent:function(){i(r.getNode(this._rootNodeID))}};e.exports=s},function(e,t,n){"use strict";function r(){var e=window.opera;return"object"==typeof e&&"function"==typeof e.version&&parseInt(e.version(),10)<=12}function o(e){return(e.ctrlKey||e.altKey||e.metaKey)&&!(e.ctrlKey&&e.altKey)}function i(e){switch(e){case k.topCompositionStart:return N.compositionStart;case k.topCompositionEnd:return N.compositionEnd;case k.topCompositionUpdate:return N.compositionUpdate}}function a(e,t){return e===k.topKeyDown&&t.keyCode===x}function s(e,t){switch(e){case k.topKeyUp:return-1!==_.indexOf(t.keyCode);case k.topKeyDown:return t.keyCode!==x;case k.topKeyPress:case k.topMouseDown:case k.topBlur:return!0;default:return!1}}function l(e){var t=e.detail;return"object"==typeof t&&"data"in t?t.data:null}function u(e,t,n,r,o){var u,c;if(E?u=i(e):R?s(e,r)&&(u=N.compositionEnd):a(e,r)&&(u=N.compositionStart),!u)return null;D&&(R||u!==N.compositionStart?u===N.compositionEnd&&R&&(c=R.getData()):R=m.getPooled(t));var p=v.getPooled(u,n,r,o);if(c)p.data=c;else{var d=l(r);null!==d&&(p.data=d)}return h.accumulateTwoPhaseDispatches(p),p}function c(e,t){switch(e){case k.topCompositionEnd:return l(t);case k.topKeyPress:var n=t.which;return n!==T?null:(P=!0,M);case k.topTextInput:var r=t.data;return r===M&&P?null:r;default:return null}}function p(e,t){if(R){if(e===k.topCompositionEnd||s(e,t)){var n=R.getData();return m.release(R),R=null,n}return null}switch(e){case k.topPaste:return null;case k.topKeyPress:return t.which&&!o(t)?String.fromCharCode(t.which):null;case k.topCompositionEnd:return D?null:t.data;default:return null}}function d(e,t,n,r,o){var i;if(i=w?c(e,r):p(e,r),!i)return null;var a=b.getPooled(N.beforeInput,n,r,o);return a.data=i,h.accumulateTwoPhaseDispatches(a),a}var f=n(21),h=n(39),g=n(8),m=n(336),v=n(368),b=n(371),y=n(24),_=[9,13,27,32],x=229,E=g.canUseDOM&&"CompositionEvent"in window,C=null;g.canUseDOM&&"documentMode"in document&&(C=document.documentMode);var w=g.canUseDOM&&"TextEvent"in window&&!C&&!r(),D=g.canUseDOM&&(!E||C&&C>8&&11>=C),T=32,M=String.fromCharCode(T),k=f.topLevelTypes,N={beforeInput:{phasedRegistrationNames:{bubbled:y({onBeforeInput:null}),captured:y({onBeforeInputCapture:null})},dependencies:[k.topCompositionEnd,k.topKeyPress,k.topTextInput,k.topPaste]},compositionEnd:{phasedRegistrationNames:{bubbled:y({onCompositionEnd:null}),captured:y({onCompositionEndCapture:null})},dependencies:[k.topBlur,k.topCompositionEnd,k.topKeyDown,k.topKeyPress,k.topKeyUp,k.topMouseDown]},compositionStart:{phasedRegistrationNames:{bubbled:y({onCompositionStart:null}),captured:y({onCompositionStartCapture:null})},dependencies:[k.topBlur,k.topCompositionStart,k.topKeyDown,k.topKeyPress,k.topKeyUp,k.topMouseDown]},compositionUpdate:{phasedRegistrationNames:{bubbled:y({onCompositionUpdate:null}),captured:y({onCompositionUpdateCapture:null})},dependencies:[k.topBlur,k.topCompositionUpdate,k.topKeyDown,k.topKeyPress,k.topKeyUp,k.topMouseDown]}},P=!1,R=null,S={eventTypes:N,extractEvents:function(e,t,n,r,o){return[u(e,t,n,r,o),d(e,t,n,r,o)]}};e.exports=S},function(e,t,n){(function(t){"use strict";var r=n(123),o=n(8),i=n(17),a=n(281),s=n(376),l=n(286),u=n(290),c=n(5),p=u(function(e){return l(e)}),d=!1,f="cssFloat";if(o.canUseDOM){var h=document.createElement("div").style;try{h.font=""}catch(g){d=!0}void 0===document.documentElement.style.cssFloat&&(f="styleFloat")}if("production"!==t.env.NODE_ENV)var m=/^(?:webkit|moz|o)[A-Z]/,v=/;\s*$/,b={},y={},_=function(e){b.hasOwnProperty(e)&&b[e]||(b[e]=!0,"production"!==t.env.NODE_ENV?c(!1,"Unsupported style property %s. Did you mean %s?",e,a(e)):void 0)},x=function(e){b.hasOwnProperty(e)&&b[e]||(b[e]=!0,"production"!==t.env.NODE_ENV?c(!1,"Unsupported vendor-prefixed style property %s. Did you mean %s?",e,e.charAt(0).toUpperCase()+e.slice(1)):void 0)},E=function(e,n){y.hasOwnProperty(n)&&y[n]||(y[n]=!0,"production"!==t.env.NODE_ENV?c(!1,'Style property values shouldn\'t contain a semicolon. Try "%s: %s" instead.',e,n.replace(v,"")):void 0)},C=function(e,t){e.indexOf("-")>-1?_(e):m.test(e)?x(e):v.test(t)&&E(e,t)};var w={createMarkupForStyles:function(e){var n="";for(var r in e)if(e.hasOwnProperty(r)){var o=e[r];"production"!==t.env.NODE_ENV&&C(r,o),null!=o&&(n+=p(r)+":",n+=s(r,o)+";")}return n||null},setValueForStyles:function(e,n){var o=e.style;for(var i in n)if(n.hasOwnProperty(i)){"production"!==t.env.NODE_ENV&&C(i,n[i]);var a=s(i,n[i]);if("float"===i&&(i=f),a)o[i]=a;else{var l=d&&r.shorthandPropertyExpansions[i];if(l)for(var u in l)o[u]="";else o[i]=""}}}};i.measureMethods(w,"CSSPropertyOperations",{setValueForStyles:"setValueForStyles"}),e.exports=w}).call(t,n(1))},function(e,t,n){"use strict";function r(e){var t=e.nodeName&&e.nodeName.toLowerCase();return"select"===t||"input"===t&&"file"===e.type}function o(e){var t=C.getPooled(N.change,R,e,w(e));_.accumulateTwoPhaseDispatches(t),E.batchedUpdates(i,t)}function i(e){y.enqueueEvents(e),y.processEventQueue(!1)}function a(e,t){P=e,R=t,P.attachEvent("onchange",o)}function s(){P&&(P.detachEvent("onchange",o),P=null,R=null)}function l(e,t,n){return e===k.topChange?n:void 0}function u(e,t,n){e===k.topFocus?(s(),a(t,n)):e===k.topBlur&&s()}function c(e,t){P=e,R=t,S=e.value,O=Object.getOwnPropertyDescriptor(e.constructor.prototype,"value"),Object.defineProperty(P,"value",F),P.attachEvent("onpropertychange",d)}function p(){P&&(delete P.value,P.detachEvent("onpropertychange",d),P=null,R=null,S=null,O=null)}function d(e){if("value"===e.propertyName){var t=e.srcElement.value;t!==S&&(S=t,o(e))}}function f(e,t,n){return e===k.topInput?n:void 0}function h(e,t,n){e===k.topFocus?(p(),c(t,n)):e===k.topBlur&&p()}function g(e,t,n){return e!==k.topSelectionChange&&e!==k.topKeyUp&&e!==k.topKeyDown||!P||P.value===S?void 0:(S=P.value,R)}function m(e){return e.nodeName&&"input"===e.nodeName.toLowerCase()&&("checkbox"===e.type||"radio"===e.type)}function v(e,t,n){return e===k.topClick?n:void 0}var b=n(21),y=n(38),_=n(39),x=n(8),E=n(18),C=n(28),w=n(85),D=n(88),T=n(150),M=n(24),k=b.topLevelTypes,N={change:{phasedRegistrationNames:{bubbled:M({onChange:null}),captured:M({onChangeCapture:null})},dependencies:[k.topBlur,k.topChange,k.topClick,k.topFocus,k.topInput,k.topKeyDown,k.topKeyUp,k.topSelectionChange]}},P=null,R=null,S=null,O=null,A=!1;x.canUseDOM&&(A=D("change")&&(!("documentMode"in document)||document.documentMode>8));var I=!1;x.canUseDOM&&(I=D("input")&&(!("documentMode"in document)||document.documentMode>9));var F={get:function(){return O.get.call(this)},set:function(e){S=""+e,O.set.call(this,e)}},L={eventTypes:N,extractEvents:function(e,t,n,o,i){var a,s;if(r(t)?A?a=l:s=u:T(t)?I?a=f:(a=g,s=h):m(t)&&(a=v),a){var c=a(e,t,n);if(c){var p=C.getPooled(N.change,c,o,i);return p.type="change",_.accumulateTwoPhaseDispatches(p),p}}s&&s(e,t,n)}};e.exports=L},function(e,t){"use strict";var n=0,r={createReactRootIndex:function(){return n++}};e.exports=r},function(e,t,n){(function(t){"use strict";function r(e){return e.substring(1,e.indexOf(" "))}var o=n(8),i=n(283),a=n(19),s=n(111),l=n(3),u=/^(<[^ \/>]+)/,c="data-danger-index",p={dangerouslyRenderMarkup:function(e){o.canUseDOM?void 0:"production"!==t.env.NODE_ENV?l(!1,"dangerouslyRenderMarkup(...): Cannot render markup in a worker thread. Make sure `window` and `document` are available globally before requiring React when unit testing or use ReactDOMServer.renderToString for server rendering."):l(!1);for(var n,p={},d=0;d<e.length;d++)e[d]?void 0:"production"!==t.env.NODE_ENV?l(!1,"dangerouslyRenderMarkup(...): Missing markup."):l(!1),n=r(e[d]),n=s(n)?n:"*",p[n]=p[n]||[],p[n][d]=e[d];var f=[],h=0;for(n in p)if(p.hasOwnProperty(n)){var g,m=p[n];for(g in m)if(m.hasOwnProperty(g)){var v=m[g];m[g]=v.replace(u,"$1 "+c+'="'+g+'" ')}for(var b=i(m.join(""),a),y=0;y<b.length;++y){var _=b[y];_.hasAttribute&&_.hasAttribute(c)?(g=+_.getAttribute(c),_.removeAttribute(c),f.hasOwnProperty(g)?"production"!==t.env.NODE_ENV?l(!1,"Danger: Assigning to an already-occupied result index."):l(!1):void 0,f[g]=_,h+=1):"production"!==t.env.NODE_ENV&&console.error("Danger: Discarding unexpected node:",_)}}return h!==f.length?"production"!==t.env.NODE_ENV?l(!1,"Danger: Did not assign to every index of resultList."):l(!1):void 0,f.length!==e.length?"production"!==t.env.NODE_ENV?l(!1,"Danger: Expected markup to render %s nodes, but rendered %s.",e.length,f.length):l(!1):void 0,f},dangerouslyReplaceNodeWithMarkup:function(e,n){o.canUseDOM?void 0:"production"!==t.env.NODE_ENV?l(!1,"dangerouslyReplaceNodeWithMarkup(...): Cannot render markup in a worker thread. Make sure `window` and `document` are available globally before requiring React when unit testing or use ReactDOMServer.renderToString() for server rendering."):l(!1),n?void 0:"production"!==t.env.NODE_ENV?l(!1,"dangerouslyReplaceNodeWithMarkup(...): Missing markup."):l(!1),"html"===e.tagName.toLowerCase()?"production"!==t.env.NODE_ENV?l(!1,"dangerouslyReplaceNodeWithMarkup(...): Cannot replace markup of the <html> node. This is because browser quirks make this unreliable and/or slow. If you want to render to the root you must use server rendering. See ReactDOMServer.renderToString()."):l(!1):void 0;var r;r="string"==typeof n?i(n,a)[0]:n,e.parentNode.replaceChild(r,e)}};e.exports=p}).call(t,n(1))},function(e,t,n){"use strict";var r=n(24),o=[r({ResponderEventPlugin:null}),r({SimpleEventPlugin:null}),r({TapEventPlugin:null}),r({EnterLeaveEventPlugin:null}),r({ChangeEventPlugin:null}),r({SelectEventPlugin:null}),r({BeforeInputEventPlugin:null})];e.exports=o},function(e,t,n){"use strict";var r=n(21),o=n(39),i=n(53),a=n(10),s=n(24),l=r.topLevelTypes,u=a.getFirstReactDOM,c={mouseEnter:{registrationName:s({onMouseEnter:null}),dependencies:[l.topMouseOut,l.topMouseOver]},mouseLeave:{registrationName:s({onMouseLeave:null}),dependencies:[l.topMouseOut,l.topMouseOver]}},p=[null,null],d={eventTypes:c,extractEvents:function(e,t,n,r,s){if(e===l.topMouseOver&&(r.relatedTarget||r.fromElement))return null;if(e!==l.topMouseOut&&e!==l.topMouseOver)return null;var d;if(t.window===t)d=t;else{var f=t.ownerDocument;d=f?f.defaultView||f.parentWindow:window}var h,g,m="",v="";if(e===l.topMouseOut?(h=t,m=n,g=u(r.relatedTarget||r.toElement),g?v=a.getID(g):g=d,g=g||d):(h=d,g=t,v=n),h===g)return null;var b=i.getPooled(c.mouseLeave,m,r,s);b.type="mouseleave",b.target=h,b.relatedTarget=g;var y=i.getPooled(c.mouseEnter,v,r,s);return y.type="mouseenter",y.target=g,y.relatedTarget=h,o.accumulateEnterLeaveDispatches(b,y,m,v),p[0]=b,p[1]=y,p}};e.exports=d},function(e,t,n){(function(t){"use strict";function r(e){return e===b.topMouseUp||e===b.topTouchEnd||e===b.topTouchCancel}function o(e){return e===b.topMouseMove||e===b.topTouchMove}function i(e){return e===b.topMouseDown||e===b.topTouchStart}function a(e,t,n,r){var o=e.type||"unknown-event";e.currentTarget=v.Mount.getNode(r),t?h.invokeGuardedCallbackWithCatch(o,n,e,r):h.invokeGuardedCallback(o,n,e,r),e.currentTarget=null}function s(e,n){var r=e._dispatchListeners,o=e._dispatchIDs;if("production"!==t.env.NODE_ENV&&d(e),Array.isArray(r))for(var i=0;i<r.length&&!e.isPropagationStopped();i++)a(e,n,r[i],o[i]);else r&&a(e,n,r,o);e._dispatchListeners=null,e._dispatchIDs=null}function l(e){var n=e._dispatchListeners,r=e._dispatchIDs;if("production"!==t.env.NODE_ENV&&d(e),Array.isArray(n)){for(var o=0;o<n.length&&!e.isPropagationStopped();o++)if(n[o](e,r[o]))return r[o]}else if(n&&n(e,r))return r;return null}function u(e){var t=l(e);return e._dispatchIDs=null,e._dispatchListeners=null,t}function c(e){"production"!==t.env.NODE_ENV&&d(e);var n=e._dispatchListeners,r=e._dispatchIDs;Array.isArray(n)?"production"!==t.env.NODE_ENV?g(!1,"executeDirectDispatch(...): Invalid `event`."):g(!1):void 0;var o=n?n(e,r):null;return e._dispatchListeners=null,e._dispatchIDs=null,o}function p(e){return!!e._dispatchListeners}var d,f=n(21),h=n(138),g=n(3),m=n(5),v={Mount:null,injectMount:function(e){v.Mount=e,"production"!==t.env.NODE_ENV&&("production"!==t.env.NODE_ENV?m(e&&e.getNode&&e.getID,"EventPluginUtils.injection.injectMount(...): Injected Mount module is missing getNode or getID."):void 0)}},b=f.topLevelTypes;"production"!==t.env.NODE_ENV&&(d=function(e){var n=e._dispatchListeners,r=e._dispatchIDs,o=Array.isArray(n),i=Array.isArray(r),a=i?r.length:r?1:0,s=o?n.length:n?1:0;"production"!==t.env.NODE_ENV?m(i===o&&a===s,"EventPluginUtils: Invalid `event`."):void 0});var y={isEndish:r,isMoveish:o,isStartish:i,executeDirectDispatch:c,executeDispatchesInOrder:s,executeDispatchesInOrderStopAtTrue:u,hasDispatches:p,getNode:function(e){return v.Mount.getNode(e)},getID:function(e){return v.Mount.getID(e)},injection:v};e.exports=y}).call(t,n(1))},function(e,t,n){"use strict";function r(e){this._root=e,this._startText=this.getText(),this._fallbackText=null}var o=n(25),i=n(4),a=n(149);i(r.prototype,{destructor:function(){this._root=null,this._startText=null,this._fallbackText=null},getText:function(){return"value"in this._root?this._root.value:this._root[a()]},getData:function(){if(this._fallbackText)return this._fallbackText;var e,t,n=this._startText,r=n.length,o=this.getText(),i=o.length;for(e=0;r>e&&n[e]===o[e];e++);var a=r-e;for(t=1;a>=t&&n[r-t]===o[i-t];t++);var s=t>1?1-t:void 0;return this._fallbackText=o.slice(e,s),this._fallbackText}}),o.addPoolingTo(r),e.exports=r},function(e,t,n){"use strict";var r,o=n(26),i=n(8),a=o.injection.MUST_USE_ATTRIBUTE,s=o.injection.MUST_USE_PROPERTY,l=o.injection.HAS_BOOLEAN_VALUE,u=o.injection.HAS_SIDE_EFFECTS,c=o.injection.HAS_NUMERIC_VALUE,p=o.injection.HAS_POSITIVE_NUMERIC_VALUE,d=o.injection.HAS_OVERLOADED_BOOLEAN_VALUE;if(i.canUseDOM){var f=document.implementation;r=f&&f.hasFeature&&f.hasFeature("http://www.w3.org/TR/SVG11/feature#BasicStructure","1.1")}var h={isCustomAttribute:RegExp.prototype.test.bind(/^(data|aria)-[a-z_][a-z\d_.\-]*$/),Properties:{accept:null,acceptCharset:null,accessKey:null,action:null,allowFullScreen:a|l,allowTransparency:a,alt:null,async:l,autoComplete:null,autoPlay:l,capture:a|l,cellPadding:null,cellSpacing:null,charSet:a,challenge:a,checked:s|l,classID:a,className:r?a:s,cols:a|p,colSpan:null,content:null,contentEditable:null,contextMenu:a,controls:s|l,coords:null,crossOrigin:null,data:null,dateTime:a,"default":l,defer:l,dir:null,disabled:a|l,download:d,draggable:null,encType:null,form:a,formAction:a,formEncType:a,formMethod:a,formNoValidate:l,formTarget:a,frameBorder:a,headers:null,height:a,hidden:a|l,high:null,href:null,hrefLang:null,htmlFor:null,httpEquiv:null,icon:null,id:s,inputMode:a,integrity:null,is:a,keyParams:a,keyType:a,kind:null,label:null,lang:null,list:a,loop:s|l,low:null,manifest:a,marginHeight:null,marginWidth:null,max:null,maxLength:a,media:a,mediaGroup:null,method:null,min:null,minLength:a,multiple:s|l,muted:s|l,name:null,nonce:a,noValidate:l,open:l,optimum:null,pattern:null,placeholder:null,poster:null,preload:null,radioGroup:null,readOnly:s|l,rel:null,required:l,reversed:l,role:a,rows:a|p,rowSpan:null,sandbox:null,scope:null,scoped:l,scrolling:null,seamless:a|l,selected:s|l,shape:null,size:a|p,sizes:a,span:p,spellCheck:null,src:null,srcDoc:s,srcLang:null,srcSet:a,start:c,step:null,style:null,summary:null,tabIndex:null,target:null,title:null,type:null,useMap:null,value:s|u,width:a,wmode:a,wrap:null,about:a,datatype:a,inlist:a,prefix:a,property:a,resource:a,"typeof":a,vocab:a,autoCapitalize:null,autoCorrect:null,autoSave:null,color:null,itemProp:a,itemScope:a|l,itemType:a,itemID:a,itemRef:a,results:null,security:a,unselectable:a},DOMAttributeNames:{acceptCharset:"accept-charset",className:"class",htmlFor:"for",httpEquiv:"http-equiv"},DOMPropertyNames:{autoCapitalize:"autocapitalize",autoComplete:"autocomplete",autoCorrect:"autocorrect",autoFocus:"autofocus",autoPlay:"autoplay",autoSave:"autosave",encType:"encoding",hrefLang:"hreflang",radioGroup:"radiogroup",spellCheck:"spellcheck",srcDoc:"srcdoc",srcSet:"srcset"}};e.exports=h},function(e,t,n){"use strict";var r=n(129),o=n(348),i=n(355),a=n(4),s=n(377),l={};a(l,i),a(l,{findDOMNode:s("findDOMNode","ReactDOM","react-dom",r,r.findDOMNode),render:s("render","ReactDOM","react-dom",r,r.render),unmountComponentAtNode:s("unmountComponentAtNode","ReactDOM","react-dom",r,r.unmountComponentAtNode),renderToString:s("renderToString","ReactDOMServer","react-dom/server",o,o.renderToString),renderToStaticMarkup:s("renderToStaticMarkup","ReactDOMServer","react-dom/server",o,o.renderToStaticMarkup)}),l.__SECRET_DOM_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=r,l.__SECRET_DOM_SERVER_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=o,e.exports=l},function(e,t,n){(function(t){"use strict";var r=n(40),o=n(82),i=n(5),a="_getDOMNodeDidWarn",s={getDOMNode:function(){return"production"!==t.env.NODE_ENV?i(this.constructor[a],"%s.getDOMNode(...) is deprecated. Please use ReactDOM.findDOMNode(instance) instead.",r.get(this).getName()||this.tagName||"Unknown"):void 0,this.constructor[a]=!0,o(this)}};e.exports=s}).call(t,n(1))},function(e,t,n){(function(t){"use strict";function r(e,n,r){var o=void 0===e[r];"production"!==t.env.NODE_ENV&&("production"!==t.env.NODE_ENV?l(o,"flattenChildren(...): Encountered two children with the same key, `%s`. Child keys must be unique; when two children share a key, only the first child will be used.",r):void 0),null!=n&&o&&(e[r]=i(n,null))}var o=n(27),i=n(87),a=n(90),s=n(91),l=n(5),u={instantiateChildren:function(e,t,n){if(null==e)return null;var o={};return s(e,r,o),o},updateChildren:function(e,t,n,r){if(!t&&!e)return null;var s;for(s in t)if(t.hasOwnProperty(s)){var l=e&&e[s],u=l&&l._currentElement,c=t[s];if(null!=l&&a(u,c))o.receiveComponent(l,c,n,r),t[s]=l;else{l&&o.unmountComponent(l,s);var p=i(c,null);t[s]=p}}for(s in e)!e.hasOwnProperty(s)||t&&t.hasOwnProperty(s)||o.unmountComponent(e[s]);return t},unmountChildren:function(e){for(var t in e)if(e.hasOwnProperty(t)){var n=e[t];o.unmountComponent(n)}}};e.exports=u}).call(t,n(1))},function(e,t,n){(function(t){"use strict";function r(e){var t=e._currentElement._owner||null;if(t){var n=t.getName();if(n)return" Check the render method of `"+n+"`."}return""}function o(e){}var i=n(78),a=n(22),s=n(14),l=n(40),u=n(17),c=n(52),p=n(51),d=n(27),f=n(80),h=n(4),g=n(35),m=n(3),v=n(90),b=n(5);o.prototype.render=function(){var e=l.get(this)._currentElement.type;return e(this.props,this.context,this.updater)};var y=1,_={construct:function(e){this._currentElement=e,this._rootNodeID=null,this._instance=null,this._pendingElement=null,this._pendingStateQueue=null,this._pendingReplaceState=!1,this._pendingForceUpdate=!1,this._renderedComponent=null,this._context=null,this._mountOrder=0,this._topLevelWrapper=null,this._pendingCallbacks=null},mountComponent:function(e,n,r){this._context=r,this._mountOrder=y++,this._rootNodeID=e;var i,u,c=this._processProps(this._currentElement.props),p=this._processContext(r),h=this._currentElement.type,v="prototype"in h;if(v)if("production"!==t.env.NODE_ENV){a.current=this;try{i=new h(c,p,f)}finally{a.current=null}}else i=new h(c,p,f);(!v||null===i||i===!1||s.isValidElement(i))&&(u=i,i=new o(h)),"production"!==t.env.NODE_ENV&&(null==i.render?"production"!==t.env.NODE_ENV?b(!1,"%s(...): No `render` method found on the returned component instance: you may have forgotten to define `render`, returned null/false from a stateless component, or tried to render an element whose type is a function that isn't a React component.",h.displayName||h.name||"Component"):void 0:"production"!==t.env.NODE_ENV?b(h.prototype&&h.prototype.isReactComponent||!v||!(i instanceof h),"%s(...): React component classes must extend React.Component.",h.displayName||h.name||"Component"):void 0),i.props=c,i.context=p,i.refs=g,i.updater=f,this._instance=i,l.set(i,this),"production"!==t.env.NODE_ENV&&("production"!==t.env.NODE_ENV?b(!i.getInitialState||i.getInitialState.isReactClassApproved,"getInitialState was defined on %s, a plain JavaScript class. This is only supported for classes created using React.createClass. Did you mean to define a state property instead?",this.getName()||"a component"):void 0,"production"!==t.env.NODE_ENV?b(!i.getDefaultProps||i.getDefaultProps.isReactClassApproved,"getDefaultProps was defined on %s, a plain JavaScript class. This is only supported for classes created using React.createClass. Use a static property to define defaultProps instead.",this.getName()||"a component"):void 0,
"production"!==t.env.NODE_ENV?b(!i.propTypes,"propTypes was defined as an instance property on %s. Use a static property to define propTypes instead.",this.getName()||"a component"):void 0,"production"!==t.env.NODE_ENV?b(!i.contextTypes,"contextTypes was defined as an instance property on %s. Use a static property to define contextTypes instead.",this.getName()||"a component"):void 0,"production"!==t.env.NODE_ENV?b("function"!=typeof i.componentShouldUpdate,"%s has a method called componentShouldUpdate(). Did you mean shouldComponentUpdate()? The name is phrased as a question because the function is expected to return a value.",this.getName()||"A component"):void 0,"production"!==t.env.NODE_ENV?b("function"!=typeof i.componentDidUnmount,"%s has a method called componentDidUnmount(). But there is no such lifecycle method. Did you mean componentWillUnmount()?",this.getName()||"A component"):void 0,"production"!==t.env.NODE_ENV?b("function"!=typeof i.componentWillRecieveProps,"%s has a method called componentWillRecieveProps(). Did you mean componentWillReceiveProps()?",this.getName()||"A component"):void 0);var _=i.state;void 0===_&&(i.state=_=null),"object"!=typeof _||Array.isArray(_)?"production"!==t.env.NODE_ENV?m(!1,"%s.state: must be set to an object or null",this.getName()||"ReactCompositeComponent"):m(!1):void 0,this._pendingStateQueue=null,this._pendingReplaceState=!1,this._pendingForceUpdate=!1,i.componentWillMount&&(i.componentWillMount(),this._pendingStateQueue&&(i.state=this._processPendingState(i.props,i.context))),void 0===u&&(u=this._renderValidatedComponent()),this._renderedComponent=this._instantiateReactComponent(u);var x=d.mountComponent(this._renderedComponent,e,n,this._processChildContext(r));return i.componentDidMount&&n.getReactMountReady().enqueue(i.componentDidMount,i),x},unmountComponent:function(){var e=this._instance;e.componentWillUnmount&&e.componentWillUnmount(),d.unmountComponent(this._renderedComponent),this._renderedComponent=null,this._instance=null,this._pendingStateQueue=null,this._pendingReplaceState=!1,this._pendingForceUpdate=!1,this._pendingCallbacks=null,this._pendingElement=null,this._context=null,this._rootNodeID=null,this._topLevelWrapper=null,l.remove(e)},_maskContext:function(e){var t=null,n=this._currentElement.type,r=n.contextTypes;if(!r)return g;t={};for(var o in r)t[o]=e[o];return t},_processContext:function(e){var n=this._maskContext(e);if("production"!==t.env.NODE_ENV){var r=this._currentElement.type;r.contextTypes&&this._checkPropTypes(r.contextTypes,n,c.context)}return n},_processChildContext:function(e){var n=this._currentElement.type,r=this._instance,o=r.getChildContext&&r.getChildContext();if(o){"object"!=typeof n.childContextTypes?"production"!==t.env.NODE_ENV?m(!1,"%s.getChildContext(): childContextTypes must be defined in order to use getChildContext().",this.getName()||"ReactCompositeComponent"):m(!1):void 0,"production"!==t.env.NODE_ENV&&this._checkPropTypes(n.childContextTypes,o,c.childContext);for(var i in o)i in n.childContextTypes?void 0:"production"!==t.env.NODE_ENV?m(!1,'%s.getChildContext(): key "%s" is not defined in childContextTypes.',this.getName()||"ReactCompositeComponent",i):m(!1);return h({},e,o)}return e},_processProps:function(e){if("production"!==t.env.NODE_ENV){var n=this._currentElement.type;n.propTypes&&this._checkPropTypes(n.propTypes,e,c.prop)}return e},_checkPropTypes:function(e,n,o){var i=this.getName();for(var a in e)if(e.hasOwnProperty(a)){var s;try{"function"!=typeof e[a]?"production"!==t.env.NODE_ENV?m(!1,"%s: %s type `%s` is invalid; it must be a function, usually from React.PropTypes.",i||"React class",p[o],a):m(!1):void 0,s=e[a](n,a,i,o)}catch(l){s=l}if(s instanceof Error){var u=r(this);o===c.prop?"production"!==t.env.NODE_ENV?b(!1,"Failed Composite propType: %s%s",s.message,u):void 0:"production"!==t.env.NODE_ENV?b(!1,"Failed Context Types: %s%s",s.message,u):void 0}}},receiveComponent:function(e,t,n){var r=this._currentElement,o=this._context;this._pendingElement=null,this.updateComponent(t,r,e,o,n)},performUpdateIfNecessary:function(e){null!=this._pendingElement&&d.receiveComponent(this,this._pendingElement||this._currentElement,e,this._context),(null!==this._pendingStateQueue||this._pendingForceUpdate)&&this.updateComponent(e,this._currentElement,this._currentElement,this._context,this._context)},updateComponent:function(e,n,r,o,i){var a,s=this._instance,l=this._context===i?s.context:this._processContext(i);n===r?a=r.props:(a=this._processProps(r.props),s.componentWillReceiveProps&&s.componentWillReceiveProps(a,l));var u=this._processPendingState(a,l),c=this._pendingForceUpdate||!s.shouldComponentUpdate||s.shouldComponentUpdate(a,u,l);"production"!==t.env.NODE_ENV&&("production"!==t.env.NODE_ENV?b("undefined"!=typeof c,"%s.shouldComponentUpdate(): Returned undefined instead of a boolean value. Make sure to return true or false.",this.getName()||"ReactCompositeComponent"):void 0),c?(this._pendingForceUpdate=!1,this._performComponentUpdate(r,a,u,l,e,i)):(this._currentElement=r,this._context=i,s.props=a,s.state=u,s.context=l)},_processPendingState:function(e,t){var n=this._instance,r=this._pendingStateQueue,o=this._pendingReplaceState;if(this._pendingReplaceState=!1,this._pendingStateQueue=null,!r)return n.state;if(o&&1===r.length)return r[0];for(var i=h({},o?r[0]:n.state),a=o?1:0;a<r.length;a++){var s=r[a];h(i,"function"==typeof s?s.call(n,i,e,t):s)}return i},_performComponentUpdate:function(e,t,n,r,o,i){var a,s,l,u=this._instance,c=Boolean(u.componentDidUpdate);c&&(a=u.props,s=u.state,l=u.context),u.componentWillUpdate&&u.componentWillUpdate(t,n,r),this._currentElement=e,this._context=i,u.props=t,u.state=n,u.context=r,this._updateRenderedComponent(o,i),c&&o.getReactMountReady().enqueue(u.componentDidUpdate.bind(u,a,s,l),u)},_updateRenderedComponent:function(e,t){var n=this._renderedComponent,r=n._currentElement,o=this._renderValidatedComponent();if(v(r,o))d.receiveComponent(n,o,e,this._processChildContext(t));else{var i=this._rootNodeID,a=n._rootNodeID;d.unmountComponent(n),this._renderedComponent=this._instantiateReactComponent(o);var s=d.mountComponent(this._renderedComponent,i,e,this._processChildContext(t));this._replaceNodeWithMarkupByID(a,s)}},_replaceNodeWithMarkupByID:function(e,t){i.replaceNodeWithMarkupByID(e,t)},_renderValidatedComponentWithoutOwnerOrContext:function(){var e=this._instance,n=e.render();return"production"!==t.env.NODE_ENV&&"undefined"==typeof n&&e.render._isMockFunction&&(n=null),n},_renderValidatedComponent:function(){var e;a.current=this;try{e=this._renderValidatedComponentWithoutOwnerOrContext()}finally{a.current=null}return null===e||e===!1||s.isValidElement(e)?void 0:"production"!==t.env.NODE_ENV?m(!1,"%s.render(): A valid ReactComponent must be returned. You may have returned undefined, an array or some other invalid object.",this.getName()||"ReactCompositeComponent"):m(!1),e},attachRef:function(e,n){var r=this.getPublicInstance();null==r?"production"!==t.env.NODE_ENV?m(!1,"Stateless function components cannot have refs."):m(!1):void 0;var o=n.getPublicInstance();if("production"!==t.env.NODE_ENV){var i=n&&n.getName?n.getName():"a component";"production"!==t.env.NODE_ENV?b(null!=o,'Stateless function components cannot be given refs (See ref "%s" in %s created by %s). Attempts to access this ref will fail.',e,i,this.getName()):void 0}var a=r.refs===g?r.refs={}:r.refs;a[e]=o},detachRef:function(e){var t=this.getPublicInstance().refs;delete t[e]},getName:function(){var e=this._currentElement.type,t=this._instance&&this._instance.constructor;return e.displayName||t&&t.displayName||e.name||t&&t.name||null},getPublicInstance:function(){var e=this._instance;return e instanceof o?null:e},_instantiateReactComponent:null};u.measureMethods(_,"ReactCompositeComponent",{mountComponent:"mountComponent",updateComponent:"updateComponent",_renderValidatedComponent:"_renderValidatedComponent"});var x={Mixin:_};e.exports=x}).call(t,n(1))},function(e,t){"use strict";var n={onClick:!0,onDoubleClick:!0,onMouseDown:!0,onMouseMove:!0,onMouseUp:!0,onClickCapture:!0,onDoubleClickCapture:!0,onMouseDownCapture:!0,onMouseMoveCapture:!0,onMouseUpCapture:!0},r={getNativeProps:function(e,t,r){if(!t.disabled)return t;var o={};for(var i in t)t.hasOwnProperty(i)&&!n[i]&&(o[i]=t[i]);return o}};e.exports=r},function(e,t,n){(function(t){"use strict";function r(e){if(e){var t=e._currentElement._owner||null;if(t){var n=t.getName();if(n)return" This DOM node was rendered by `"+n+"`."}}return""}function o(){if("production"!==t.env.NODE_ENV){var e=this._reactInternalComponent;"production"!==t.env.NODE_ENV?G(!1,"ReactDOMComponent: Do not access .getDOMNode() of a DOM node; instead, use the node directly.%s",r(e)):void 0}return this}function i(){var e=this._reactInternalComponent;return"production"!==t.env.NODE_ENV&&("production"!==t.env.NODE_ENV?G(!1,"ReactDOMComponent: Do not access .isMounted() of a DOM node.%s",r(e)):void 0),!!e}function a(){if("production"!==t.env.NODE_ENV){var e=this._reactInternalComponent;"production"!==t.env.NODE_ENV?G(!1,"ReactDOMComponent: Do not access .setState(), .replaceState(), or .forceUpdate() of a DOM node. This is a no-op.%s",r(e)):void 0}}function s(e,n){var o=this._reactInternalComponent;"production"!==t.env.NODE_ENV&&("production"!==t.env.NODE_ENV?G(!1,"ReactDOMComponent: Do not access .setProps() of a DOM node. Instead, call ReactDOM.render again at the top level.%s",r(o)):void 0),o&&(L.enqueueSetPropsInternal(o,e),n&&L.enqueueCallbackInternal(o,n))}function l(e,n){var o=this._reactInternalComponent;"production"!==t.env.NODE_ENV&&("production"!==t.env.NODE_ENV?G(!1,"ReactDOMComponent: Do not access .replaceProps() of a DOM node. Instead, call ReactDOM.render again at the top level.%s",r(o)):void 0),o&&(L.enqueueReplacePropsInternal(o,e),n&&L.enqueueCallbackInternal(o,n))}function u(e){if("object"==typeof e){if(Array.isArray(e))return"["+e.map(u).join(", ")+"]";var t=[];for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=/^[a-z$_][\w$_]*$/i.test(n)?n:JSON.stringify(n);t.push(r+": "+u(e[n]))}return"{"+t.join(", ")+"}"}return"string"==typeof e?JSON.stringify(e):"function"==typeof e?"[function object]":String(e)}function c(e,n,r){if(null!=e&&null!=n&&!Y(e,n)){var o,i=r._tag,a=r._currentElement._owner;a&&(o=a.getName());var s=o+"|"+i;re.hasOwnProperty(s)||(re[s]=!0,"production"!==t.env.NODE_ENV?G(!1,"`%s` was passed a style object that has previously been mutated. Mutating `style` is deprecated. Consider cloning it beforehand. Check the `render` %s. Previous style: %s. Mutated style: %s.",i,a?"of `"+o+"`":"using <"+i+">",u(e),u(n)):void 0)}}function p(e,n){n&&("production"!==t.env.NODE_ENV&&se[e._tag]&&("production"!==t.env.NODE_ENV?G(null==n.children&&null==n.dangerouslySetInnerHTML,"%s is a void element tag and must not have `children` or use `props.dangerouslySetInnerHTML`.%s",e._tag,e._currentElement._owner?" Check the render method of "+e._currentElement._owner.getName()+".":""):void 0),null!=n.dangerouslySetInnerHTML&&(null!=n.children?"production"!==t.env.NODE_ENV?j(!1,"Can only set one of `children` or `props.dangerouslySetInnerHTML`."):j(!1):void 0,"object"==typeof n.dangerouslySetInnerHTML&&te in n.dangerouslySetInnerHTML?void 0:"production"!==t.env.NODE_ENV?j(!1,"`props.dangerouslySetInnerHTML` must be in the form `{__html: ...}`. Please visit https://fb.me/react-invariant-dangerously-set-inner-html for more information."):j(!1)),"production"!==t.env.NODE_ENV&&("production"!==t.env.NODE_ENV?G(null==n.innerHTML,"Directly setting property `innerHTML` is not permitted. For more information, lookup documentation on `dangerouslySetInnerHTML`."):void 0,"production"!==t.env.NODE_ENV?G(!n.contentEditable||null==n.children,"A component is `contentEditable` and contains `children` managed by React. It is now your responsibility to guarantee that none of those nodes are unexpectedly modified or duplicated. This is probably not intentional."):void 0),null!=n.style&&"object"!=typeof n.style?"production"!==t.env.NODE_ENV?j(!1,"The `style` prop expects a mapping from style properties to values, not a string. For example, style={{marginRight: spacing + 'em'}} when using JSX.%s",r(e)):j(!1):void 0)}function d(e,n,r,o){"production"!==t.env.NODE_ENV&&("production"!==t.env.NODE_ENV?G("onScroll"!==n||W("scroll",!0),"This browser doesn't support the `onScroll` event"):void 0);var i=A.findReactContainerForID(e);if(i){var a=i.nodeType===ne?i.ownerDocument:i;Z(n,a)}o.getReactMountReady().enqueue(f,{id:e,registrationName:n,listener:r})}function f(){var e=this;M.putListener(e.id,e.registrationName,e.listener)}function h(){var e=this;e._rootNodeID?void 0:"production"!==t.env.NODE_ENV?j(!1,"Must be mounted to trap events"):j(!1);var n=A.getNode(e._rootNodeID);switch(n?void 0:"production"!==t.env.NODE_ENV?j(!1,"trapBubbledEvent(...): Requires node to be rendered."):j(!1),e._tag){case"iframe":e._wrapperState.listeners=[M.trapBubbledEvent(T.topLevelTypes.topLoad,"load",n)];break;case"video":case"audio":e._wrapperState.listeners=[];for(var r in oe)oe.hasOwnProperty(r)&&e._wrapperState.listeners.push(M.trapBubbledEvent(T.topLevelTypes[r],oe[r],n));break;case"img":e._wrapperState.listeners=[M.trapBubbledEvent(T.topLevelTypes.topError,"error",n),M.trapBubbledEvent(T.topLevelTypes.topLoad,"load",n)];break;case"form":e._wrapperState.listeners=[M.trapBubbledEvent(T.topLevelTypes.topReset,"reset",n),M.trapBubbledEvent(T.topLevelTypes.topSubmit,"submit",n)]}}function g(){P.mountReadyWrapper(this)}function m(){S.postUpdateWrapper(this)}function v(e){ce.call(ue,e)||(le.test(e)?void 0:"production"!==t.env.NODE_ENV?j(!1,"Invalid tag: %s",e):j(!1),ue[e]=!0)}function b(e,t){e=U({},e);var n=e[H.ancestorInfoContextKey];return e[H.ancestorInfoContextKey]=H.updatedAncestorInfo(n,t._tag,t),e}function y(e,t){return e.indexOf("-")>=0||null!=t.is}function _(e){v(e),this._tag=e.toLowerCase(),this._renderedChildren=null,this._previousStyle=null,this._previousStyleCopy=null,this._rootNodeID=null,this._wrapperState=null,this._topLevelWrapper=null,this._nodeWithLegacyProperties=null,"production"!==t.env.NODE_ENV&&(this._unprocessedContextDev=null,this._processedContextDev=null)}var x,E=n(327),C=n(329),w=n(26),D=n(75),T=n(21),M=n(50),k=n(77),N=n(342),P=n(345),R=n(346),S=n(131),O=n(349),A=n(10),I=n(356),F=n(17),L=n(80),U=n(4),V=n(55),B=n(56),j=n(3),W=n(88),z=n(24),q=n(57),X=n(89),Y=n(112),H=n(92),G=n(5),Q=M.deleteListener,Z=M.listenTo,K=M.registrationNameModules,J={string:!0,number:!0},$=z({children:null}),ee=z({style:null}),te=z({__html:null}),ne=1;"production"!==t.env.NODE_ENV&&(x={props:{enumerable:!1,get:function(){var e=this._reactInternalComponent;return"production"!==t.env.NODE_ENV?G(!1,"ReactDOMComponent: Do not access .props of a DOM node; instead, recreate the props as `render` did originally or read the DOM properties/attributes directly from this node (e.g., this.refs.box.className).%s",r(e)):void 0,e._currentElement.props}}});var re={},oe={topAbort:"abort",topCanPlay:"canplay",topCanPlayThrough:"canplaythrough",topDurationChange:"durationchange",topEmptied:"emptied",topEncrypted:"encrypted",topEnded:"ended",topError:"error",topLoadedData:"loadeddata",topLoadedMetadata:"loadedmetadata",topLoadStart:"loadstart",topPause:"pause",topPlay:"play",topPlaying:"playing",topProgress:"progress",topRateChange:"ratechange",topSeeked:"seeked",topSeeking:"seeking",topStalled:"stalled",topSuspend:"suspend",topTimeUpdate:"timeupdate",topVolumeChange:"volumechange",topWaiting:"waiting"},ie={area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0},ae={listing:!0,pre:!0,textarea:!0},se=U({menuitem:!0},ie),le=/^[a-zA-Z][a-zA-Z:_\.\-\d]*$/,ue={},ce={}.hasOwnProperty;_.displayName="ReactDOMComponent",_.Mixin={construct:function(e){this._currentElement=e},mountComponent:function(e,n,r){this._rootNodeID=e;var o=this._currentElement.props;switch(this._tag){case"iframe":case"img":case"form":case"video":case"audio":this._wrapperState={listeners:null},n.getReactMountReady().enqueue(h,this);break;case"button":o=N.getNativeProps(this,o,r);break;case"input":P.mountWrapper(this,o,r),o=P.getNativeProps(this,o,r);break;case"option":R.mountWrapper(this,o,r),o=R.getNativeProps(this,o,r);break;case"select":S.mountWrapper(this,o,r),o=S.getNativeProps(this,o,r),r=S.processChildContext(this,o,r);break;case"textarea":O.mountWrapper(this,o,r),o=O.getNativeProps(this,o,r)}p(this,o),"production"!==t.env.NODE_ENV&&r[H.ancestorInfoContextKey]&&H(this._tag,this,r[H.ancestorInfoContextKey]),"production"!==t.env.NODE_ENV&&(this._unprocessedContextDev=r,this._processedContextDev=b(r,this),r=this._processedContextDev);var i;if(n.useCreateElement){var a=r[A.ownerDocumentContextKey],s=a.createElement(this._currentElement.type);D.setAttributeForID(s,this._rootNodeID),A.getID(s),this._updateDOMProperties({},o,n,s),this._createInitialChildren(n,o,r,s),i=s}else{var l=this._createOpenTagMarkupAndPutListeners(n,o),u=this._createContentMarkup(n,o,r);i=!u&&ie[this._tag]?l+"/>":l+">"+u+"</"+this._currentElement.type+">"}switch(this._tag){case"input":n.getReactMountReady().enqueue(g,this);case"button":case"select":case"textarea":o.autoFocus&&n.getReactMountReady().enqueue(E.focusDOMComponent,this)}return i},_createOpenTagMarkupAndPutListeners:function(e,n){var r="<"+this._currentElement.type;for(var o in n)if(n.hasOwnProperty(o)){var i=n[o];if(null!=i)if(K.hasOwnProperty(o))i&&d(this._rootNodeID,o,i,e);else{o===ee&&(i&&("production"!==t.env.NODE_ENV&&(this._previousStyle=i),i=this._previousStyleCopy=U({},n.style)),i=C.createMarkupForStyles(i));var a=null;null!=this._tag&&y(this._tag,n)?o!==$&&(a=D.createMarkupForCustomAttribute(o,i)):a=D.createMarkupForProperty(o,i),a&&(r+=" "+a)}}if(e.renderToStaticMarkup)return r;var s=D.createMarkupForID(this._rootNodeID);return r+" "+s},_createContentMarkup:function(e,t,n){var r="",o=t.dangerouslySetInnerHTML;if(null!=o)null!=o.__html&&(r=o.__html);else{var i=J[typeof t.children]?t.children:null,a=null!=i?null:t.children;if(null!=i)r=B(i);else if(null!=a){var s=this.mountChildren(a,e,n);r=s.join("")}}return ae[this._tag]&&"\n"===r.charAt(0)?"\n"+r:r},_createInitialChildren:function(e,t,n,r){var o=t.dangerouslySetInnerHTML;if(null!=o)null!=o.__html&&q(r,o.__html);else{var i=J[typeof t.children]?t.children:null,a=null!=i?null:t.children;if(null!=i)X(r,i);else if(null!=a)for(var s=this.mountChildren(a,e,n),l=0;l<s.length;l++)r.appendChild(s[l])}},receiveComponent:function(e,t,n){var r=this._currentElement;this._currentElement=e,this.updateComponent(t,r,e,n)},updateComponent:function(e,n,r,o){var i=n.props,a=this._currentElement.props;switch(this._tag){case"button":i=N.getNativeProps(this,i),a=N.getNativeProps(this,a);break;case"input":P.updateWrapper(this),i=P.getNativeProps(this,i),a=P.getNativeProps(this,a);break;case"option":i=R.getNativeProps(this,i),a=R.getNativeProps(this,a);break;case"select":i=S.getNativeProps(this,i),a=S.getNativeProps(this,a);break;case"textarea":O.updateWrapper(this),i=O.getNativeProps(this,i),a=O.getNativeProps(this,a)}"production"!==t.env.NODE_ENV&&(this._unprocessedContextDev!==o&&(this._unprocessedContextDev=o,this._processedContextDev=b(o,this)),o=this._processedContextDev),p(this,a),this._updateDOMProperties(i,a,e,null),this._updateDOMChildren(i,a,e,o),!V&&this._nodeWithLegacyProperties&&(this._nodeWithLegacyProperties.props=a),"select"===this._tag&&e.getReactMountReady().enqueue(m,this)},_updateDOMProperties:function(e,n,r,o){var i,a,s;for(i in e)if(!n.hasOwnProperty(i)&&e.hasOwnProperty(i))if(i===ee){var l=this._previousStyleCopy;for(a in l)l.hasOwnProperty(a)&&(s=s||{},s[a]="");this._previousStyleCopy=null}else K.hasOwnProperty(i)?e[i]&&Q(this._rootNodeID,i):(w.properties[i]||w.isCustomAttribute(i))&&(o||(o=A.getNode(this._rootNodeID)),D.deleteValueForProperty(o,i));for(i in n){var u=n[i],p=i===ee?this._previousStyleCopy:e[i];if(n.hasOwnProperty(i)&&u!==p)if(i===ee)if(u?("production"!==t.env.NODE_ENV&&(c(this._previousStyleCopy,this._previousStyle,this),this._previousStyle=u),u=this._previousStyleCopy=U({},u)):this._previousStyleCopy=null,p){for(a in p)!p.hasOwnProperty(a)||u&&u.hasOwnProperty(a)||(s=s||{},s[a]="");for(a in u)u.hasOwnProperty(a)&&p[a]!==u[a]&&(s=s||{},s[a]=u[a])}else s=u;else K.hasOwnProperty(i)?u?d(this._rootNodeID,i,u,r):p&&Q(this._rootNodeID,i):y(this._tag,n)?(o||(o=A.getNode(this._rootNodeID)),i===$&&(u=null),D.setValueForAttribute(o,i,u)):(w.properties[i]||w.isCustomAttribute(i))&&(o||(o=A.getNode(this._rootNodeID)),null!=u?D.setValueForProperty(o,i,u):D.deleteValueForProperty(o,i))}s&&(o||(o=A.getNode(this._rootNodeID)),C.setValueForStyles(o,s))},_updateDOMChildren:function(e,t,n,r){var o=J[typeof e.children]?e.children:null,i=J[typeof t.children]?t.children:null,a=e.dangerouslySetInnerHTML&&e.dangerouslySetInnerHTML.__html,s=t.dangerouslySetInnerHTML&&t.dangerouslySetInnerHTML.__html,l=null!=o?null:e.children,u=null!=i?null:t.children,c=null!=o||null!=a,p=null!=i||null!=s;null!=l&&null==u?this.updateChildren(null,n,r):c&&!p&&this.updateTextContent(""),null!=i?o!==i&&this.updateTextContent(""+i):null!=s?a!==s&&this.updateMarkup(""+s):null!=u&&this.updateChildren(u,n,r)},unmountComponent:function(){switch(this._tag){case"iframe":case"img":case"form":case"video":case"audio":var e=this._wrapperState.listeners;if(e)for(var n=0;n<e.length;n++)e[n].remove();break;case"input":P.unmountWrapper(this);break;case"html":case"head":case"body":"production"!==t.env.NODE_ENV?j(!1,"<%s> tried to unmount. Because of cross-browser quirks it is impossible to unmount some top-level components (eg <html>, <head>, and <body>) reliably and efficiently. To fix this, have a single top-level component that never unmounts render these elements.",this._tag):j(!1)}if(this.unmountChildren(),M.deleteAllListeners(this._rootNodeID),k.unmountIDFromEnvironment(this._rootNodeID),this._rootNodeID=null,this._wrapperState=null,this._nodeWithLegacyProperties){var r=this._nodeWithLegacyProperties;r._reactInternalComponent=null,this._nodeWithLegacyProperties=null}},getPublicInstance:function(){if(!this._nodeWithLegacyProperties){var e=A.getNode(this._rootNodeID);e._reactInternalComponent=this,e.getDOMNode=o,e.isMounted=i,e.setState=a,e.replaceState=a,e.forceUpdate=a,e.setProps=s,e.replaceProps=l,"production"!==t.env.NODE_ENV&&V?Object.defineProperties(e,x):e.props=this._currentElement.props,this._nodeWithLegacyProperties=e}return this._nodeWithLegacyProperties}},F.measureMethods(_,"ReactDOMComponent",{mountComponent:"mountComponent",updateComponent:"updateComponent"}),U(_.prototype,_.Mixin,I.Mixin),e.exports=_}).call(t,n(1))},function(e,t,n){(function(t){"use strict";function r(e){return"production"!==t.env.NODE_ENV?i.createFactory(e):o.createFactory(e)}var o=n(14),i=n(135),a=n(289),s=a({a:"a",abbr:"abbr",address:"address",area:"area",article:"article",aside:"aside",audio:"audio",b:"b",base:"base",bdi:"bdi",bdo:"bdo",big:"big",blockquote:"blockquote",body:"body",br:"br",button:"button",canvas:"canvas",caption:"caption",cite:"cite",code:"code",col:"col",colgroup:"colgroup",data:"data",datalist:"datalist",dd:"dd",del:"del",details:"details",dfn:"dfn",dialog:"dialog",div:"div",dl:"dl",dt:"dt",em:"em",embed:"embed",fieldset:"fieldset",figcaption:"figcaption",figure:"figure",footer:"footer",form:"form",h1:"h1",h2:"h2",h3:"h3",h4:"h4",h5:"h5",h6:"h6",head:"head",header:"header",hgroup:"hgroup",hr:"hr",html:"html",i:"i",iframe:"iframe",img:"img",input:"input",ins:"ins",kbd:"kbd",keygen:"keygen",label:"label",legend:"legend",li:"li",link:"link",main:"main",map:"map",mark:"mark",menu:"menu",menuitem:"menuitem",meta:"meta",meter:"meter",nav:"nav",noscript:"noscript",object:"object",ol:"ol",optgroup:"optgroup",option:"option",output:"output",p:"p",param:"param",picture:"picture",pre:"pre",progress:"progress",q:"q",rp:"rp",rt:"rt",ruby:"ruby",s:"s",samp:"samp",script:"script",section:"section",select:"select",small:"small",source:"source",span:"span",strong:"strong",style:"style",sub:"sub",summary:"summary",sup:"sup",table:"table",tbody:"tbody",td:"td",textarea:"textarea",tfoot:"tfoot",th:"th",thead:"thead",time:"time",title:"title",tr:"tr",track:"track",u:"u",ul:"ul","var":"var",video:"video",wbr:"wbr",circle:"circle",clipPath:"clipPath",defs:"defs",ellipse:"ellipse",g:"g",image:"image",line:"line",linearGradient:"linearGradient",mask:"mask",path:"path",pattern:"pattern",polygon:"polygon",polyline:"polyline",radialGradient:"radialGradient",rect:"rect",stop:"stop",svg:"svg",text:"text",tspan:"tspan"},r);e.exports=s}).call(t,n(1))},function(e,t,n){(function(t){"use strict";function r(){this._rootNodeID&&d.updateWrapper(this)}function o(e){var n=this._currentElement.props,o=a.executeOnChange(n,e);l.asap(r,this);var i=n.name;if("radio"===n.type&&null!=i){for(var u=s.getNode(this._rootNodeID),d=u;d.parentNode;)d=d.parentNode;for(var f=d.querySelectorAll("input[name="+JSON.stringify(""+i)+'][type="radio"]'),h=0;h<f.length;h++){var g=f[h];if(g!==u&&g.form===u.form){var m=s.getID(g);m?void 0:"production"!==t.env.NODE_ENV?c(!1,"ReactDOMInput: Mixing React and non-React radio inputs with the same `name` is not supported."):c(!1);var v=p[m];v?void 0:"production"!==t.env.NODE_ENV?c(!1,"ReactDOMInput: Unknown radio button ID %s.",m):c(!1),l.asap(r,v)}}}return o}var i=n(79),a=n(76),s=n(10),l=n(18),u=n(4),c=n(3),p={},d={getNativeProps:function(e,t,n){var r=a.getValue(t),o=a.getChecked(t),i=u({},t,{defaultChecked:void 0,defaultValue:void 0,value:null!=r?r:e._wrapperState.initialValue,checked:null!=o?o:e._wrapperState.initialChecked,onChange:e._wrapperState.onChange});return i},mountWrapper:function(e,n){"production"!==t.env.NODE_ENV&&a.checkPropTypes("input",n,e._currentElement._owner);var r=n.defaultValue;e._wrapperState={initialChecked:n.defaultChecked||!1,initialValue:null!=r?r:null,onChange:o.bind(e)}},mountReadyWrapper:function(e){p[e._rootNodeID]=e},unmountWrapper:function(e){delete p[e._rootNodeID]},updateWrapper:function(e){var t=e._currentElement.props,n=t.checked;null!=n&&i.updatePropertyByID(e._rootNodeID,"checked",n||!1);var r=a.getValue(t);null!=r&&i.updatePropertyByID(e._rootNodeID,"value",""+r)}};e.exports=d}).call(t,n(1))},function(e,t,n){(function(t){"use strict";var r=n(126),o=n(131),i=n(4),a=n(5),s=o.valueContextKey,l={mountWrapper:function(e,n,r){"production"!==t.env.NODE_ENV&&("production"!==t.env.NODE_ENV?a(null==n.selected,"Use the `defaultValue` or `value` props on <select> instead of setting `selected` on <option>."):void 0);var o=r[s],i=null;if(null!=o)if(i=!1,Array.isArray(o)){for(var l=0;l<o.length;l++)if(""+o[l]==""+n.value){i=!0;break}}else i=""+o==""+n.value;e._wrapperState={selected:i}},getNativeProps:function(e,n,o){var s=i({selected:void 0,children:void 0},n);null!=e._wrapperState.selected&&(s.selected=e._wrapperState.selected);var l="";return r.forEach(n.children,function(e){null!=e&&("string"==typeof e||"number"==typeof e?l+=e:"production"!==t.env.NODE_ENV?a(!1,"Only strings and numbers are supported as <option> children."):void 0)}),s.children=l,s}};e.exports=l}).call(t,n(1))},function(e,t,n){"use strict";function r(e,t,n,r){return e===n&&t===r}function o(e){var t=document.selection,n=t.createRange(),r=n.text.length,o=n.duplicate();o.moveToElementText(e),o.setEndPoint("EndToStart",n);var i=o.text.length,a=i+r;return{start:i,end:a}}function i(e){var t=window.getSelection&&window.getSelection();if(!t||0===t.rangeCount)return null;var n=t.anchorNode,o=t.anchorOffset,i=t.focusNode,a=t.focusOffset,s=t.getRangeAt(0);try{s.startContainer.nodeType,s.endContainer.nodeType}catch(l){return null}var u=r(t.anchorNode,t.anchorOffset,t.focusNode,t.focusOffset),c=u?0:s.toString().length,p=s.cloneRange();p.selectNodeContents(e),p.setEnd(s.startContainer,s.startOffset);var d=r(p.startContainer,p.startOffset,p.endContainer,p.endOffset),f=d?0:p.toString().length,h=f+c,g=document.createRange();g.setStart(n,o),g.setEnd(i,a);var m=g.collapsed;return{start:m?h:f,end:m?f:h}}function a(e,t){var n,r,o=document.selection.createRange().duplicate();"undefined"==typeof t.end?(n=t.start,r=n):t.start>t.end?(n=t.end,r=t.start):(n=t.start,r=t.end),o.moveToElementText(e),o.moveStart("character",n),o.setEndPoint("EndToStart",o),o.moveEnd("character",r-n),o.select()}function s(e,t){if(window.getSelection){var n=window.getSelection(),r=e[c()].length,o=Math.min(t.start,r),i="undefined"==typeof t.end?o:Math.min(t.end,r);if(!n.extend&&o>i){var a=i;i=o,o=a}var s=u(e,o),l=u(e,i);if(s&&l){var p=document.createRange();p.setStart(s.node,s.offset),n.removeAllRanges(),o>i?(n.addRange(p),n.extend(l.node,l.offset)):(p.setEnd(l.node,l.offset),n.addRange(p))}}}var l=n(8),u=n(380),c=n(149),p=l.canUseDOM&&"selection"in document&&!("getSelection"in window),d={getOffsets:p?o:i,setOffsets:p?a:s};e.exports=d},function(e,t,n){"use strict";var r=n(134),o=n(361),i=n(81);r.inject();var a={renderToString:o.renderToString,renderToStaticMarkup:o.renderToStaticMarkup,version:i};e.exports=a},function(e,t,n){(function(t){"use strict";function r(){this._rootNodeID&&p.updateWrapper(this)}function o(e){var t=this._currentElement.props,n=i.executeOnChange(t,e);return s.asap(r,this),n}var i=n(76),a=n(79),s=n(18),l=n(4),u=n(3),c=n(5),p={getNativeProps:function(e,n,r){null!=n.dangerouslySetInnerHTML?"production"!==t.env.NODE_ENV?u(!1,"`dangerouslySetInnerHTML` does not make sense on <textarea>."):u(!1):void 0;var o=l({},n,{defaultValue:void 0,value:void 0,children:e._wrapperState.initialValue,onChange:e._wrapperState.onChange});return o},mountWrapper:function(e,n){"production"!==t.env.NODE_ENV&&i.checkPropTypes("textarea",n,e._currentElement._owner);var r=n.defaultValue,a=n.children;null!=a&&("production"!==t.env.NODE_ENV&&("production"!==t.env.NODE_ENV?c(!1,"Use the `defaultValue` or `value` props instead of setting children on <textarea>."):void 0),null!=r?"production"!==t.env.NODE_ENV?u(!1,"If you supply `defaultValue` on a <textarea>, do not pass children."):u(!1):void 0,Array.isArray(a)&&(a.length<=1?void 0:"production"!==t.env.NODE_ENV?u(!1,"<textarea> can only have at most one child."):u(!1),a=a[0]),r=""+a),null==r&&(r="");var s=i.getValue(n);e._wrapperState={initialValue:""+(null!=s?s:r),onChange:o.bind(e)}},updateWrapper:function(e){var t=e._currentElement.props,n=i.getValue(t);null!=n&&a.updatePropertyByID(e._rootNodeID,"value",""+n)}};e.exports=p}).call(t,n(1))},function(e,t,n){"use strict";function r(e){return Math.floor(100*e)/100}function o(e,t,n){e[t]=(e[t]||0)+n}var i=n(26),a=n(351),s=n(10),l=n(17),u=n(292),c={_allMeasurements:[],_mountStack:[0],_injected:!1,start:function(){c._injected||l.injection.injectMeasure(c.measure),c._allMeasurements.length=0,l.enableMeasure=!0},stop:function(){l.enableMeasure=!1},getLastMeasurements:function(){return c._allMeasurements},printExclusive:function(e){e=e||c._allMeasurements;var t=a.getExclusiveSummary(e);console.table(t.map(function(e){return{"Component class name":e.componentName,"Total inclusive time (ms)":r(e.inclusive),"Exclusive mount time (ms)":r(e.exclusive),"Exclusive render time (ms)":r(e.render),"Mount time per instance (ms)":r(e.exclusive/e.count),"Render time per instance (ms)":r(e.render/e.count),Instances:e.count}}))},printInclusive:function(e){e=e||c._allMeasurements;var t=a.getInclusiveSummary(e);console.table(t.map(function(e){return{"Owner > component":e.componentName,"Inclusive time (ms)":r(e.time),Instances:e.count}})),console.log("Total time:",a.getTotalTime(e).toFixed(2)+" ms")},getMeasurementsSummaryMap:function(e){var t=a.getInclusiveSummary(e,!0);return t.map(function(e){return{"Owner > component":e.componentName,"Wasted time (ms)":e.time,Instances:e.count}})},printWasted:function(e){e=e||c._allMeasurements,console.table(c.getMeasurementsSummaryMap(e)),console.log("Total time:",a.getTotalTime(e).toFixed(2)+" ms")},printDOM:function(e){e=e||c._allMeasurements;var t=a.getDOMSummary(e);console.table(t.map(function(e){var t={};
return t[i.ID_ATTRIBUTE_NAME]=e.id,t.type=e.type,t.args=JSON.stringify(e.args),t})),console.log("Total time:",a.getTotalTime(e).toFixed(2)+" ms")},_recordWrite:function(e,t,n,r){var o=c._allMeasurements[c._allMeasurements.length-1].writes;o[e]=o[e]||[],o[e].push({type:t,time:n,args:r})},measure:function(e,t,n){return function(){for(var r=arguments.length,i=Array(r),a=0;r>a;a++)i[a]=arguments[a];var l,p,d;if("_renderNewRootComponent"===t||"flushBatchedUpdates"===t)return c._allMeasurements.push({exclusive:{},inclusive:{},render:{},counts:{},writes:{},displayNames:{},totalTime:0,created:{}}),d=u(),p=n.apply(this,i),c._allMeasurements[c._allMeasurements.length-1].totalTime=u()-d,p;if("_mountImageIntoNode"===t||"ReactBrowserEventEmitter"===e||"ReactDOMIDOperations"===e||"CSSPropertyOperations"===e||"DOMChildrenOperations"===e||"DOMPropertyOperations"===e){if(d=u(),p=n.apply(this,i),l=u()-d,"_mountImageIntoNode"===t){var f=s.getID(i[1]);c._recordWrite(f,t,l,i[0])}else if("dangerouslyProcessChildrenUpdates"===t)i[0].forEach(function(e){var t={};null!==e.fromIndex&&(t.fromIndex=e.fromIndex),null!==e.toIndex&&(t.toIndex=e.toIndex),null!==e.textContent&&(t.textContent=e.textContent),null!==e.markupIndex&&(t.markup=i[1][e.markupIndex]),c._recordWrite(e.parentID,e.type,l,t)});else{var h=i[0];"object"==typeof h&&(h=s.getID(i[0])),c._recordWrite(h,t,l,Array.prototype.slice.call(i,1))}return p}if("ReactCompositeComponent"!==e||"mountComponent"!==t&&"updateComponent"!==t&&"_renderValidatedComponent"!==t)return n.apply(this,i);if(this._currentElement.type===s.TopLevelWrapper)return n.apply(this,i);var g="mountComponent"===t?i[0]:this._rootNodeID,m="_renderValidatedComponent"===t,v="mountComponent"===t,b=c._mountStack,y=c._allMeasurements[c._allMeasurements.length-1];if(m?o(y.counts,g,1):v&&(y.created[g]=!0,b.push(0)),d=u(),p=n.apply(this,i),l=u()-d,m)o(y.render,g,l);else if(v){var _=b.pop();b[b.length-1]+=l,o(y.exclusive,g,l-_),o(y.inclusive,g,l)}else o(y.inclusive,g,l);return y.displayNames[g]={current:this.getName(),owner:this._currentElement._owner?this._currentElement._owner.getName():"<root>"},p}}};e.exports=c},function(e,t,n){"use strict";function r(e){for(var t=0,n=0;n<e.length;n++){var r=e[n];t+=r.totalTime}return t}function o(e){var t=[];return e.forEach(function(e){Object.keys(e.writes).forEach(function(n){e.writes[n].forEach(function(e){t.push({id:n,type:c[e.type]||e.type,args:e.args})})})}),t}function i(e){for(var t,n={},r=0;r<e.length;r++){var o=e[r],i=l({},o.exclusive,o.inclusive);for(var a in i)t=o.displayNames[a].current,n[t]=n[t]||{componentName:t,inclusive:0,exclusive:0,render:0,count:0},o.render[a]&&(n[t].render+=o.render[a]),o.exclusive[a]&&(n[t].exclusive+=o.exclusive[a]),o.inclusive[a]&&(n[t].inclusive+=o.inclusive[a]),o.counts[a]&&(n[t].count+=o.counts[a])}var s=[];for(t in n)n[t].exclusive>=u&&s.push(n[t]);return s.sort(function(e,t){return t.exclusive-e.exclusive}),s}function a(e,t){for(var n,r={},o=0;o<e.length;o++){var i,a=e[o],c=l({},a.exclusive,a.inclusive);t&&(i=s(a));for(var p in c)if(!t||i[p]){var d=a.displayNames[p];n=d.owner+" > "+d.current,r[n]=r[n]||{componentName:n,time:0,count:0},a.inclusive[p]&&(r[n].time+=a.inclusive[p]),a.counts[p]&&(r[n].count+=a.counts[p])}}var f=[];for(n in r)r[n].time>=u&&f.push(r[n]);return f.sort(function(e,t){return t.time-e.time}),f}function s(e){var t={},n=Object.keys(e.writes),r=l({},e.exclusive,e.inclusive);for(var o in r){for(var i=!1,a=0;a<n.length;a++)if(0===n[a].indexOf(o)){i=!0;break}e.created[o]&&(i=!0),!i&&e.counts[o]>0&&(t[o]=!0)}return t}var l=n(4),u=1.2,c={_mountImageIntoNode:"set innerHTML",INSERT_MARKUP:"set innerHTML",MOVE_EXISTING:"move",REMOVE_NODE:"remove",SET_MARKUP:"set innerHTML",TEXT_CONTENT:"set textContent",setValueForProperty:"update attribute",setValueForAttribute:"update attribute",deleteValueForProperty:"remove attribute",dangerouslyReplaceNodeWithMarkupByID:"replace"},p={getExclusiveSummary:i,getInclusiveSummary:a,getDOMSummary:o,getTotalTime:r};e.exports=p},function(e,t,n){"use strict";function r(e){o.enqueueEvents(e),o.processEventQueue(!1)}var o=n(38),i={handleTopLevel:function(e,t,n,i,a){var s=o.extractEvents(e,t,n,i,a);r(s)}};e.exports=i},function(e,t,n){"use strict";function r(e){var t=d.getID(e),n=p.getReactRootIDFromNodeID(t),r=d.findReactContainerForID(n),o=d.getFirstReactDOM(r);return o}function o(e,t){this.topLevelType=e,this.nativeEvent=t,this.ancestors=[]}function i(e){a(e)}function a(e){for(var t=d.getFirstReactDOM(g(e.nativeEvent))||window,n=t;n;)e.ancestors.push(n),n=r(n);for(var o=0;o<e.ancestors.length;o++){t=e.ancestors[o];var i=d.getID(t)||"";v._handleTopLevel(e.topLevelType,t,i,e.nativeEvent,g(e.nativeEvent))}}function s(e){var t=m(window);e(t)}var l=n(107),u=n(8),c=n(25),p=n(29),d=n(10),f=n(18),h=n(4),g=n(85),m=n(284);h(o.prototype,{destructor:function(){this.topLevelType=null,this.nativeEvent=null,this.ancestors.length=0}}),c.addPoolingTo(o,c.twoArgumentPooler);var v={_enabled:!0,_handleTopLevel:null,WINDOW_HANDLE:u.canUseDOM?window:null,setHandleTopLevel:function(e){v._handleTopLevel=e},setEnabled:function(e){v._enabled=!!e},isEnabled:function(){return v._enabled},trapBubbledEvent:function(e,t,n){var r=n;return r?l.listen(r,t,v.dispatchEvent.bind(null,e)):null},trapCapturedEvent:function(e,t,n){var r=n;return r?l.capture(r,t,v.dispatchEvent.bind(null,e)):null},monitorScrollValue:function(e){var t=s.bind(null,e);l.listen(window,"scroll",t)},dispatchEvent:function(e,t){if(v._enabled){var n=o.getPooled(e,t);try{f.batchedUpdates(i,n)}finally{o.release(n)}}}};e.exports=v},function(e,t,n){"use strict";var r=n(26),o=n(38),i=n(78),a=n(127),s=n(136),l=n(50),u=n(142),c=n(17),p=n(145),d=n(18),f={Component:i.injection,Class:a.injection,DOMProperty:r.injection,EmptyComponent:s.injection,EventPluginHub:o.injection,EventEmitter:l.injection,NativeComponent:u.injection,Perf:c.injection,RootIndex:p.injection,Updates:d.injection};e.exports=f},function(e,t,n){(function(t){"use strict";var r=n(126),o=n(128),i=n(127),a=n(344),s=n(14),l=n(135),u=n(144),c=n(81),p=n(4),d=n(381),f=s.createElement,h=s.createFactory,g=s.cloneElement;"production"!==t.env.NODE_ENV&&(f=l.createElement,h=l.createFactory,g=l.cloneElement);var m={Children:{map:r.map,forEach:r.forEach,count:r.count,toArray:r.toArray,only:d},Component:o,createElement:f,cloneElement:g,isValidElement:s.isValidElement,PropTypes:u,createClass:i.createClass,createFactory:h,createMixin:function(e){return e},DOM:a,version:c,__spread:p};e.exports=m}).call(t,n(1))},function(e,t,n){(function(t){"use strict";function r(e,t,n){v.push({parentID:e,parentNode:null,type:p.INSERT_MARKUP,markupIndex:b.push(t)-1,content:null,fromIndex:null,toIndex:n})}function o(e,t,n){v.push({parentID:e,parentNode:null,type:p.MOVE_EXISTING,markupIndex:null,content:null,fromIndex:t,toIndex:n})}function i(e,t){v.push({parentID:e,parentNode:null,type:p.REMOVE_NODE,markupIndex:null,content:null,fromIndex:t,toIndex:null})}function a(e,t){v.push({parentID:e,parentNode:null,type:p.SET_MARKUP,markupIndex:null,content:t,fromIndex:null,toIndex:null})}function s(e,t){v.push({parentID:e,parentNode:null,type:p.TEXT_CONTENT,markupIndex:null,content:t,fromIndex:null,toIndex:null})}function l(){v.length&&(c.processChildrenUpdates(v,b),u())}function u(){v.length=0,b.length=0}var c=n(78),p=n(141),d=n(22),f=n(27),h=n(340),g=n(378),m=0,v=[],b=[],y={Mixin:{_reconcilerInstantiateChildren:function(e,n,r){if("production"!==t.env.NODE_ENV&&this._currentElement)try{return d.current=this._currentElement._owner,h.instantiateChildren(e,n,r)}finally{d.current=null}return h.instantiateChildren(e,n,r)},_reconcilerUpdateChildren:function(e,n,r,o){var i;if("production"!==t.env.NODE_ENV&&this._currentElement){try{d.current=this._currentElement._owner,i=g(n)}finally{d.current=null}return h.updateChildren(e,i,r,o)}return i=g(n),h.updateChildren(e,i,r,o)},mountChildren:function(e,t,n){var r=this._reconcilerInstantiateChildren(e,t,n);this._renderedChildren=r;var o=[],i=0;for(var a in r)if(r.hasOwnProperty(a)){var s=r[a],l=this._rootNodeID+a,u=f.mountComponent(s,l,t,n);s._mountIndex=i++,o.push(u)}return o},updateTextContent:function(e){m++;var t=!0;try{var n=this._renderedChildren;h.unmountChildren(n);for(var r in n)n.hasOwnProperty(r)&&this._unmountChild(n[r]);this.setTextContent(e),t=!1}finally{m--,m||(t?u():l())}},updateMarkup:function(e){m++;var t=!0;try{var n=this._renderedChildren;h.unmountChildren(n);for(var r in n)n.hasOwnProperty(r)&&this._unmountChildByName(n[r],r);this.setMarkup(e),t=!1}finally{m--,m||(t?u():l())}},updateChildren:function(e,t,n){m++;var r=!0;try{this._updateChildren(e,t,n),r=!1}finally{m--,m||(r?u():l())}},_updateChildren:function(e,t,n){var r=this._renderedChildren,o=this._reconcilerUpdateChildren(r,e,t,n);if(this._renderedChildren=o,o||r){var i,a=0,s=0;for(i in o)if(o.hasOwnProperty(i)){var l=r&&r[i],u=o[i];l===u?(this.moveChild(l,s,a),a=Math.max(l._mountIndex,a),l._mountIndex=s):(l&&(a=Math.max(l._mountIndex,a),this._unmountChild(l)),this._mountChildByNameAtIndex(u,i,s,t,n)),s++}for(i in r)!r.hasOwnProperty(i)||o&&o.hasOwnProperty(i)||this._unmountChild(r[i])}},unmountChildren:function(){var e=this._renderedChildren;h.unmountChildren(e),this._renderedChildren=null},moveChild:function(e,t,n){e._mountIndex<n&&o(this._rootNodeID,e._mountIndex,t)},createChild:function(e,t){r(this._rootNodeID,t,e._mountIndex)},removeChild:function(e){i(this._rootNodeID,e._mountIndex)},setTextContent:function(e){s(this._rootNodeID,e)},setMarkup:function(e){a(this._rootNodeID,e)},_mountChildByNameAtIndex:function(e,t,n,r,o){var i=this._rootNodeID+t,a=f.mountComponent(e,i,r,o);e._mountIndex=n,this.createChild(e,a)},_unmountChild:function(e){this.removeChild(e),e._mountIndex=null}}};e.exports=y}).call(t,n(1))},function(e,t,n){(function(t){"use strict";var r=n(3),o={isValidOwner:function(e){return!(!e||"function"!=typeof e.attachRef||"function"!=typeof e.detachRef)},addComponentAsRefTo:function(e,n,i){o.isValidOwner(i)?void 0:"production"!==t.env.NODE_ENV?r(!1,"addComponentAsRefTo(...): Only a ReactOwner can have refs. You might be adding a ref to a component that was not created inside a component's `render` method, or you have multiple copies of React loaded (details: https://fb.me/react-refs-must-have-owner)."):r(!1),i.attachRef(n,e)},removeComponentAsRefFrom:function(e,n,i){o.isValidOwner(i)?void 0:"production"!==t.env.NODE_ENV?r(!1,"removeComponentAsRefFrom(...): Only a ReactOwner can have refs. You might be removing a ref to a component that was not created inside a component's `render` method, or you have multiple copies of React loaded (details: https://fb.me/react-refs-must-have-owner)."):r(!1),i.getPublicInstance().refs[n]===e.getPublicInstance()&&i.detachRef(n)}};e.exports=o}).call(t,n(1))},function(e,t,n){"use strict";function r(e){this.reinitializeTransaction(),this.renderToStaticMarkup=!1,this.reactMountReady=o.getPooled(null),this.useCreateElement=!e&&s.useCreateElement}var o=n(74),i=n(25),a=n(50),s=n(130),l=n(139),u=n(54),c=n(4),p={initialize:l.getSelectionInformation,close:l.restoreSelection},d={initialize:function(){var e=a.isEnabled();return a.setEnabled(!1),e},close:function(e){a.setEnabled(e)}},f={initialize:function(){this.reactMountReady.reset()},close:function(){this.reactMountReady.notifyAll()}},h=[p,d,f],g={getTransactionWrappers:function(){return h},getReactMountReady:function(){return this.reactMountReady},destructor:function(){o.release(this.reactMountReady),this.reactMountReady=null}};c(r.prototype,u.Mixin,g),i.addPoolingTo(r),e.exports=r},function(e,t,n){"use strict";function r(e,t,n){"function"==typeof e?e(t.getPublicInstance()):i.addComponentAsRefTo(t,e,n)}function o(e,t,n){"function"==typeof e?e(null):i.removeComponentAsRefFrom(t,e,n)}var i=n(357),a={};a.attachRefs=function(e,t){if(null!==t&&t!==!1){var n=t.ref;null!=n&&r(n,e,t._owner)}},a.shouldUpdateRefs=function(e,t){var n=null===e||e===!1,r=null===t||t===!1;return n||r||t._owner!==e._owner||t.ref!==e.ref},a.detachRefs=function(e,t){if(null!==t&&t!==!1){var n=t.ref;null!=n&&o(n,e,t._owner)}},e.exports=a},function(e,t){"use strict";var n={isBatchingUpdates:!1,batchedUpdates:function(e){}};e.exports=n},function(e,t,n){(function(t){"use strict";function r(e){a.isValidElement(e)?void 0:"production"!==t.env.NODE_ENV?h(!1,"renderToString(): You must pass a valid ReactElement."):h(!1);var n;try{p.injection.injectBatchingStrategy(u);var r=s.createReactRootID();return n=c.getPooled(!1),n.perform(function(){var t=f(e,null),o=t.mountComponent(r,n,d);return l.addChecksumToMarkup(o)},null)}finally{c.release(n),p.injection.injectBatchingStrategy(i)}}function o(e){a.isValidElement(e)?void 0:"production"!==t.env.NODE_ENV?h(!1,"renderToStaticMarkup(): You must pass a valid ReactElement."):h(!1);var n;try{p.injection.injectBatchingStrategy(u);var r=s.createReactRootID();return n=c.getPooled(!0),n.perform(function(){var t=f(e,null);return t.mountComponent(r,n,d)},null)}finally{c.release(n),p.injection.injectBatchingStrategy(i)}}var i=n(133),a=n(14),s=n(29),l=n(140),u=n(360),c=n(362),p=n(18),d=n(35),f=n(87),h=n(3);e.exports={renderToString:r,renderToStaticMarkup:o}}).call(t,n(1))},function(e,t,n){"use strict";function r(e){this.reinitializeTransaction(),this.renderToStaticMarkup=e,this.reactMountReady=i.getPooled(null),this.useCreateElement=!1}var o=n(25),i=n(74),a=n(54),s=n(4),l=n(19),u={initialize:function(){this.reactMountReady.reset()},close:l},c=[u],p={getTransactionWrappers:function(){return c},getReactMountReady:function(){return this.reactMountReady},destructor:function(){i.release(this.reactMountReady),this.reactMountReady=null}};s(r.prototype,a.Mixin,p),o.addPoolingTo(r),e.exports=r},function(e,t,n){"use strict";var r=n(26),o=r.injection.MUST_USE_ATTRIBUTE,i={xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace"},a={Properties:{clipPath:o,cx:o,cy:o,d:o,dx:o,dy:o,fill:o,fillOpacity:o,fontFamily:o,fontSize:o,fx:o,fy:o,gradientTransform:o,gradientUnits:o,markerEnd:o,markerMid:o,markerStart:o,offset:o,opacity:o,patternContentUnits:o,patternUnits:o,points:o,preserveAspectRatio:o,r:o,rx:o,ry:o,spreadMethod:o,stopColor:o,stopOpacity:o,stroke:o,strokeDasharray:o,strokeLinecap:o,strokeOpacity:o,strokeWidth:o,textAnchor:o,transform:o,version:o,viewBox:o,x1:o,x2:o,x:o,xlinkActuate:o,xlinkArcrole:o,xlinkHref:o,xlinkRole:o,xlinkShow:o,xlinkTitle:o,xlinkType:o,xmlBase:o,xmlLang:o,xmlSpace:o,y1:o,y2:o,y:o},DOMAttributeNamespaces:{xlinkActuate:i.xlink,xlinkArcrole:i.xlink,xlinkHref:i.xlink,xlinkRole:i.xlink,xlinkShow:i.xlink,xlinkTitle:i.xlink,xlinkType:i.xlink,xmlBase:i.xml,xmlLang:i.xml,xmlSpace:i.xml},DOMAttributeNames:{clipPath:"clip-path",fillOpacity:"fill-opacity",fontFamily:"font-family",fontSize:"font-size",gradientTransform:"gradientTransform",gradientUnits:"gradientUnits",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",patternContentUnits:"patternContentUnits",patternUnits:"patternUnits",preserveAspectRatio:"preserveAspectRatio",spreadMethod:"spreadMethod",stopColor:"stop-color",stopOpacity:"stop-opacity",strokeDasharray:"stroke-dasharray",strokeLinecap:"stroke-linecap",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",textAnchor:"text-anchor",viewBox:"viewBox",xlinkActuate:"xlink:actuate",xlinkArcrole:"xlink:arcrole",xlinkHref:"xlink:href",xlinkRole:"xlink:role",xlinkShow:"xlink:show",xlinkTitle:"xlink:title",xlinkType:"xlink:type",xmlBase:"xml:base",xmlLang:"xml:lang",xmlSpace:"xml:space"}};e.exports=a},function(e,t,n){"use strict";function r(e){if("selectionStart"in e&&l.hasSelectionCapabilities(e))return{start:e.selectionStart,end:e.selectionEnd};if(window.getSelection){var t=window.getSelection();return{anchorNode:t.anchorNode,anchorOffset:t.anchorOffset,focusNode:t.focusNode,focusOffset:t.focusOffset}}if(document.selection){var n=document.selection.createRange();return{parentElement:n.parentElement(),text:n.text,top:n.boundingTop,left:n.boundingLeft}}}function o(e,t){if(_||null==v||v!==c())return null;var n=r(v);if(!y||!f(y,n)){y=n;var o=u.getPooled(m.select,b,e,t);return o.type="select",o.target=v,a.accumulateTwoPhaseDispatches(o),o}return null}var i=n(21),a=n(39),s=n(8),l=n(139),u=n(28),c=n(110),p=n(150),d=n(24),f=n(112),h=i.topLevelTypes,g=s.canUseDOM&&"documentMode"in document&&document.documentMode<=11,m={select:{phasedRegistrationNames:{bubbled:d({onSelect:null}),captured:d({onSelectCapture:null})},dependencies:[h.topBlur,h.topContextMenu,h.topFocus,h.topKeyDown,h.topMouseDown,h.topMouseUp,h.topSelectionChange]}},v=null,b=null,y=null,_=!1,x=!1,E=d({onSelect:null}),C={eventTypes:m,extractEvents:function(e,t,n,r,i){if(!x)return null;switch(e){case h.topFocus:(p(t)||"true"===t.contentEditable)&&(v=t,b=n,y=null);break;case h.topBlur:v=null,b=null,y=null;break;case h.topMouseDown:_=!0;break;case h.topContextMenu:case h.topMouseUp:return _=!1,o(r,i);case h.topSelectionChange:if(g)break;case h.topKeyDown:case h.topKeyUp:return o(r,i)}return null},didPutListener:function(e,t,n){t===E&&(x=!0)}};e.exports=C},function(e,t){"use strict";var n=Math.pow(2,53),r={createReactRootIndex:function(){return Math.ceil(Math.random()*n)}};e.exports=r},function(e,t,n){(function(t){"use strict";var r=n(21),o=n(107),i=n(39),a=n(10),s=n(367),l=n(28),u=n(370),c=n(372),p=n(53),d=n(369),f=n(373),h=n(41),g=n(374),m=n(19),v=n(83),b=n(3),y=n(24),_=r.topLevelTypes,x={abort:{phasedRegistrationNames:{bubbled:y({onAbort:!0}),captured:y({onAbortCapture:!0})}},blur:{phasedRegistrationNames:{bubbled:y({onBlur:!0}),captured:y({onBlurCapture:!0})}},canPlay:{phasedRegistrationNames:{bubbled:y({onCanPlay:!0}),captured:y({onCanPlayCapture:!0})}},canPlayThrough:{phasedRegistrationNames:{bubbled:y({onCanPlayThrough:!0}),captured:y({onCanPlayThroughCapture:!0})}},click:{phasedRegistrationNames:{bubbled:y({onClick:!0}),captured:y({onClickCapture:!0})}},contextMenu:{phasedRegistrationNames:{bubbled:y({onContextMenu:!0}),captured:y({onContextMenuCapture:!0})}},copy:{phasedRegistrationNames:{bubbled:y({onCopy:!0}),captured:y({onCopyCapture:!0})}},cut:{phasedRegistrationNames:{bubbled:y({onCut:!0}),captured:y({onCutCapture:!0})}},doubleClick:{phasedRegistrationNames:{bubbled:y({onDoubleClick:!0}),captured:y({onDoubleClickCapture:!0})}},drag:{phasedRegistrationNames:{bubbled:y({onDrag:!0}),captured:y({onDragCapture:!0})}},dragEnd:{phasedRegistrationNames:{bubbled:y({onDragEnd:!0}),captured:y({onDragEndCapture:!0})}},dragEnter:{phasedRegistrationNames:{bubbled:y({onDragEnter:!0}),captured:y({onDragEnterCapture:!0})}},dragExit:{phasedRegistrationNames:{bubbled:y({onDragExit:!0}),captured:y({onDragExitCapture:!0})}},dragLeave:{phasedRegistrationNames:{bubbled:y({onDragLeave:!0}),captured:y({onDragLeaveCapture:!0})}},dragOver:{phasedRegistrationNames:{bubbled:y({onDragOver:!0}),captured:y({onDragOverCapture:!0})}},dragStart:{phasedRegistrationNames:{bubbled:y({onDragStart:!0}),captured:y({onDragStartCapture:!0})}},drop:{phasedRegistrationNames:{bubbled:y({onDrop:!0}),captured:y({onDropCapture:!0})}},durationChange:{phasedRegistrationNames:{bubbled:y({onDurationChange:!0}),captured:y({onDurationChangeCapture:!0})}},emptied:{phasedRegistrationNames:{bubbled:y({onEmptied:!0}),captured:y({onEmptiedCapture:!0})}},encrypted:{phasedRegistrationNames:{bubbled:y({onEncrypted:!0}),captured:y({onEncryptedCapture:!0})}},ended:{phasedRegistrationNames:{bubbled:y({onEnded:!0}),captured:y({onEndedCapture:!0})}},error:{phasedRegistrationNames:{bubbled:y({onError:!0}),captured:y({onErrorCapture:!0})}},focus:{phasedRegistrationNames:{bubbled:y({onFocus:!0}),captured:y({onFocusCapture:!0})}},input:{phasedRegistrationNames:{bubbled:y({onInput:!0}),captured:y({onInputCapture:!0})}},keyDown:{phasedRegistrationNames:{bubbled:y({onKeyDown:!0}),captured:y({onKeyDownCapture:!0})}},keyPress:{phasedRegistrationNames:{bubbled:y({onKeyPress:!0}),captured:y({onKeyPressCapture:!0})}},keyUp:{phasedRegistrationNames:{bubbled:y({onKeyUp:!0}),captured:y({onKeyUpCapture:!0})}},load:{phasedRegistrationNames:{bubbled:y({onLoad:!0}),captured:y({onLoadCapture:!0})}},loadedData:{phasedRegistrationNames:{bubbled:y({onLoadedData:!0}),captured:y({onLoadedDataCapture:!0})}},loadedMetadata:{phasedRegistrationNames:{bubbled:y({onLoadedMetadata:!0}),captured:y({onLoadedMetadataCapture:!0})}},loadStart:{phasedRegistrationNames:{bubbled:y({onLoadStart:!0}),captured:y({onLoadStartCapture:!0})}},mouseDown:{phasedRegistrationNames:{bubbled:y({onMouseDown:!0}),captured:y({onMouseDownCapture:!0})}},mouseMove:{phasedRegistrationNames:{bubbled:y({onMouseMove:!0}),captured:y({onMouseMoveCapture:!0})}},mouseOut:{phasedRegistrationNames:{bubbled:y({onMouseOut:!0}),captured:y({onMouseOutCapture:!0})}},mouseOver:{phasedRegistrationNames:{bubbled:y({onMouseOver:!0}),captured:y({onMouseOverCapture:!0})}},mouseUp:{phasedRegistrationNames:{bubbled:y({onMouseUp:!0}),captured:y({onMouseUpCapture:!0})}},paste:{phasedRegistrationNames:{bubbled:y({onPaste:!0}),captured:y({onPasteCapture:!0})}},pause:{phasedRegistrationNames:{bubbled:y({onPause:!0}),captured:y({onPauseCapture:!0})}},play:{phasedRegistrationNames:{bubbled:y({onPlay:!0}),captured:y({onPlayCapture:!0})}},playing:{phasedRegistrationNames:{bubbled:y({onPlaying:!0}),captured:y({onPlayingCapture:!0})}},progress:{phasedRegistrationNames:{bubbled:y({onProgress:!0}),captured:y({onProgressCapture:!0})}},rateChange:{phasedRegistrationNames:{bubbled:y({onRateChange:!0}),captured:y({onRateChangeCapture:!0})}},reset:{phasedRegistrationNames:{bubbled:y({onReset:!0}),captured:y({onResetCapture:!0})}},scroll:{phasedRegistrationNames:{bubbled:y({onScroll:!0}),captured:y({onScrollCapture:!0})}},seeked:{phasedRegistrationNames:{bubbled:y({onSeeked:!0}),captured:y({onSeekedCapture:!0})}},seeking:{phasedRegistrationNames:{bubbled:y({onSeeking:!0}),captured:y({onSeekingCapture:!0})}},stalled:{phasedRegistrationNames:{bubbled:y({onStalled:!0}),captured:y({onStalledCapture:!0})}},submit:{phasedRegistrationNames:{bubbled:y({onSubmit:!0}),captured:y({onSubmitCapture:!0})}},suspend:{phasedRegistrationNames:{bubbled:y({onSuspend:!0}),captured:y({onSuspendCapture:!0})}},timeUpdate:{phasedRegistrationNames:{bubbled:y({onTimeUpdate:!0}),captured:y({onTimeUpdateCapture:!0})}},touchCancel:{phasedRegistrationNames:{bubbled:y({onTouchCancel:!0}),captured:y({onTouchCancelCapture:!0})}},touchEnd:{phasedRegistrationNames:{bubbled:y({onTouchEnd:!0}),captured:y({onTouchEndCapture:!0})}},touchMove:{phasedRegistrationNames:{bubbled:y({onTouchMove:!0}),captured:y({onTouchMoveCapture:!0})}},touchStart:{phasedRegistrationNames:{bubbled:y({onTouchStart:!0}),captured:y({onTouchStartCapture:!0})}},volumeChange:{phasedRegistrationNames:{bubbled:y({onVolumeChange:!0}),captured:y({onVolumeChangeCapture:!0})}},waiting:{phasedRegistrationNames:{bubbled:y({onWaiting:!0}),captured:y({onWaitingCapture:!0})}},wheel:{phasedRegistrationNames:{bubbled:y({onWheel:!0}),captured:y({onWheelCapture:!0})}}},E={topAbort:x.abort,topBlur:x.blur,topCanPlay:x.canPlay,topCanPlayThrough:x.canPlayThrough,topClick:x.click,topContextMenu:x.contextMenu,topCopy:x.copy,topCut:x.cut,topDoubleClick:x.doubleClick,topDrag:x.drag,topDragEnd:x.dragEnd,topDragEnter:x.dragEnter,topDragExit:x.dragExit,topDragLeave:x.dragLeave,topDragOver:x.dragOver,topDragStart:x.dragStart,topDrop:x.drop,topDurationChange:x.durationChange,topEmptied:x.emptied,topEncrypted:x.encrypted,topEnded:x.ended,topError:x.error,topFocus:x.focus,topInput:x.input,topKeyDown:x.keyDown,topKeyPress:x.keyPress,topKeyUp:x.keyUp,topLoad:x.load,topLoadedData:x.loadedData,topLoadedMetadata:x.loadedMetadata,topLoadStart:x.loadStart,topMouseDown:x.mouseDown,topMouseMove:x.mouseMove,topMouseOut:x.mouseOut,topMouseOver:x.mouseOver,topMouseUp:x.mouseUp,topPaste:x.paste,topPause:x.pause,topPlay:x.play,topPlaying:x.playing,topProgress:x.progress,topRateChange:x.rateChange,topReset:x.reset,topScroll:x.scroll,topSeeked:x.seeked,topSeeking:x.seeking,topStalled:x.stalled,topSubmit:x.submit,topSuspend:x.suspend,topTimeUpdate:x.timeUpdate,topTouchCancel:x.touchCancel,topTouchEnd:x.touchEnd,topTouchMove:x.touchMove,topTouchStart:x.touchStart,topVolumeChange:x.volumeChange,topWaiting:x.waiting,topWheel:x.wheel};for(var C in E)E[C].dependencies=[C];var w=y({onClick:null}),D={},T={eventTypes:x,extractEvents:function(e,n,r,o,a){var m=E[e];if(!m)return null;var y;switch(e){case _.topAbort:case _.topCanPlay:case _.topCanPlayThrough:case _.topDurationChange:case _.topEmptied:case _.topEncrypted:case _.topEnded:case _.topError:case _.topInput:case _.topLoad:case _.topLoadedData:case _.topLoadedMetadata:case _.topLoadStart:case _.topPause:case _.topPlay:case _.topPlaying:case _.topProgress:case _.topRateChange:case _.topReset:case _.topSeeked:case _.topSeeking:case _.topStalled:case _.topSubmit:case _.topSuspend:case _.topTimeUpdate:case _.topVolumeChange:case _.topWaiting:y=l;break;case _.topKeyPress:if(0===v(o))return null;case _.topKeyDown:case _.topKeyUp:y=c;break;case _.topBlur:case _.topFocus:y=u;break;case _.topClick:if(2===o.button)return null;case _.topContextMenu:case _.topDoubleClick:case _.topMouseDown:case _.topMouseMove:case _.topMouseOut:case _.topMouseOver:case _.topMouseUp:y=p;break;case _.topDrag:case _.topDragEnd:case _.topDragEnter:case _.topDragExit:case _.topDragLeave:case _.topDragOver:case _.topDragStart:case _.topDrop:y=d;break;case _.topTouchCancel:case _.topTouchEnd:case _.topTouchMove:case _.topTouchStart:y=f;break;case _.topScroll:y=h;break;case _.topWheel:y=g;break;case _.topCopy:case _.topCut:case _.topPaste:y=s}y?void 0:"production"!==t.env.NODE_ENV?b(!1,"SimpleEventPlugin: Unhandled event type, `%s`.",e):b(!1);var x=y.getPooled(m,r,o,a);return i.accumulateTwoPhaseDispatches(x),x},didPutListener:function(e,t,n){if(t===w){var r=a.getNode(e);D[e]||(D[e]=o.listen(r,"click",m))}},willDeleteListener:function(e,t){t===w&&(D[e].remove(),delete D[e])}};e.exports=T}).call(t,n(1))},function(e,t,n){"use strict";function r(e,t,n,r){o.call(this,e,t,n,r)}var o=n(28),i={clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}};o.augmentClass(r,i),e.exports=r},function(e,t,n){"use strict";function r(e,t,n,r){o.call(this,e,t,n,r)}var o=n(28),i={data:null};o.augmentClass(r,i),e.exports=r},function(e,t,n){"use strict";function r(e,t,n,r){o.call(this,e,t,n,r)}var o=n(53),i={dataTransfer:null};o.augmentClass(r,i),e.exports=r},function(e,t,n){"use strict";function r(e,t,n,r){o.call(this,e,t,n,r)}var o=n(41),i={relatedTarget:null};o.augmentClass(r,i),e.exports=r},function(e,t,n){"use strict";function r(e,t,n,r){o.call(this,e,t,n,r)}var o=n(28),i={data:null};o.augmentClass(r,i),e.exports=r},function(e,t,n){"use strict";function r(e,t,n,r){o.call(this,e,t,n,r)}var o=n(41),i=n(83),a=n(379),s=n(84),l={key:a,location:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,repeat:null,locale:null,getModifierState:s,charCode:function(e){return"keypress"===e.type?i(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?i(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}};o.augmentClass(r,l),e.exports=r},function(e,t,n){"use strict";function r(e,t,n,r){o.call(this,e,t,n,r)}var o=n(41),i=n(84),a={touches:null,targetTouches:null,changedTouches:null,altKey:null,metaKey:null,ctrlKey:null,shiftKey:null,getModifierState:i};o.augmentClass(r,a),e.exports=r},function(e,t,n){"use strict";function r(e,t,n,r){o.call(this,e,t,n,r)}var o=n(53),i={deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:null,deltaMode:null};o.augmentClass(r,i),e.exports=r},function(e,t){"use strict";function n(e){for(var t=1,n=0,o=0,i=e.length,a=-4&i;a>o;){for(;o<Math.min(o+4096,a);o+=4)n+=(t+=e.charCodeAt(o))+(t+=e.charCodeAt(o+1))+(t+=e.charCodeAt(o+2))+(t+=e.charCodeAt(o+3));t%=r,n%=r}for(;i>o;o++)n+=t+=e.charCodeAt(o);return t%=r,n%=r,t|n<<16}var r=65521;e.exports=n},function(e,t,n){"use strict";function r(e,t){var n=null==t||"boolean"==typeof t||""===t;if(n)return"";var r=isNaN(t);return r||0===t||i.hasOwnProperty(e)&&i[e]?""+t:("string"==typeof t&&(t=t.trim()),t+"px")}var o=n(123),i=o.isUnitlessNumber;e.exports=r},function(e,t,n){(function(t){"use strict";function r(e,n,r,a,s){var l=!1;if("production"!==t.env.NODE_ENV){var u=function(){return"production"!==t.env.NODE_ENV?i(l,"React.%s is deprecated. Please use %s.%s from require('%s') instead.",e,n,e,r):void 0,l=!0,s.apply(a,arguments)};return o(u,s)}return s}var o=n(4),i=n(5);e.exports=r}).call(t,n(1))},function(e,t,n){(function(t){"use strict";function r(e,n,r){var o=e,i=void 0===o[r];"production"!==t.env.NODE_ENV&&("production"!==t.env.NODE_ENV?a(i,"flattenChildren(...): Encountered two children with the same key, `%s`. Child keys must be unique; when two children share a key, only the first child will be used.",r):void 0),i&&null!=n&&(o[r]=n)}function o(e){if(null==e)return e;var t={};return i(e,r,t),t}var i=n(91),a=n(5);e.exports=o}).call(t,n(1))},function(e,t,n){"use strict";function r(e){if(e.key){var t=i[e.key]||e.key;if("Unidentified"!==t)return t}if("keypress"===e.type){var n=o(e);return 13===n?"Enter":String.fromCharCode(n)}return"keydown"===e.type||"keyup"===e.type?a[e.keyCode]||"Unidentified":""}var o=n(83),i={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},a={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"};e.exports=r},function(e,t){"use strict";function n(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function r(e){for(;e;){if(e.nextSibling)return e.nextSibling;e=e.parentNode}}function o(e,t){for(var o=n(e),i=0,a=0;o;){if(3===o.nodeType){if(a=i+o.textContent.length,t>=i&&a>=t)return{node:o,offset:t-i};i=a}o=n(r(o))}}e.exports=o},function(e,t,n){(function(t){"use strict";function r(e){return o.isValidElement(e)?void 0:"production"!==t.env.NODE_ENV?i(!1,"onlyChild must be passed a children with exactly one child."):i(!1),e}var o=n(14),i=n(3);e.exports=r}).call(t,n(1))},function(e,t,n){"use strict";function r(e){return'"'+o(e)+'"'}var o=n(56);e.exports=r},function(e,t,n){"use strict";var r=n(10);e.exports=r.renderSubtreeIntoContainer},function(e,t,n){var r,o;!function(i,a){r=[n(385)],o=function(e){return a(e,i)}.apply(t,r),!(void 0!==o&&(e.exports=o))}(this,function(e,t,n){function r(t){return e.isArray(t)?"array":e.isDate(t)?"date":e.isRegExp(t)?"regex":typeof t}function o(e){var t=r(e);return l[t]?t:"*"}function i(t){return e.each(a.call(arguments,1),function(n){e.each(n,function(e,n){l[o(e)](t,n,e)})}),t}var a=Array.prototype.slice,s=function(){for(var e=a.call(arguments,0);e.length;)s.rivet(e.shift())},l={"*":function(e,t,n){e[t]=n},object:function(e,t,n){e[t]=i(e[t]||{},n)},array:function(t,n,r){t[n]=[],e.each(r,function(e,r){l[o(e)](t[n],r,e)},this)}};return s.rivet=function(e){e.hasOwnProperty("extend")||(e.extend=function(t,n,r){return s.extend(e,t,n,r)}),e.hasOwnProperty("compose")||(e.compose=function(){return s.compose.apply(this,[e].concat(a.call(arguments,0)))}),e.hasOwnProperty("inherits")||(e.inherits=function(t,n,r){return s.inherits(e,t,n,r)}),e.hasOwnProperty("mixin")||(e.mixin=function(){return s.mixin.apply(this,[e].concat(a.call(arguments,0)))}),e.hasOwnProperty("punch")||(e.punch=function(){return s.punch.apply(this,[e].concat(a.call(arguments,0)))})},s.inherits=function(t,n,r,o){o=o||{};var a,l=function(){},u=function(){n.apply(this,arguments)};return"object"==typeof t?(t.hasOwnProperty("constructor")&&(u=t.constructor),
a=t):(u=t,a=t.prototype),s.rivet(u),o.deep?i(u,n,r):e.defaults(u,n,r),l.prototype=n.prototype,u.prototype=new l,o.deep?i(u.prototype,a,{constructor:u}):e.extend(u.prototype,a,{constructor:u}),u.__super=n,u.__super__=n.prototype,u},s.extend=function(e,t,n,r){return s.inherits(t,e,n,r)},s.compose=function(){var t=a.call(arguments,0),n=t.shift();s.rivet(n);var r=e.reduce(t,function(e,t){return t.hasOwnProperty("_preInit")&&e.preInit.push(t._preInit),t.hasOwnProperty("_postInit")&&e.postInit.push(t._postInit),t=t.mixin||t,e.items.push(t),e},{items:[],preInit:[],postInit:[]}),o=n.extend({constructor:function(){var t=a.call(arguments,0);e.each(r.preInit,function(e){e.apply(this,t)},this),n.prototype.constructor.apply(this,t),e.each(r.postInit,function(e){e.apply(this,t)},this)}});return s.rivet(o),e.defaults(o.prototype,e.extend.apply(null,[{}].concat(r.items))),o},s.mixin=function(){var t=a.call(arguments,0),n=t.shift();return s.rivet(n),e.defaults(n.prototype,e.extend.apply(null,[{}].concat(t))),n},s.punch=function(){var t=a.call(arguments,0),n=t.shift();return s.rivet(n),e.extend(n.prototype,e.extend.apply(null,[{}].concat(t))),n},s})},function(e,t,n){var r;(function(e,o){(function(){function i(e,t,n){for(var r=(n||0)-1,o=e?e.length:0;++r<o;)if(e[r]===t)return r;return-1}function a(e,t){var n=typeof t;if(e=e.cache,"boolean"==n||null==t)return e[t]?0:-1;"number"!=n&&"string"!=n&&(n="object");var r="number"==n?t:w+t;return e=(e=e[n])&&e[r],"object"==n?e&&i(e,t)>-1?0:-1:e?0:-1}function s(e){var t=this.cache,n=typeof e;if("boolean"==n||null==e)t[e]=!0;else{"number"!=n&&"string"!=n&&(n="object");var r="number"==n?e:w+e,o=t[n]||(t[n]={});"object"==n?(o[r]||(o[r]=[])).push(e):o[r]=!0}}function l(e){return e.charCodeAt(0)}function u(e,t){for(var n=e.criteria,r=t.criteria,o=-1,i=n.length;++o<i;){var a=n[o],s=r[o];if(a!==s){if(a>s||"undefined"==typeof a)return 1;if(s>a||"undefined"==typeof s)return-1}}return e.index-t.index}function c(e){var t=-1,n=e.length,r=e[0],o=e[n/2|0],i=e[n-1];if(r&&"object"==typeof r&&o&&"object"==typeof o&&i&&"object"==typeof i)return!1;var a=f();a["false"]=a["null"]=a["true"]=a.undefined=!1;var l=f();for(l.array=e,l.cache=a,l.push=s;++t<n;)l.push(e[t]);return l}function p(e){return"\\"+oe[e]}function d(){return _.pop()||[]}function f(){return x.pop()||{array:null,cache:null,criteria:null,"false":!1,index:0,"null":!1,number:null,object:null,push:null,string:null,"true":!1,undefined:!1,value:null}}function h(e){return"function"!=typeof e.toString&&"string"==typeof(e+"")}function g(e){e.length=0,_.length<T&&_.push(e)}function m(e){var t=e.cache;t&&m(t),e.array=e.cache=e.criteria=e.object=e.number=e.string=e.value=null,x.length<T&&x.push(e)}function v(e,t,n){t||(t=0),"undefined"==typeof n&&(n=e?e.length:0);for(var r=-1,o=n-t||0,i=Array(0>o?0:o);++r<o;)i[r]=e[t+r];return i}function b(e){function t(e){return e&&"object"==typeof e&&!pr(e)&&qn.call(e,"__wrapped__")?e:new n(e)}function n(e,t){this.__chain__=!!t,this.__wrapped__=e}function r(e){function t(){if(r){var e=v(r);Xn.apply(e,arguments)}if(this instanceof t){var i=s(n.prototype),a=n.apply(i,e||arguments);return Le(a)?a:i}return n.apply(o,e||arguments)}var n=e[0],r=e[2],o=e[4];return cr(t,e),t}function o(e,t,n,r,i){if(n){var a=n(e);if("undefined"!=typeof a)return a}var s=Le(e);if(!s)return e;var l=Ln.call(e);if(!$[l]||!lr.nodeClass&&h(e))return e;var u=ar[l];switch(l){case X:case Y:return new u(+e);case Q:case J:return new u(e);case K:return a=u(e.source,O.exec(e)),a.lastIndex=e.lastIndex,a}var c=pr(e);if(t){var p=!r;r||(r=d()),i||(i=d());for(var f=r.length;f--;)if(r[f]==e)return i[f];a=c?u(e.length):{}}else a=c?v(e):Er({},e);return c&&(qn.call(e,"index")&&(a.index=e.index),qn.call(e,"input")&&(a.input=e.input)),t?(r.push(e),i.push(a),(c?xr:Dr)(e,function(e,s){a[s]=o(e,t,n,r,i)}),p&&(g(r),g(i)),a):a}function s(e,t){return Le(e)?Kn(e):{}}function _(e,t,n){if("function"!=typeof e)return on;if("undefined"==typeof t||!("prototype"in e))return e;var r=e.__bindData__;if("undefined"==typeof r&&(lr.funcNames&&(r=!e.name),r=r||!lr.funcDecomp,!r)){var o=Wn.call(e);lr.funcNames||(r=!A.test(o)),r||(r=U.test(o),cr(e,r))}if(r===!1||r!==!0&&1&r[1])return e;switch(n){case 1:return function(n){return e.call(t,n)};case 2:return function(n,r){return e.call(t,n,r)};case 3:return function(n,r,o){return e.call(t,n,r,o)};case 4:return function(n,r,o,i){return e.call(t,n,r,o,i)}}return jt(e,t)}function x(e){function t(){var e=u?a:this;if(o){var h=v(o);Xn.apply(h,arguments)}if((i||p)&&(h||(h=v(arguments)),i&&Xn.apply(h,i),p&&h.length<l))return r|=16,x([n,d?r:-4&r,h,null,a,l]);if(h||(h=arguments),c&&(n=e[f]),this instanceof t){e=s(n.prototype);var g=n.apply(e,h);return Le(g)?g:e}return n.apply(e,h)}var n=e[0],r=e[1],o=e[2],i=e[3],a=e[4],l=e[5],u=1&r,c=2&r,p=4&r,d=8&r,f=n;return cr(t,e),t}function T(e,t){var n=-1,r=ge(),o=e?e.length:0,s=o>=D&&r===i,l=[];if(s){var u=c(t);u?(r=a,t=u):s=!1}for(;++n<o;){var p=e[n];r(t,p)<0&&l.push(p)}return s&&m(t),l}function oe(e,t,n,r){for(var o=(r||0)-1,i=e?e.length:0,a=[];++o<i;){var s=e[o];if(s&&"object"==typeof s&&"number"==typeof s.length&&(pr(s)||ye(s))){t||(s=oe(s,t,n));var l=-1,u=s.length,c=a.length;for(a.length+=u;++l<u;)a[c++]=s[l]}else n||a.push(s)}return a}function ae(e,t,n,r,o,i){if(n){var a=n(e,t);if("undefined"!=typeof a)return!!a}if(e===t)return 0!==e||1/e==1/t;var s=typeof e,l=typeof t;if(!(e!==e||e&&re[s]||t&&re[l]))return!1;if(null==e||null==t)return e===t;var u=Ln.call(e),c=Ln.call(t);if(u==z&&(u=Z),c==z&&(c=Z),u!=c)return!1;switch(u){case X:case Y:return+e==+t;case Q:return e!=+e?t!=+t:0==e?1/e==1/t:e==+t;case K:case J:return e==Pn(t)}var p=u==q;if(!p){var f=qn.call(e,"__wrapped__"),m=qn.call(t,"__wrapped__");if(f||m)return ae(f?e.__wrapped__:e,m?t.__wrapped__:t,n,r,o,i);if(u!=Z||!lr.nodeClass&&(h(e)||h(t)))return!1;var v=!lr.argsObject&&ye(e)?kn:e.constructor,b=!lr.argsObject&&ye(t)?kn:t.constructor;if(v!=b&&!(Fe(v)&&v instanceof v&&Fe(b)&&b instanceof b)&&"constructor"in e&&"constructor"in t)return!1}var y=!o;o||(o=d()),i||(i=d());for(var _=o.length;_--;)if(o[_]==e)return i[_]==t;var x=0;if(a=!0,o.push(e),i.push(t),p){if(_=e.length,x=t.length,a=x==_,a||r)for(;x--;){var E=_,C=t[x];if(r)for(;E--&&!(a=ae(e[E],C,n,r,o,i)););else if(!(a=ae(e[x],C,n,r,o,i)))break}}else wr(t,function(t,s,l){return qn.call(l,s)?(x++,a=qn.call(e,s)&&ae(e[s],t,n,r,o,i)):void 0}),a&&!r&&wr(e,function(e,t,n){return qn.call(n,t)?a=--x>-1:void 0});return o.pop(),i.pop(),y&&(g(o),g(i)),a}function se(e,t,n,r,o){(pr(t)?rt:Dr)(t,function(t,i){var a,s,l=t,u=e[i];if(t&&((s=pr(t))||Tr(t))){for(var c=r.length;c--;)if(a=r[c]==t){u=o[c];break}if(!a){var p;n&&(l=n(u,t),(p="undefined"!=typeof l)&&(u=l)),p||(u=s?pr(u)?u:[]:Tr(u)?u:{}),r.push(t),o.push(u),p||se(u,t,n,r,o)}}else n&&(l=n(u,t),"undefined"==typeof l&&(l=t)),"undefined"!=typeof l&&(u=l);e[i]=u})}function le(e,t){return e+jn(ir()*(t-e+1))}function ce(e,t,n){var r=-1,o=ge(),s=e?e.length:0,l=[],u=!t&&s>=D&&o===i,p=n||u?d():l;if(u){var f=c(p);o=a,p=f}for(;++r<s;){var h=e[r],v=n?n(h,r,e):h;(t?!r||p[p.length-1]!==v:o(p,v)<0)&&((n||u)&&p.push(v),l.push(h))}return u?(g(p.array),m(p)):n&&g(p),l}function pe(e){return function(n,r,o){var i={};if(r=t.createCallback(r,o,3),pr(n))for(var a=-1,s=n.length;++a<s;){var l=n[a];e(i,l,r(l,a,n),n)}else xr(n,function(t,n,o){e(i,t,r(t,n,o),o)});return i}}function de(e,t,n,o,i,a){var s=1&t,l=2&t,u=4&t,c=16&t,p=32&t;if(!l&&!Fe(e))throw new Rn;c&&!n.length&&(t&=-17,c=n=!1),p&&!o.length&&(t&=-33,p=o=!1);var d=e&&e.__bindData__;if(d&&d!==!0)return d=v(d),d[2]&&(d[2]=v(d[2])),d[3]&&(d[3]=v(d[3])),!s||1&d[1]||(d[4]=i),!s&&1&d[1]&&(t|=8),!u||4&d[1]||(d[5]=a),c&&Xn.apply(d[2]||(d[2]=[]),n),p&&Qn.apply(d[3]||(d[3]=[]),o),d[1]|=t,de.apply(null,d);var f=1==t||17===t?r:x;return f([e,t,n,o,i,a])}function fe(){ne.shadowedProps=j,ne.array=ne.bottom=ne.loop=ne.top="",ne.init="iterable",ne.useHas=!0;for(var e,t=0;e=arguments[t];t++)for(var n in e)ne[n]=e[n];var r=ne.args;ne.firstArg=/^[^,]+/.exec(r)[0];var o=Dn("baseCreateCallback, errorClass, errorProto, hasOwnProperty, indicatorObject, isArguments, isArray, isString, keys, objectProto, objectTypes, nonEnumProps, stringClass, stringProto, toString","return function("+r+") {\n"+ur(ne)+"\n}");return o(_,H,On,qn,C,ye,pr,We,ne.keys,An,re,sr,J,In,Ln)}function he(e){return vr[e]}function ge(){var e=(e=t.indexOf)===wt?i:e;return e}function me(e){return"function"==typeof e&&Un.test(e)}function ve(e){var t,n;return!e||Ln.call(e)!=Z||(t=e.constructor,Fe(t)&&!(t instanceof t))||!lr.argsClass&&ye(e)||!lr.nodeClass&&h(e)?!1:lr.ownLast?(wr(e,function(e,t,r){return n=qn.call(r,t),!1}),n!==!1):(wr(e,function(e,t){n=t}),"undefined"==typeof n||qn.call(e,n))}function be(e){return br[e]}function ye(e){return e&&"object"==typeof e&&"number"==typeof e.length&&Ln.call(e)==z||!1}function _e(e,t,n,r){return"boolean"!=typeof t&&null!=t&&(r=n,n=t,t=!1),o(e,t,"function"==typeof n&&_(n,r,1))}function xe(e,t,n){return o(e,!0,"function"==typeof t&&_(t,n,1))}function Ee(e,t){var n=s(e);return t?Er(n,t):n}function Ce(e,n,r){var o;return n=t.createCallback(n,r,3),Dr(e,function(e,t,r){return n(e,t,r)?(o=t,!1):void 0}),o}function we(e,n,r){var o;return n=t.createCallback(n,r,3),Te(e,function(e,t,r){return n(e,t,r)?(o=t,!1):void 0}),o}function De(e,t,n){var r=[];wr(e,function(e,t){r.push(t,e)});var o=r.length;for(t=_(t,n,3);o--&&t(r[o--],r[o],e)!==!1;);return e}function Te(e,t,n){var r=fr(e),o=r.length;for(t=_(t,n,3);o--;){var i=r[o];if(t(e[i],i,e)===!1)break}return e}function Me(e){var t=[];return wr(e,function(e,n){Fe(e)&&t.push(n)}),t.sort()}function ke(e,t){return e?qn.call(e,t):!1}function Ne(e){for(var t=-1,n=fr(e),r=n.length,o={};++t<r;){var i=n[t];o[e[i]]=i}return o}function Pe(e){return e===!0||e===!1||e&&"object"==typeof e&&Ln.call(e)==X||!1}function Re(e){return e&&"object"==typeof e&&Ln.call(e)==Y||!1}function Se(e){return e&&1===e.nodeType||!1}function Oe(e){var t=!0;if(!e)return t;var n=Ln.call(e),r=e.length;return n==q||n==J||(lr.argsClass?n==z:ye(e))||n==Z&&"number"==typeof r&&Fe(e.splice)?!r:(Dr(e,function(){return t=!1}),t)}function Ae(e,t,n,r){return ae(e,t,"function"==typeof n&&_(n,r,2))}function Ie(e){return $n(e)&&!er(parseFloat(e))}function Fe(e){return"function"==typeof e}function Le(e){return!(!e||!re[typeof e])}function Ue(e){return Be(e)&&e!=+e}function Ve(e){return null===e}function Be(e){return"number"==typeof e||e&&"object"==typeof e&&Ln.call(e)==Q||!1}function je(e){return e&&re[typeof e]&&Ln.call(e)==K||!1}function We(e){return"string"==typeof e||e&&"object"==typeof e&&Ln.call(e)==J||!1}function ze(e){return"undefined"==typeof e}function qe(e,n,r){var o={};return n=t.createCallback(n,r,3),Dr(e,function(e,t,r){o[t]=n(e,t,r)}),o}function Xe(e){var t=arguments,n=2;if(!Le(e))return e;if("number"!=typeof t[2]&&(n=t.length),n>3&&"function"==typeof t[n-2])var r=_(t[--n-1],t[n--],2);else n>2&&"function"==typeof t[n-1]&&(r=t[--n]);for(var o=v(arguments,1,n),i=-1,a=d(),s=d();++i<n;)se(e,o[i],r,a,s);return g(a),g(s),e}function Ye(e,n,r){var o={};if("function"!=typeof n){var i=[];wr(e,function(e,t){i.push(t)}),i=T(i,oe(arguments,!0,!1,1));for(var a=-1,s=i.length;++a<s;){var l=i[a];o[l]=e[l]}}else n=t.createCallback(n,r,3),wr(e,function(e,t,r){n(e,t,r)||(o[t]=e)});return o}function He(e){for(var t=-1,n=fr(e),r=n.length,o=xn(r);++t<r;){var i=n[t];o[t]=[i,e[i]]}return o}function Ge(e,n,r){var o={};if("function"!=typeof n)for(var i=-1,a=oe(arguments,!0,!1,1),s=Le(e)?a.length:0;++i<s;){var l=a[i];l in e&&(o[l]=e[l])}else n=t.createCallback(n,r,3),wr(e,function(e,t,r){n(e,t,r)&&(o[t]=e)});return o}function Qe(e,n,r,o){var i=pr(e);if(null==r)if(i)r=[];else{var a=e&&e.constructor,l=a&&a.prototype;r=s(l)}return n&&(n=t.createCallback(n,o,4),(i?xr:Dr)(e,function(e,t,o){return n(r,e,t,o)})),r}function Ze(e){for(var t=-1,n=fr(e),r=n.length,o=xn(r);++t<r;)o[t]=e[n[t]];return o}function Ke(e){var t=arguments,n=-1,r=oe(t,!0,!1,1),o=t[2]&&t[2][t[1]]===e?1:r.length,i=xn(o);for(lr.unindexedChars&&We(e)&&(e=e.split(""));++n<o;)i[n]=e[r[n]];return i}function Je(e,t,n){var r=-1,o=ge(),i=e?e.length:0,a=!1;return n=(0>n?nr(0,i+n):n)||0,pr(e)?a=o(e,t,n)>-1:"number"==typeof i?a=(We(e)?e.indexOf(t,n):o(e,t,n))>-1:xr(e,function(e){return++r>=n?!(a=e===t):void 0}),a}function $e(e,n,r){var o=!0;if(n=t.createCallback(n,r,3),pr(e))for(var i=-1,a=e.length;++i<a&&(o=!!n(e[i],i,e)););else xr(e,function(e,t,r){return o=!!n(e,t,r)});return o}function et(e,n,r){var o=[];if(n=t.createCallback(n,r,3),pr(e))for(var i=-1,a=e.length;++i<a;){var s=e[i];n(s,i,e)&&o.push(s)}else xr(e,function(e,t,r){n(e,t,r)&&o.push(e)});return o}function tt(e,n,r){if(n=t.createCallback(n,r,3),!pr(e)){var o;return xr(e,function(e,t,r){return n(e,t,r)?(o=e,!1):void 0}),o}for(var i=-1,a=e.length;++i<a;){var s=e[i];if(n(s,i,e))return s}}function nt(e,n,r){var o;return n=t.createCallback(n,r,3),ot(e,function(e,t,r){return n(e,t,r)?(o=e,!1):void 0}),o}function rt(e,t,n){if(t&&"undefined"==typeof n&&pr(e))for(var r=-1,o=e.length;++r<o&&t(e[r],r,e)!==!1;);else xr(e,t,n);return e}function ot(e,t,n){var r=e,o=e?e.length:0;if(t=t&&"undefined"==typeof n?t:_(t,n,3),pr(e))for(;o--&&t(e[o],o,e)!==!1;);else{if("number"!=typeof o){var i=fr(e);o=i.length}else lr.unindexedChars&&We(e)&&(r=e.split(""));xr(e,function(e,n,a){return n=i?i[--o]:--o,t(r[n],n,a)})}return e}function it(e,t){var n=v(arguments,2),r=-1,o="function"==typeof t,i=e?e.length:0,a=xn("number"==typeof i?i:0);return rt(e,function(e){a[++r]=(o?t:e[t]).apply(e,n)}),a}function at(e,n,r){var o=-1,i=e?e.length:0,a=xn("number"==typeof i?i:0);if(n=t.createCallback(n,r,3),pr(e))for(;++o<i;)a[o]=n(e[o],o,e);else xr(e,function(e,t,r){a[++o]=n(e,t,r)});return a}function st(e,n,r){var o=-(1/0),i=o;if("function"!=typeof n&&r&&r[n]===e&&(n=null),null==n&&pr(e))for(var a=-1,s=e.length;++a<s;){var u=e[a];u>i&&(i=u)}else n=null==n&&We(e)?l:t.createCallback(n,r,3),xr(e,function(e,t,r){var a=n(e,t,r);a>o&&(o=a,i=e)});return i}function lt(e,n,r){var o=1/0,i=o;if("function"!=typeof n&&r&&r[n]===e&&(n=null),null==n&&pr(e))for(var a=-1,s=e.length;++a<s;){var u=e[a];i>u&&(i=u)}else n=null==n&&We(e)?l:t.createCallback(n,r,3),xr(e,function(e,t,r){var a=n(e,t,r);o>a&&(o=a,i=e)});return i}function ut(e,n,r,o){var i=arguments.length<3;if(n=t.createCallback(n,o,4),pr(e)){var a=-1,s=e.length;for(i&&(r=e[++a]);++a<s;)r=n(r,e[a],a,e)}else xr(e,function(e,t,o){r=i?(i=!1,e):n(r,e,t,o)});return r}function ct(e,n,r,o){var i=arguments.length<3;return n=t.createCallback(n,o,4),ot(e,function(e,t,o){r=i?(i=!1,e):n(r,e,t,o)}),r}function pt(e,n,r){return n=t.createCallback(n,r,3),et(e,function(e,t,r){return!n(e,t,r)})}function dt(e,t,n){if(e&&"number"!=typeof e.length?e=Ze(e):lr.unindexedChars&&We(e)&&(e=e.split("")),null==t||n)return e?e[le(0,e.length-1)]:y;var r=ft(e);return r.length=rr(nr(0,t),r.length),r}function ft(e){var t=-1,n=e?e.length:0,r=xn("number"==typeof n?n:0);return rt(e,function(e){var n=le(0,++t);r[t]=r[n],r[n]=e}),r}function ht(e){var t=e?e.length:0;return"number"==typeof t?t:fr(e).length}function gt(e,n,r){var o;if(n=t.createCallback(n,r,3),pr(e))for(var i=-1,a=e.length;++i<a&&!(o=n(e[i],i,e)););else xr(e,function(e,t,r){return!(o=n(e,t,r))});return!!o}function mt(e,n,r){var o=-1,i=pr(n),a=e?e.length:0,s=xn("number"==typeof a?a:0);for(i||(n=t.createCallback(n,r,3)),rt(e,function(e,t,r){var a=s[++o]=f();i?a.criteria=at(n,function(t){return e[t]}):(a.criteria=d())[0]=n(e,t,r),a.index=o,a.value=e}),a=s.length,s.sort(u);a--;){var l=s[a];s[a]=l.value,i||g(l.criteria),m(l)}return s}function vt(e){return e&&"number"==typeof e.length?lr.unindexedChars&&We(e)?e.split(""):v(e):Ze(e)}function bt(e){for(var t=-1,n=e?e.length:0,r=[];++t<n;){var o=e[t];o&&r.push(o)}return r}function yt(e){return T(e,oe(arguments,!0,!0,1))}function _t(e,n,r){var o=-1,i=e?e.length:0;for(n=t.createCallback(n,r,3);++o<i;)if(n(e[o],o,e))return o;return-1}function xt(e,n,r){var o=e?e.length:0;for(n=t.createCallback(n,r,3);o--;)if(n(e[o],o,e))return o;return-1}function Et(e,n,r){var o=0,i=e?e.length:0;if("number"!=typeof n&&null!=n){var a=-1;for(n=t.createCallback(n,r,3);++a<i&&n(e[a],a,e);)o++}else if(o=n,null==o||r)return e?e[0]:y;return v(e,0,rr(nr(0,o),i))}function Ct(e,t,n,r){return"boolean"!=typeof t&&null!=t&&(r=n,n="function"!=typeof t&&r&&r[t]===e?null:t,t=!1),null!=n&&(e=at(e,n,r)),oe(e,t)}function wt(e,t,n){if("number"==typeof n){var r=e?e.length:0;n=0>n?nr(0,r+n):n||0}else if(n){var o=Ot(e,t);return e[o]===t?o:-1}return i(e,t,n)}function Dt(e,n,r){var o=0,i=e?e.length:0;if("number"!=typeof n&&null!=n){var a=i;for(n=t.createCallback(n,r,3);a--&&n(e[a],a,e);)o++}else o=null==n||r?1:n||o;return v(e,0,rr(nr(0,i-o),i))}function Tt(){for(var e=[],t=-1,n=arguments.length,r=d(),o=ge(),s=o===i,l=d();++t<n;){var u=arguments[t];(pr(u)||ye(u))&&(e.push(u),r.push(s&&u.length>=D&&c(t?e[t]:l)))}var p=e[0],f=-1,h=p?p.length:0,v=[];e:for(;++f<h;){var b=r[0];if(u=p[f],(b?a(b,u):o(l,u))<0){for(t=n,(b||l).push(u);--t;)if(b=r[t],(b?a(b,u):o(e[t],u))<0)continue e;v.push(u)}}for(;n--;)b=r[n],b&&m(b);return g(r),g(l),v}function Mt(e,n,r){var o=0,i=e?e.length:0;if("number"!=typeof n&&null!=n){var a=i;for(n=t.createCallback(n,r,3);a--&&n(e[a],a,e);)o++}else if(o=n,null==o||r)return e?e[i-1]:y;return v(e,nr(0,i-o))}function kt(e,t,n){var r=e?e.length:0;for("number"==typeof n&&(r=(0>n?nr(0,r+n):rr(n,r-1))+1);r--;)if(e[r]===t)return r;return-1}function Nt(e){for(var t=arguments,n=0,r=t.length,o=e?e.length:0;++n<r;)for(var i=-1,a=t[n];++i<o;)e[i]===a&&(Gn.call(e,i--,1),o--);return e}function Pt(e,t,n){e=+e||0,n="number"==typeof n?n:+n||1,null==t&&(t=e,e=0);for(var r=-1,o=nr(0,Vn((t-e)/(n||1))),i=xn(o);++r<o;)i[r]=e,e+=n;return i}function Rt(e,n,r){var o=-1,i=e?e.length:0,a=[];for(n=t.createCallback(n,r,3);++o<i;){var s=e[o];n(s,o,e)&&(a.push(s),Gn.call(e,o--,1),i--)}return a}function St(e,n,r){if("number"!=typeof n&&null!=n){var o=0,i=-1,a=e?e.length:0;for(n=t.createCallback(n,r,3);++i<a&&n(e[i],i,e);)o++}else o=null==n||r?1:nr(0,n);return v(e,o)}function Ot(e,n,r,o){var i=0,a=e?e.length:i;for(r=r?t.createCallback(r,o,1):on,n=r(n);a>i;){var s=i+a>>>1;r(e[s])<n?i=s+1:a=s}return i}function At(){return ce(oe(arguments,!0,!0))}function It(e,n,r,o){return"boolean"!=typeof n&&null!=n&&(o=r,r="function"!=typeof n&&o&&o[n]===e?null:n,n=!1),null!=r&&(r=t.createCallback(r,o,3)),ce(e,n,r)}function Ft(e){return T(e,v(arguments,1))}function Lt(){for(var e=-1,t=arguments.length;++e<t;){var n=arguments[e];if(pr(n)||ye(n))var r=r?ce(T(r,n).concat(T(n,r))):n}return r||[]}function Ut(){for(var e=arguments.length>1?arguments:arguments[0],t=-1,n=e?st(Pr(e,"length")):0,r=xn(0>n?0:n);++t<n;)r[t]=Pr(e,t);return r}function Vt(e,t){var n=-1,r=e?e.length:0,o={};for(t||!r||pr(e[0])||(t=[]);++n<r;){var i=e[n];t?o[i]=t[n]:i&&(o[i[0]]=i[1])}return o}function Bt(e,t){if(!Fe(t))throw new Rn;return function(){return--e<1?t.apply(this,arguments):void 0}}function jt(e,t){return arguments.length>2?de(e,17,v(arguments,2),null,t):de(e,1,null,null,t)}function Wt(e){for(var t=arguments.length>1?oe(arguments,!0,!1,1):Me(e),n=-1,r=t.length;++n<r;){var o=t[n];e[o]=de(e[o],1,null,null,e)}return e}function zt(e,t){return arguments.length>2?de(t,19,v(arguments,2),null,e):de(t,3,null,null,e)}function qt(){for(var e=arguments,t=e.length;t--;)if(!Fe(e[t]))throw new Rn;return function(){for(var t=arguments,n=e.length;n--;)t=[e[n].apply(this,t)];return t[0]}}function Xt(e,t){return t="number"==typeof t?t:+t||e.length,de(e,4,null,null,null,t)}function Yt(e,t,n){var r,o,i,a,s,l,u,c=0,p=!1,d=!0;if(!Fe(e))throw new Rn;if(t=nr(0,t)||0,n===!0){var f=!0;d=!1}else Le(n)&&(f=n.leading,p="maxWait"in n&&(nr(t,n.maxWait)||0),d="trailing"in n?n.trailing:d);var h=function(){var n=t-(Sr()-a);if(0>=n){o&&Bn(o);var p=u;o=l=u=y,p&&(c=Sr(),i=e.apply(s,r),l||o||(r=s=null))}else l=Hn(h,n)},g=function(){l&&Bn(l),o=l=u=y,(d||p!==t)&&(c=Sr(),i=e.apply(s,r),l||o||(r=s=null))};return function(){if(r=arguments,a=Sr(),s=this,u=d&&(l||!f),p===!1)var n=f&&!l;else{o||f||(c=a);var m=p-(a-c),v=0>=m;v?(o&&(o=Bn(o)),c=a,i=e.apply(s,r)):o||(o=Hn(g,m))}return v&&l?l=Bn(l):l||t===p||(l=Hn(h,t)),n&&(v=!0,i=e.apply(s,r)),!v||l||o||(r=s=null),i}}function Ht(e){if(!Fe(e))throw new Rn;var t=v(arguments,1);return Hn(function(){e.apply(y,t)},1)}function Gt(e,t){if(!Fe(e))throw new Rn;var n=v(arguments,2);return Hn(function(){e.apply(y,n)},t)}function Qt(e,t){if(!Fe(e))throw new Rn;var n=function(){var r=n.cache,o=t?t.apply(this,arguments):w+arguments[0];return qn.call(r,o)?r[o]:r[o]=e.apply(this,arguments)};return n.cache={},n}function Zt(e){var t,n;if(!Fe(e))throw new Rn;return function(){return t?n:(t=!0,n=e.apply(this,arguments),e=null,n)}}function Kt(e){return de(e,16,v(arguments,1))}function Jt(e){return de(e,32,null,v(arguments,1))}function $t(e,t,n){var r=!0,o=!0;if(!Fe(e))throw new Rn;return n===!1?r=!1:Le(n)&&(r="leading"in n?n.leading:r,o="trailing"in n?n.trailing:o),ee.leading=r,ee.maxWait=t,ee.trailing=o,Yt(e,t,ee)}function en(e,t){return de(t,16,[e])}function tn(e){return function(){return e}}function nn(e,t,n){var r=typeof e;if(null==e||"function"==r)return _(e,t,n);if("object"!=r)return un(e);var o=fr(e),i=o[0],a=e[i];return 1!=o.length||a!==a||Le(a)?function(t){for(var n=o.length,r=!1;n--&&(r=ae(t[o[n]],e[o[n]],null,!0)););return r}:function(e){var t=e[i];return a===t&&(0!==a||1/a==1/t)}}function rn(e){return null==e?"":Pn(e).replace(_r,he)}function on(e){return e}function an(e,r,o){var i=!0,a=r&&Me(r);r&&(o||a.length)||(null==o&&(o=r),s=n,r=e,e=t,a=Me(r)),o===!1?i=!1:Le(o)&&"chain"in o&&(i=o.chain);var s=e,l=Fe(s);rt(a,function(t){var n=e[t]=r[t];l&&(s.prototype[t]=function(){var t=this.__chain__,r=this.__wrapped__,o=[r];Xn.apply(o,arguments);var a=n.apply(e,o);if(i||t){if(r===a&&Le(a))return this;a=new s(a),a.__chain__=t}return a})})}function sn(){return e._=Fn,this}function ln(){}function un(e){return function(t){return t[e]}}function cn(e,t,n){var r=null==e,o=null==t;if(null==n&&("boolean"==typeof e&&o?(n=e,e=1):o||"boolean"!=typeof t||(n=t,o=!0)),r&&o&&(t=1),e=+e||0,o?(t=e,e=0):t=+t||0,n||e%1||t%1){var i=ir();return rr(e+i*(t-e+parseFloat("1e-"+((i+"").length-1))),t)}return le(e,t)}function pn(e,t){if(e){var n=e[t];return Fe(n)?e[t]():n}}function dn(e,n,r){var o=t.templateSettings;e=Pn(e||""),r=Cr({},r,o);var i,a=Cr({},r.imports,o.imports),s=fr(a),l=Ze(a),u=0,c=r.interpolate||L,d="__p += '",f=Nn((r.escape||L).source+"|"+c.source+"|"+(c===I?S:L).source+"|"+(r.evaluate||L).source+"|$","g");e.replace(f,function(t,n,r,o,a,s){return r||(r=o),d+=e.slice(u,s).replace(V,p),n&&(d+="' +\n__e("+n+") +\n'"),a&&(i=!0,d+="';\n"+a+";\n__p += '"),r&&(d+="' +\n((__t = ("+r+")) == null ? '' : __t) +\n'"),u=s+t.length,t}),d+="';\n";var h=r.variable,g=h;g||(h="obj",d="with ("+h+") {\n"+d+"\n}\n"),d=(i?d.replace(N,""):d).replace(P,"$1").replace(R,"$1;"),d="function("+h+") {\n"+(g?"":h+" || ("+h+" = {});\n")+"var __t, __p = '', __e = _.escape"+(i?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+d+"return __p\n}";var m="\n/*\n//# sourceURL="+(r.sourceURL||"/lodash/template/source["+W++ +"]")+"\n*/";try{var v=Dn(s,"return "+d+m).apply(y,l)}catch(b){throw b.source=d,b}return n?v(n):(v.source=d,v)}function fn(e,t,n){e=(e=+e)>-1?e:0;var r=-1,o=xn(e);for(t=_(t,n,1);++r<e;)o[r]=t(r);return o}function hn(e){return null==e?"":Pn(e).replace(yr,be)}function gn(e){var t=++E;return Pn(null==e?"":e)+t}function mn(e){return e=new n(e),e.__chain__=!0,e}function vn(e,t){return t(e),e}function bn(){return this.__chain__=!0,this}function yn(){return Pn(this.__wrapped__)}function _n(){return this.__wrapped__}e=e?ue.defaults(ie.Object(),e,ue.pick(ie,B)):ie;var xn=e.Array,En=e.Boolean,Cn=e.Date,wn=e.Error,Dn=e.Function,Tn=e.Math,Mn=e.Number,kn=e.Object,Nn=e.RegExp,Pn=e.String,Rn=e.TypeError,Sn=[],On=wn.prototype,An=kn.prototype,In=Pn.prototype,Fn=e._,Ln=An.toString,Un=Nn("^"+Pn(Ln).replace(/[.*+?^${}()|[\]\\]/g,"\\$&").replace(/toString| for [^\]]+/g,".*?")+"$"),Vn=Tn.ceil,Bn=e.clearTimeout,jn=Tn.floor,Wn=Dn.prototype.toString,zn=me(zn=kn.getPrototypeOf)&&zn,qn=An.hasOwnProperty,Xn=Sn.push,Yn=An.propertyIsEnumerable,Hn=e.setTimeout,Gn=Sn.splice,Qn=Sn.unshift,Zn=function(){try{var e={},t=me(t=kn.defineProperty)&&t,n=t(e,e,e)&&t}catch(r){}return n}(),Kn=me(Kn=kn.create)&&Kn,Jn=me(Jn=xn.isArray)&&Jn,$n=e.isFinite,er=e.isNaN,tr=me(tr=kn.keys)&&tr,nr=Tn.max,rr=Tn.min,or=e.parseInt,ir=Tn.random,ar={};ar[q]=xn,ar[X]=En,ar[Y]=Cn,ar[G]=Dn,ar[Z]=kn,ar[Q]=Mn,ar[K]=Nn,ar[J]=Pn;var sr={};sr[q]=sr[Y]=sr[Q]={constructor:!0,toLocaleString:!0,toString:!0,valueOf:!0},sr[X]=sr[J]={constructor:!0,toString:!0,valueOf:!0},sr[H]=sr[G]=sr[K]={constructor:!0,toString:!0},sr[Z]={constructor:!0},function(){for(var e=j.length;e--;){var t=j[e];for(var n in sr)qn.call(sr,n)&&!qn.call(sr[n],t)&&(sr[n][t]=!1)}}(),n.prototype=t.prototype;var lr=t.support={};!function(){var t=function(){this.x=1},n={0:1,length:1},r=[];t.prototype={valueOf:1,y:1};for(var o in new t)r.push(o);for(o in arguments);lr.argsClass=Ln.call(arguments)==z,lr.argsObject=arguments.constructor==kn&&!(arguments instanceof xn),lr.enumErrorProps=Yn.call(On,"message")||Yn.call(On,"name"),lr.enumPrototypes=Yn.call(t,"prototype"),lr.funcDecomp=!me(e.WinRTError)&&U.test(b),lr.funcNames="string"==typeof Dn.name,lr.nonEnumArgs=0!=o,lr.nonEnumShadows=!/valueOf/.test(r),lr.ownLast="x"!=r[0],lr.spliceObjects=(Sn.splice.call(n,0,1),!n[0]),lr.unindexedChars="x"[0]+kn("x")[0]!="xx";try{lr.nodeClass=!(Ln.call(document)==Z&&!({toString:0}+""))}catch(i){lr.nodeClass=!0}}(1),t.templateSettings={escape:/<%-([\s\S]+?)%>/g,evaluate:/<%([\s\S]+?)%>/g,interpolate:I,variable:"",imports:{_:t}};var ur=function(e){var t="var index, iterable = "+e.firstArg+", result = "+e.init+";\nif (!iterable) return result;\n"+e.top+";";e.array?(t+="\nvar length = iterable.length; index = -1;\nif ("+e.array+") {  ",lr.unindexedChars&&(t+="\n  if (isString(iterable)) {\n    iterable = iterable.split('')\n  }  "),t+="\n  while (++index < length) {\n    "+e.loop+";\n  }\n}\nelse {  "):lr.nonEnumArgs&&(t+="\n  var length = iterable.length; index = -1;\n  if (length && isArguments(iterable)) {\n    while (++index < length) {\n      index += '';\n      "+e.loop+";\n    }\n  } else {  "),lr.enumPrototypes&&(t+="\n  var skipProto = typeof iterable == 'function';\n  "),lr.enumErrorProps&&(t+="\n  var skipErrorProps = iterable === errorProto || iterable instanceof Error;\n  ");var n=[];if(lr.enumPrototypes&&n.push('!(skipProto && index == "prototype")'),lr.enumErrorProps&&n.push('!(skipErrorProps && (index == "message" || index == "name"))'),e.useHas&&e.keys)t+="\n  var ownIndex = -1,\n      ownProps = objectTypes[typeof iterable] && keys(iterable),\n      length = ownProps ? ownProps.length : 0;\n\n  while (++ownIndex < length) {\n    index = ownProps[ownIndex];\n",n.length&&(t+="    if ("+n.join(" && ")+") {\n  "),t+=e.loop+";    ",n.length&&(t+="\n    }"),t+="\n  }  ";else if(t+="\n  for (index in iterable) {\n",e.useHas&&n.push("hasOwnProperty.call(iterable, index)"),n.length&&(t+="    if ("+n.join(" && ")+") {\n  "),t+=e.loop+";    ",n.length&&(t+="\n    }"),t+="\n  }    ",lr.nonEnumShadows){for(t+="\n\n  if (iterable !== objectProto) {\n    var ctor = iterable.constructor,\n        isProto = iterable === (ctor && ctor.prototype),\n        className = iterable === stringProto ? stringClass : iterable === errorProto ? errorClass : toString.call(iterable),\n        nonEnum = nonEnumProps[className];\n      ",k=0;k<7;k++)t+="\n    index = '"+e.shadowedProps[k]+"';\n    if ((!(isProto && nonEnum[index]) && hasOwnProperty.call(iterable, index))",e.useHas||(t+=" || (!nonEnum[index] && iterable[index] !== objectProto[index])"),t+=") {\n      "+e.loop+";\n    }      ";t+="\n  }    "}return(e.array||lr.nonEnumArgs)&&(t+="\n}"),t+=e.bottom+";\nreturn result"};Kn||(s=function(){function t(){}return function(n){if(Le(n)){t.prototype=n;var r=new t;t.prototype=null}return r||e.Object()}}());var cr=Zn?function(e,t){te.value=t,Zn(e,"__bindData__",te),te.value=null}:ln;lr.argsClass||(ye=function(e){return e&&"object"==typeof e&&"number"==typeof e.length&&qn.call(e,"callee")&&!Yn.call(e,"callee")||!1});var pr=Jn||function(e){return e&&"object"==typeof e&&"number"==typeof e.length&&Ln.call(e)==q||!1},dr=fe({args:"object",init:"[]",top:"if (!(objectTypes[typeof object])) return result",loop:"result.push(index)"}),fr=tr?function(e){return Le(e)?lr.enumPrototypes&&"function"==typeof e||lr.nonEnumArgs&&e.length&&ye(e)?dr(e):tr(e):[]}:dr,hr={args:"collection, callback, thisArg",top:"callback = callback && typeof thisArg == 'undefined' ? callback : baseCreateCallback(callback, thisArg, 3)",array:"typeof length == 'number'",keys:fr,loop:"if (callback(iterable[index], index, collection) === false) return result"},gr={args:"object, source, guard",top:"var args = arguments,\n    argsIndex = 0,\n    argsLength = typeof guard == 'number' ? 2 : args.length;\nwhile (++argsIndex < argsLength) {\n  iterable = args[argsIndex];\n  if (iterable && objectTypes[typeof iterable]) {",keys:fr,loop:"if (typeof result[index] == 'undefined') result[index] = iterable[index]",bottom:"  }\n}"},mr={top:"if (!objectTypes[typeof iterable]) return result;\n"+hr.top,array:!1},vr={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},br=Ne(vr),yr=Nn("("+fr(br).join("|")+")","g"),_r=Nn("["+fr(vr).join("")+"]","g"),xr=fe(hr),Er=fe(gr,{top:gr.top.replace(";",";\nif (argsLength > 3 && typeof args[argsLength - 2] == 'function') {\n  var callback = baseCreateCallback(args[--argsLength - 1], args[argsLength--], 2);\n} else if (argsLength > 2 && typeof args[argsLength - 1] == 'function') {\n  callback = args[--argsLength];\n}"),loop:"result[index] = callback ? callback(result[index], iterable[index]) : iterable[index]"}),Cr=fe(gr),wr=fe(hr,mr,{useHas:!1}),Dr=fe(hr,mr);Fe(/x/)&&(Fe=function(e){return"function"==typeof e&&Ln.call(e)==G});var Tr=zn?function(e){if(!e||Ln.call(e)!=Z||!lr.argsClass&&ye(e))return!1;var t=e.valueOf,n=me(t)&&(n=zn(t))&&zn(n);return n?e==n||zn(e)==n:ve(e)}:ve,Mr=pe(function(e,t,n){qn.call(e,n)?e[n]++:e[n]=1}),kr=pe(function(e,t,n){(qn.call(e,n)?e[n]:e[n]=[]).push(t)}),Nr=pe(function(e,t,n){e[n]=t}),Pr=at,Rr=et,Sr=me(Sr=Cn.now)&&Sr||function(){return(new Cn).getTime()},Or=8==or(M+"08")?or:function(e,t){return or(We(e)?e.replace(F,""):e,t||0)};return t.after=Bt,t.assign=Er,t.at=Ke,t.bind=jt,t.bindAll=Wt,t.bindKey=zt,t.chain=mn,t.compact=bt,t.compose=qt,t.constant=tn,t.countBy=Mr,t.create=Ee,t.createCallback=nn,t.curry=Xt,t.debounce=Yt,t.defaults=Cr,t.defer=Ht,t.delay=Gt,t.difference=yt,t.filter=et,t.flatten=Ct,t.forEach=rt,t.forEachRight=ot,t.forIn=wr,t.forInRight=De,t.forOwn=Dr,t.forOwnRight=Te,t.functions=Me,t.groupBy=kr,t.indexBy=Nr,t.initial=Dt,t.intersection=Tt,t.invert=Ne,t.invoke=it,t.keys=fr,t.map=at,t.mapValues=qe,t.max=st,t.memoize=Qt,t.merge=Xe,t.min=lt,t.omit=Ye,t.once=Zt,t.pairs=He,t.partial=Kt,t.partialRight=Jt,t.pick=Ge,t.pluck=Pr,t.property=un,t.pull=Nt,t.range=Pt,t.reject=pt,t.remove=Rt,t.rest=St,t.shuffle=ft,t.sortBy=mt,t.tap=vn,t.throttle=$t,t.times=fn,t.toArray=vt,t.transform=Qe,t.union=At,t.uniq=It,t.values=Ze,t.where=Rr,t.without=Ft,t.wrap=en,t.xor=Lt,t.zip=Ut,t.zipObject=Vt,t.collect=at,t.drop=St,t.each=rt,t.eachRight=ot,t.extend=Er,t.methods=Me,t.object=Vt,t.select=et,t.tail=St,t.unique=It,t.unzip=Ut,an(t),t.clone=_e,t.cloneDeep=xe,t.contains=Je,t.escape=rn,t.every=$e,t.find=tt,t.findIndex=_t,t.findKey=Ce,t.findLast=nt,t.findLastIndex=xt,t.findLastKey=we,t.has=ke,t.identity=on,t.indexOf=wt,t.isArguments=ye,t.isArray=pr,t.isBoolean=Pe,t.isDate=Re,t.isElement=Se,t.isEmpty=Oe,t.isEqual=Ae,t.isFinite=Ie,t.isFunction=Fe,t.isNaN=Ue,t.isNull=Ve,t.isNumber=Be,t.isObject=Le,t.isPlainObject=Tr,t.isRegExp=je,t.isString=We,t.isUndefined=ze,t.lastIndexOf=kt,t.mixin=an,t.noConflict=sn,t.noop=ln,t.now=Sr,t.parseInt=Or,t.random=cn,t.reduce=ut,t.reduceRight=ct,t.result=pn,t.runInContext=b,t.size=ht,t.some=gt,t.sortedIndex=Ot,t.template=dn,t.unescape=hn,t.uniqueId=gn,t.all=$e,t.any=gt,t.detect=tt,t.findWhere=tt,t.foldl=ut,t.foldr=ct,
t.include=Je,t.inject=ut,an(function(){var e={};return Dr(t,function(n,r){t.prototype[r]||(e[r]=n)}),e}(),!1),t.first=Et,t.last=Mt,t.sample=dt,t.take=Et,t.head=Et,Dr(t,function(e,r){var o="sample"!==r;t.prototype[r]||(t.prototype[r]=function(t,r){var i=this.__chain__,a=e(this.__wrapped__,t,r);return i||null!=t&&(!r||o&&"function"==typeof t)?new n(a,i):a})}),t.VERSION="2.4.2",t.prototype.chain=bn,t.prototype.toString=yn,t.prototype.value=_n,t.prototype.valueOf=_n,xr(["join","pop","shift"],function(e){var r=Sn[e];t.prototype[e]=function(){var e=this.__chain__,t=r.apply(this.__wrapped__,arguments);return e?new n(t,e):t}}),xr(["push","reverse","sort","unshift"],function(e){var n=Sn[e];t.prototype[e]=function(){return n.apply(this.__wrapped__,arguments),this}}),xr(["concat","slice","splice"],function(e){var r=Sn[e];t.prototype[e]=function(){return new n(r.apply(this.__wrapped__,arguments),this.__chain__)}}),lr.spliceObjects||xr(["pop","shift","splice"],function(e){var r=Sn[e],o="splice"==e;t.prototype[e]=function(){var e=this.__chain__,t=this.__wrapped__,i=r.apply(t,arguments);return 0===t.length&&delete t[0],e||o?new n(i,e):i}}),t}var y,_=[],x=[],E=0,C={},w=+new Date+"",D=75,T=40,M=" 	\x0B\f \ufeff\n\r\u2028\u2029 ᠎             　",N=/\b__p \+= '';/g,P=/\b(__p \+=) '' \+/g,R=/(__e\(.*?\)|\b__t\)) \+\n'';/g,S=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,O=/\w*$/,A=/^\s*function[ \n\r\t]+\w/,I=/<%=([\s\S]+?)%>/g,F=RegExp("^["+M+"]*0+(?=.$)"),L=/($^)/,U=/\bthis\b/,V=/['\n\r\t\u2028\u2029\\]/g,B=["Array","Boolean","Date","Error","Function","Math","Number","Object","RegExp","String","_","attachEvent","clearTimeout","isFinite","isNaN","parseInt","setTimeout"],j=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"],W=0,z="[object Arguments]",q="[object Array]",X="[object Boolean]",Y="[object Date]",H="[object Error]",G="[object Function]",Q="[object Number]",Z="[object Object]",K="[object RegExp]",J="[object String]",$={};$[G]=!1,$[z]=$[q]=$[X]=$[Y]=$[Q]=$[Z]=$[K]=$[J]=!0;var ee={leading:!1,maxWait:0,trailing:!1},te={configurable:!1,enumerable:!1,value:null,writable:!1},ne={args:"",array:null,bottom:"",firstArg:"",init:"",keys:null,loop:"",shadowedProps:null,support:null,top:"",useHas:!1},re={"boolean":!1,"function":!0,object:!0,number:!1,string:!1,undefined:!1},oe={"\\":"\\","'":"'","\n":"n","\r":"r","	":"t","\u2028":"u2028","\u2029":"u2029"},ie=re[typeof window]&&window||this,ae=re[typeof t]&&t&&!t.nodeType&&t,se=re[typeof e]&&e&&!e.nodeType&&e,le=(se&&se.exports===ae&&ae,re[typeof o]&&o);!le||le.global!==le&&le.window!==le||(ie=le);var ue=b();ie._=ue,r=function(){return ue}.call(t,n,t,e),!(r!==y&&(e.exports=r))}).call(this)}).call(t,n(106)(e),function(){return this}())}]);